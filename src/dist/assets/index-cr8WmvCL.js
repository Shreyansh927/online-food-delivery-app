(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function y0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vf={exports:{}},_l={},Mf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function pI(){if(a_)return Ne;a_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function k(V,J,pe){this.props=V,this.context=J,this.refs=O,this.updater=pe||C}k.prototype.isReactComponent={},k.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=k.prototype;function F(V,J,pe){this.props=V,this.context=J,this.refs=O,this.updater=pe||C}var j=F.prototype=new $;j.constructor=F,A(j,k.prototype),j.isPureReactComponent=!0;var H=Array.isArray,ee=Object.prototype.hasOwnProperty,le={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function R(V,J,pe){var ve,ue={},Pe=null,ze=null;if(J!=null)for(ve in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Pe=""+J.key),J)ee.call(J,ve)&&!b.hasOwnProperty(ve)&&(ue[ve]=J[ve]);var $e=arguments.length-2;if($e===1)ue.children=pe;else if(1<$e){for(var Ge=Array($e),kt=0;kt<$e;kt++)Ge[kt]=arguments[kt+2];ue.children=Ge}if(V&&V.defaultProps)for(ve in $e=V.defaultProps,$e)ue[ve]===void 0&&(ue[ve]=$e[ve]);return{$$typeof:n,type:V,key:Pe,ref:ze,props:ue,_owner:le.current}}function P(V,J){return{$$typeof:n,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function U(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return J[pe]})}var z=/\/+/g;function N(V,J){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):J.toString(36)}function Je(V,J,pe,ve,ue){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Pe){case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case n:case e:ze=!0}}if(ze)return ze=V,ue=ue(ze),V=ve===""?"."+N(ze,0):ve,H(ue)?(pe="",V!=null&&(pe=V.replace(z,"$&/")+"/"),Je(ue,J,pe,"",function(kt){return kt})):ue!=null&&(L(ue)&&(ue=P(ue,pe+(!ue.key||ze&&ze.key===ue.key?"":(""+ue.key).replace(z,"$&/")+"/")+V)),J.push(ue)),1;if(ze=0,ve=ve===""?".":ve+":",H(V))for(var $e=0;$e<V.length;$e++){Pe=V[$e];var Ge=ve+N(Pe,$e);ze+=Je(Pe,J,pe,Ge,ue)}else if(Ge=T(V),typeof Ge=="function")for(V=Ge.call(V),$e=0;!(Pe=V.next()).done;)Pe=Pe.value,Ge=ve+N(Pe,$e++),ze+=Je(Pe,J,pe,Ge,ue);else if(Pe==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function tt(V,J,pe){if(V==null)return V;var ve=[],ue=0;return Je(V,ve,"","",function(Pe){return J.call(pe,Pe,ue++)}),ve}function dt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Ve={current:null},oe={transition:null},_e={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:oe,ReactCurrentOwner:le};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:tt,forEach:function(V,J,pe){tt(V,function(){J.apply(this,arguments)},pe)},count:function(V){var J=0;return tt(V,function(){J++}),J},toArray:function(V){return tt(V,function(J){return J})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=k,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=F,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,Ne.act=Y,Ne.cloneElement=function(V,J,pe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ve=A({},V.props),ue=V.key,Pe=V.ref,ze=V._owner;if(J!=null){if(J.ref!==void 0&&(Pe=J.ref,ze=le.current),J.key!==void 0&&(ue=""+J.key),V.type&&V.type.defaultProps)var $e=V.type.defaultProps;for(Ge in J)ee.call(J,Ge)&&!b.hasOwnProperty(Ge)&&(ve[Ge]=J[Ge]===void 0&&$e!==void 0?$e[Ge]:J[Ge])}var Ge=arguments.length-2;if(Ge===1)ve.children=pe;else if(1<Ge){$e=Array(Ge);for(var kt=0;kt<Ge;kt++)$e[kt]=arguments[kt+2];ve.children=$e}return{$$typeof:n,type:V.type,key:ue,ref:Pe,props:ve,_owner:ze}},Ne.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ne.createElement=R,Ne.createFactory=function(V){var J=R.bind(null,V);return J.type=V,J},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:d,render:V}},Ne.isValidElement=L,Ne.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:dt}},Ne.memo=function(V,J){return{$$typeof:m,type:V,compare:J===void 0?null:J}},Ne.startTransition=function(V){var J=oe.transition;oe.transition={};try{V()}finally{oe.transition=J}},Ne.unstable_act=Y,Ne.useCallback=function(V,J){return Ve.current.useCallback(V,J)},Ne.useContext=function(V){return Ve.current.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V){return Ve.current.useDeferredValue(V)},Ne.useEffect=function(V,J){return Ve.current.useEffect(V,J)},Ne.useId=function(){return Ve.current.useId()},Ne.useImperativeHandle=function(V,J,pe){return Ve.current.useImperativeHandle(V,J,pe)},Ne.useInsertionEffect=function(V,J){return Ve.current.useInsertionEffect(V,J)},Ne.useLayoutEffect=function(V,J){return Ve.current.useLayoutEffect(V,J)},Ne.useMemo=function(V,J){return Ve.current.useMemo(V,J)},Ne.useReducer=function(V,J,pe){return Ve.current.useReducer(V,J,pe)},Ne.useRef=function(V){return Ve.current.useRef(V)},Ne.useState=function(V){return Ve.current.useState(V)},Ne.useSyncExternalStore=function(V,J,pe){return Ve.current.useSyncExternalStore(V,J,pe)},Ne.useTransition=function(){return Ve.current.useTransition()},Ne.version="18.3.1",Ne}var l_;function Ph(){return l_||(l_=1,Mf.exports=pI()),Mf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function mI(){if(u_)return _l;u_=1;var n=Ph(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var _,w={},T=null,C=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var c_;function gI(){return c_||(c_=1,Vf.exports=mI()),Vf.exports}var I=gI(),M=Ph();const Be=y0(M);var bc={},Uf={exports:{}},hn={},Ff={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function yI(){return h_||(h_=1,function(n){function e(oe,_e){var Y=oe.length;oe.push(_e);e:for(;0<Y;){var V=Y-1>>>1,J=oe[V];if(0<o(J,_e))oe[V]=_e,oe[Y]=J,Y=V;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var _e=oe[0],Y=oe.pop();if(Y!==_e){oe[0]=Y;e:for(var V=0,J=oe.length,pe=J>>>1;V<pe;){var ve=2*(V+1)-1,ue=oe[ve],Pe=ve+1,ze=oe[Pe];if(0>o(ue,Y))Pe<J&&0>o(ze,ue)?(oe[V]=ze,oe[Pe]=Y,V=Pe):(oe[V]=ue,oe[ve]=Y,V=ve);else if(Pe<J&&0>o(ze,Y))oe[V]=ze,oe[Pe]=Y,V=Pe;else break e}}return _e}function o(oe,_e){var Y=oe.sortIndex-_e.sortIndex;return Y!==0?Y:oe.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],_=1,w=null,T=3,C=!1,A=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(oe){for(var _e=t(m);_e!==null;){if(_e.callback===null)r(m);else if(_e.startTime<=oe)r(m),_e.sortIndex=_e.expirationTime,e(f,_e);else break;_e=t(m)}}function H(oe){if(O=!1,j(oe),!A)if(t(f)!==null)A=!0,dt(ee);else{var _e=t(m);_e!==null&&Ve(H,_e.startTime-oe)}}function ee(oe,_e){A=!1,O&&(O=!1,$(R),R=-1),C=!0;var Y=T;try{for(j(_e),w=t(f);w!==null&&(!(w.expirationTime>_e)||oe&&!U());){var V=w.callback;if(typeof V=="function"){w.callback=null,T=w.priorityLevel;var J=V(w.expirationTime<=_e);_e=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&r(f),j(_e)}else r(f);w=t(f)}if(w!==null)var pe=!0;else{var ve=t(m);ve!==null&&Ve(H,ve.startTime-_e),pe=!1}return pe}finally{w=null,T=Y,C=!1}}var le=!1,b=null,R=-1,P=5,L=-1;function U(){return!(n.unstable_now()-L<P)}function z(){if(b!==null){var oe=n.unstable_now();L=oe;var _e=!0;try{_e=b(!0,oe)}finally{_e?N():(le=!1,b=null)}}else le=!1}var N;if(typeof F=="function")N=function(){F(z)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,tt=Je.port2;Je.port1.onmessage=z,N=function(){tt.postMessage(null)}}else N=function(){k(z,0)};function dt(oe){b=oe,le||(le=!0,N())}function Ve(oe,_e){R=k(function(){oe(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){A||C||(A=!0,dt(ee))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var Y=T;T=_e;try{return oe()}finally{T=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,_e){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Y=T;T=oe;try{return _e()}finally{T=Y}},n.unstable_scheduleCallback=function(oe,_e,Y){var V=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?V+Y:V):Y=V,oe){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,oe={id:_++,callback:_e,priorityLevel:oe,startTime:Y,expirationTime:J,sortIndex:-1},Y>V?(oe.sortIndex=Y,e(m,oe),t(f)===null&&oe===t(m)&&(O?($(R),R=-1):O=!0,Ve(H,Y-V))):(oe.sortIndex=J,e(f,oe),A||C||(A=!0,dt(ee))),oe},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(oe){var _e=T;return function(){var Y=T;T=_e;try{return oe.apply(this,arguments)}finally{T=Y}}}}(jf)),jf}var d_;function _I(){return d_||(d_=1,Ff.exports=yI()),Ff.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function vI(){if(f_)return hn;f_=1;var n=Ph(),e=_I();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(s){return f.call(w,s)?!0:f.call(_,s)?!1:m.test(s)?w[s]=!0:(_[s]=!0,!1)}function C(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,i,l,h){if(i===null||typeof i>"u"||C(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function O(s,i,l,h,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new O(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new O(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new O(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new O(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new O(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new O(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new O(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new O(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new O(s,5,!1,s.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace($,F);k[i]=new O(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace($,F);k[i]=new O(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace($,F);k[i]=new O(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new O(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new O(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,i,l,h){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(A(i,l,p,h)&&(l=null),h||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),le=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),oe=Symbol.iterator;function _e(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Object.assign,V;function J(s){if(V===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+s}var pe=!1;function ve(s,i){if(!s||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(G){var h=G}Reflect.construct(s,[],i)}else{try{i.call()}catch(G){h=G}s.call(i.prototype)}else{try{throw Error()}catch(G){h=G}s()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,x=y.length-1;1<=E&&0<=x&&p[E]!==y[x];)x--;for(;1<=E&&0<=x;E--,x--)if(p[E]!==y[x]){if(E!==1||x!==1)do if(E--,x--,0>x||p[E]!==y[x]){var D=`
`+p[E].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=E&&0<=x);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?J(s):""}function ue(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=ve(s.type,!1),s;case 11:return s=ve(s.type.render,!1),s;case 1:return s=ve(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case le:return"Portal";case P:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case Je:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case z:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case tt:return i=s.displayName||null,i!==null?i:Pe(s.type)||"Memo";case dt:i=s._payload,s=s._init;try{return Pe(s(i))}catch{}}return null}function ze(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ge(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kt(s){var i=Ge(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Vr(s){s._valueTracker||(s._valueTracker=kt(s))}function to(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ge(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function ds(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ai(s,i){var l=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function no(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=$e(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Sa(s,i){i=i.checked,i!=null&&j(s,"checked",i,!1)}function Ra(s,i){Sa(s,i);var l=$e(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ro(s,i.type,l):i.hasOwnProperty("defaultValue")&&ro(s,i.type,$e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function yu(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ro(s,i,l){(i!=="number"||ds(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Mr=Array.isArray;function Ur(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+$e(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Ca(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function so(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Mr(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:$e(l)}}function io(s,i){var l=$e(i.value),h=$e(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function Aa(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Tt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Tt(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Fr,Pa=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Fr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function fs(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(s){ui.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),li[i]=li[s]})});function ka(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||li.hasOwnProperty(s)&&li[s]?(""+i).trim():i+"px"}function xa(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=ka(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var Na=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(s,i){if(i){if(Na[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Oa(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function oo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ao=null,xn=null,ar=null;function lo(s){if(s=rl(s)){if(typeof ao!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Ku(i),ao(s.stateNode,s.type,i))}}function lr(s){xn?ar?ar.push(s):ar=[s]:xn=s}function Da(){if(xn){var s=xn,i=ar;if(ar=xn=null,lo(s),i)for(s=0;s<i.length;s++)lo(i[s])}}function hi(s,i){return s(i)}function La(){}var jr=!1;function Va(s,i,l){if(jr)return s(i,l);jr=!0;try{return hi(s,i,l)}finally{jr=!1,(xn!==null||ar!==null)&&(La(),Da())}}function ft(s,i){var l=s.stateNode;if(l===null)return null;var h=Ku(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var uo=!1;if(d)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{uo=!1}function di(s,i,l,h,p,y,E,x,D){var G=Array.prototype.slice.call(arguments,3);try{i.apply(l,G)}catch(re){this.onError(re)}}var fi=!1,co=null,$n=!1,Ma=null,ud={onError:function(s){fi=!0,co=s}};function ho(s,i,l,h,p,y,E,x,D){fi=!1,co=null,di.apply(ud,arguments)}function _u(s,i,l,h,p,y,E,x,D){if(ho.apply(this,arguments),fi){if(fi){var G=co;fi=!1,co=null}else throw Error(t(198));$n||($n=!0,Ma=G)}}function Hn(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function pi(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function qn(s){if(Hn(s)!==s)throw Error(t(188))}function vu(s){var i=s.alternate;if(!i){if(i=Hn(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return qn(p),s;if(y===h)return qn(p),i;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,h=y;break}if(x===h){E=!0,h=p,l=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===l){E=!0,l=y,h=p;break}if(x===h){E=!0,h=y,l=p;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Ua(s){return s=vu(s),s!==null?fo(s):null}function fo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=fo(s);if(i!==null)return i;s=s.sibling}return null}var po=e.unstable_scheduleCallback,Fa=e.unstable_cancelCallback,wu=e.unstable_shouldYield,cd=e.unstable_requestPaint,Qe=e.unstable_now,Eu=e.unstable_getCurrentPriorityLevel,mi=e.unstable_ImmediatePriority,ps=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,Tu=e.unstable_IdlePriority,gi=null,yn=null;function Iu(s){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(gi,s,void 0,(s.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Ru,Ba=Math.log,Su=Math.LN2;function Ru(s){return s>>>=0,s===0?32:31-(Ba(s)/Su|0)|0}var mo=64,go=4194304;function ms(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function yi(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,y=s.pingedLanes,E=l&268435455;if(E!==0){var x=E&~p;x!==0?h=ms(x):(y&=E,y!==0&&(h=ms(y)))}else E=l&~p,E!==0?h=ms(E):y!==0&&(h=ms(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-Jt(i),p=1<<l,h|=s[l],i&=~p;return h}function hd(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var E=31-Jt(y),x=1<<E,D=p[E];D===-1?((x&l)===0||(x&h)!==0)&&(p[E]=hd(x,i)):D<=i&&(s.expiredLanes|=x),y&=~x}}function _n(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _i(){var s=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),s}function gs(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ys(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Jt(i),s[i]=l}function We(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-Jt(l),y=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~y}}function _s(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-Jt(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var Le=0;function vs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Cu,yo,Au,Pu,ku,za=!1,ur=[],Lt=null,Wn=null,Kn=null,ws=new Map,bn=new Map,cr=[],dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(s,i){switch(s){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":ws.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(i.pointerId)}}function rn(s,i,l,h,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=rl(i),i!==null&&yo(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function fd(s,i,l,h,p){switch(i){case"focusin":return Lt=rn(Lt,s,i,l,h,p),!0;case"dragenter":return Wn=rn(Wn,s,i,l,h,p),!0;case"mouseover":return Kn=rn(Kn,s,i,l,h,p),!0;case"pointerover":var y=p.pointerId;return ws.set(y,rn(ws.get(y)||null,s,i,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,bn.set(y,rn(bn.get(y)||null,s,i,l,h,p)),!0}return!1}function Nu(s){var i=Ii(s.target);if(i!==null){var l=Hn(i);if(l!==null){if(i=l.tag,i===13){if(i=pi(l),i!==null){s.blockedOn=i,ku(s.priority,function(){Au(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function zr(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=_o(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);ci=h,l.target.dispatchEvent(h),ci=null}else return i=rl(l),i!==null&&yo(i),s.blockedOn=l,!1;i.shift()}return!0}function vi(s,i,l){zr(s)&&l.delete(i)}function bu(){za=!1,Lt!==null&&zr(Lt)&&(Lt=null),Wn!==null&&zr(Wn)&&(Wn=null),Kn!==null&&zr(Kn)&&(Kn=null),ws.forEach(vi),bn.forEach(vi)}function Gn(s,i){s.blockedOn===i&&(s.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bu)))}function Qn(s){function i(p){return Gn(p,s)}if(0<ur.length){Gn(ur[0],s);for(var l=1;l<ur.length;l++){var h=ur[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Lt!==null&&Gn(Lt,s),Wn!==null&&Gn(Wn,s),Kn!==null&&Gn(Kn,s),ws.forEach(i),bn.forEach(i),l=0;l<cr.length;l++)h=cr[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)Nu(l),l.blockedOn===null&&cr.shift()}var $r=H.ReactCurrentBatchConfig,Es=!0;function nt(s,i,l,h){var p=Le,y=$r.transition;$r.transition=null;try{Le=1,$a(s,i,l,h)}finally{Le=p,$r.transition=y}}function pd(s,i,l,h){var p=Le,y=$r.transition;$r.transition=null;try{Le=4,$a(s,i,l,h)}finally{Le=p,$r.transition=y}}function $a(s,i,l,h){if(Es){var p=_o(s,i,l,h);if(p===null)Rd(s,i,h,wi,l),xu(s,h);else if(fd(p,s,i,l,h))h.stopPropagation();else if(xu(s,h),i&4&&-1<dd.indexOf(s)){for(;p!==null;){var y=rl(p);if(y!==null&&Cu(y),y=_o(s,i,l,h),y===null&&Rd(s,i,h,wi,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Rd(s,i,h,null,l)}}var wi=null;function _o(s,i,l,h){if(wi=null,s=oo(h),s=Ii(s),s!==null)if(i=Hn(s),i===null)s=null;else if(l=i.tag,l===13){if(s=pi(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return wi=s,null}function Ha(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eu()){case mi:return 1;case ps:return 4;case Nn:case ja:return 16;case Tu:return 536870912;default:return 16}default:return 16}}var vn=null,vo=null,sn=null;function qa(){if(sn)return sn;var s,i=vo,l=i.length,h,p="value"in vn?vn.value:vn.textContent,y=p.length;for(s=0;s<l&&i[s]===p[s];s++);var E=l-s;for(h=1;h<=E&&i[l-h]===p[y-h];h++);return sn=p.slice(s,1<h?1-h:void 0)}function wo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function hr(){return!0}function Wa(){return!1}function Vt(s){function i(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in s)s.hasOwnProperty(x)&&(l=s[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:Wa,this.isPropagationStopped=Wa,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),i}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=Vt(Xn),dr=Y({},Xn,{view:0,detail:0}),md=Vt(dr),To,Hr,Ts,Ei=Y({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ts&&(Ts&&s.type==="mousemove"?(To=s.screenX-Ts.screenX,Hr=s.screenY-Ts.screenY):Hr=To=0,Ts=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Hr}}),Io=Vt(Ei),Ka=Y({},Ei,{dataTransfer:0}),Ou=Vt(Ka),So=Y({},dr,{relatedTarget:0}),Ro=Vt(So),Du=Y({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),qr=Vt(Du),Lu=Y({},Xn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vu=Vt(Lu),Mu=Y({},Xn,{data:0}),Ga=Vt(Mu),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Uu[s])?!!i[s]:!1}function fr(){return Fu}var c=Y({},dr,{key:function(s){if(s.key){var i=Co[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=wo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(s){return s.type==="keypress"?wo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?wo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=Vt(c),v=Y({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Vt(v),q=Y({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),Q=Vt(q),ae=Y({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Vt(ae),St=Y({},Ei,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Vt(St),xt=[9,13,27,32],gt=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var wn=d&&"TextEvent"in window&&!On,Ti=d&&(!gt||On&&8<On&&11>=On),Ao=" ",tg=!1;function ng(s,i){switch(s){case"keyup":return xt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Po=!1;function h1(s,i){switch(s){case"compositionend":return rg(i);case"keypress":return i.which!==32?null:(tg=!0,Ao);case"textInput":return s=i.data,s===Ao&&tg?null:s;default:return null}}function d1(s,i){if(Po)return s==="compositionend"||!gt&&ng(s,i)?(s=qa(),sn=vo=vn=null,Po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!f1[s.type]:i==="textarea"}function ig(s,i,l,h){lr(h),i=Hu(i,"onChange"),0<i.length&&(l=new Eo("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var Qa=null,Xa=null;function p1(s){Ig(s,0)}function ju(s){var i=Oo(s);if(to(i))return s}function m1(s,i){if(s==="change")return i}var og=!1;if(d){var gd;if(d){var yd="oninput"in document;if(!yd){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),yd=typeof ag.oninput=="function"}gd=yd}else gd=!1;og=gd&&(!document.documentMode||9<document.documentMode)}function lg(){Qa&&(Qa.detachEvent("onpropertychange",ug),Xa=Qa=null)}function ug(s){if(s.propertyName==="value"&&ju(Xa)){var i=[];ig(i,Xa,s,oo(s)),Va(p1,i)}}function g1(s,i,l){s==="focusin"?(lg(),Qa=i,Xa=l,Qa.attachEvent("onpropertychange",ug)):s==="focusout"&&lg()}function y1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ju(Xa)}function _1(s,i){if(s==="click")return ju(i)}function v1(s,i){if(s==="input"||s==="change")return ju(i)}function w1(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Jn=typeof Object.is=="function"?Object.is:w1;function Ja(s,i){if(Jn(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!Jn(s[p],i[p]))return!1}return!0}function cg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hg(s,i){var l=cg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cg(l)}}function dg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?dg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function fg(){for(var s=window,i=ds();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=ds(s.document)}return i}function _d(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function E1(s){var i=fg(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&dg(l.ownerDocument.documentElement,l)){if(h!==null&&_d(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!s.extend&&y>h&&(p=h,h=y,y=p),p=hg(l,y);var E=hg(l,h);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),y>h?(s.addRange(i),s.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var T1=d&&"documentMode"in document&&11>=document.documentMode,ko=null,vd=null,Ya=null,wd=!1;function pg(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wd||ko==null||ko!==ds(h)||(h=ko,"selectionStart"in h&&_d(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ya&&Ja(Ya,h)||(Ya=h,h=Hu(vd,"onSelect"),0<h.length&&(i=new Eo("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=ko)))}function Bu(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var xo={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Ed={},mg={};d&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function zu(s){if(Ed[s])return Ed[s];if(!xo[s])return s;var i=xo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in mg)return Ed[s]=i[l];return s}var gg=zu("animationend"),yg=zu("animationiteration"),_g=zu("animationstart"),vg=zu("transitionend"),wg=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(s,i){wg.set(s,i),a(i,[s])}for(var Td=0;Td<Eg.length;Td++){var Id=Eg[Td],I1=Id.toLowerCase(),S1=Id[0].toUpperCase()+Id.slice(1);Is(I1,"on"+S1)}Is(gg,"onAnimationEnd"),Is(yg,"onAnimationIteration"),Is(_g,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(vg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Tg(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,_u(h,i,void 0,s),s.currentTarget=null}function Ig(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var E=h.length-1;0<=E;E--){var x=h[E],D=x.instance,G=x.currentTarget;if(x=x.listener,D!==y&&p.isPropagationStopped())break e;Tg(p,x,G),y=D}else for(E=0;E<h.length;E++){if(x=h[E],D=x.instance,G=x.currentTarget,x=x.listener,D!==y&&p.isPropagationStopped())break e;Tg(p,x,G),y=D}}}if($n)throw s=Ma,$n=!1,Ma=null,s}function Ye(s,i){var l=i[Nd];l===void 0&&(l=i[Nd]=new Set);var h=s+"__bubble";l.has(h)||(Sg(i,s,2,!1),l.add(h))}function Sd(s,i,l){var h=0;i&&(h|=4),Sg(l,s,h,i)}var $u="_reactListening"+Math.random().toString(36).slice(2);function el(s){if(!s[$u]){s[$u]=!0,r.forEach(function(l){l!=="selectionchange"&&(R1.has(l)||Sd(l,!1,s),Sd(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[$u]||(i[$u]=!0,Sd("selectionchange",!1,i))}}function Sg(s,i,l,h){switch(Ha(i)){case 1:var p=nt;break;case 4:p=pd;break;default:p=$a}l=p.bind(null,i,l,s),p=void 0,!uo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function Rd(s,i,l,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var x=h.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;E=E.return}for(;x!==null;){if(E=Ii(x),E===null)return;if(D=E.tag,D===5||D===6){h=y=E;continue e}x=x.parentNode}}h=h.return}Va(function(){var G=y,re=oo(l),se=[];e:{var te=wg.get(s);if(te!==void 0){var ce=Eo,fe=s;switch(s){case"keypress":if(wo(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":fe="focus",ce=Ro;break;case"focusout":fe="blur",ce=Ro;break;case"beforeblur":case"afterblur":ce=Ro;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case gg:case yg:case _g:ce=qr;break;case vg:ce=qe;break;case"scroll":ce=md;break;case"wheel":ce=Me;break;case"copy":case"cut":case"paste":ce=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var me=(i&4)!==0,pt=!me&&s==="scroll",W=me?te!==null?te+"Capture":null:te;me=[];for(var B=G,K;B!==null;){K=B;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,W!==null&&(ie=ft(B,W),ie!=null&&me.push(tl(B,ie,K)))),pt)break;B=B.return}0<me.length&&(te=new ce(te,fe,null,l,re),se.push({event:te,listeners:me}))}}if((i&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&l!==ci&&(fe=l.relatedTarget||l.fromElement)&&(Ii(fe)||fe[Wr]))break e;if((ce||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=l.relatedTarget||l.toElement,ce=G,fe=fe?Ii(fe):null,fe!==null&&(pt=Hn(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=G),ce!==fe)){if(me=Io,ie="onMouseLeave",W="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(me=S,ie="onPointerLeave",W="onPointerEnter",B="pointer"),pt=ce==null?te:Oo(ce),K=fe==null?te:Oo(fe),te=new me(ie,B+"leave",ce,l,re),te.target=pt,te.relatedTarget=K,ie=null,Ii(re)===G&&(me=new me(W,B+"enter",fe,l,re),me.target=K,me.relatedTarget=pt,ie=me),pt=ie,ce&&fe)t:{for(me=ce,W=fe,B=0,K=me;K;K=No(K))B++;for(K=0,ie=W;ie;ie=No(ie))K++;for(;0<B-K;)me=No(me),B--;for(;0<K-B;)W=No(W),K--;for(;B--;){if(me===W||W!==null&&me===W.alternate)break t;me=No(me),W=No(W)}me=null}else me=null;ce!==null&&Rg(se,te,ce,me,!1),fe!==null&&pt!==null&&Rg(se,pt,fe,me,!0)}}e:{if(te=G?Oo(G):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ge=m1;else if(sg(te))if(og)ge=v1;else{ge=y1;var we=g1}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=_1);if(ge&&(ge=ge(s,G))){ig(se,ge,l,re);break e}we&&we(s,te,G),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&ro(te,"number",te.value)}switch(we=G?Oo(G):window,s){case"focusin":(sg(we)||we.contentEditable==="true")&&(ko=we,vd=G,Ya=null);break;case"focusout":Ya=vd=ko=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,pg(se,l,re);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":pg(se,l,re)}var Ee;if(gt)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Po?ng(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Ti&&l.locale!=="ko"&&(Po||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Po&&(Ee=qa()):(vn=re,vo="value"in vn?vn.value:vn.textContent,Po=!0)),we=Hu(G,Re),0<we.length&&(Re=new Ga(Re,s,null,l,re),se.push({event:Re,listeners:we}),Ee?Re.data=Ee:(Ee=rg(l),Ee!==null&&(Re.data=Ee)))),(Ee=wn?h1(s,l):d1(s,l))&&(G=Hu(G,"onBeforeInput"),0<G.length&&(re=new Ga("onBeforeInput","beforeinput",null,l,re),se.push({event:re,listeners:G}),re.data=Ee))}Ig(se,i)})}function tl(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Hu(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ft(s,l),y!=null&&h.unshift(tl(s,y,p)),y=ft(s,i),y!=null&&h.push(tl(s,y,p))),s=s.return}return h}function No(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Rg(s,i,l,h,p){for(var y=i._reactName,E=[];l!==null&&l!==h;){var x=l,D=x.alternate,G=x.stateNode;if(D!==null&&D===h)break;x.tag===5&&G!==null&&(x=G,p?(D=ft(l,y),D!=null&&E.unshift(tl(l,D,x))):p||(D=ft(l,y),D!=null&&E.push(tl(l,D,x)))),l=l.return}E.length!==0&&s.push({event:i,listeners:E})}var C1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Cg(s){return(typeof s=="string"?s:""+s).replace(C1,`
`).replace(A1,"")}function qu(s,i,l){if(i=Cg(i),Cg(s)!==i&&l)throw Error(t(425))}function Wu(){}var Cd=null,Ad=null;function Pd(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(s){return Ag.resolve(null).then(s).catch(x1)}:kd;function x1(s){setTimeout(function(){throw s})}function xd(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),Qn(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Qn(i)}function Ss(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Pg(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var bo=Math.random().toString(36).slice(2),pr="__reactFiber$"+bo,nl="__reactProps$"+bo,Wr="__reactContainer$"+bo,Nd="__reactEvents$"+bo,N1="__reactListeners$"+bo,b1="__reactHandles$"+bo;function Ii(s){var i=s[pr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[Wr]||l[pr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=Pg(s);s!==null;){if(l=s[pr])return l;s=Pg(s)}return i}s=l,l=s.parentNode}return null}function rl(s){return s=s[pr]||s[Wr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Ku(s){return s[nl]||null}var bd=[],Do=-1;function Rs(s){return{current:s}}function Ze(s){0>Do||(s.current=bd[Do],bd[Do]=null,Do--)}function Xe(s,i){Do++,bd[Do]=s.current,s.current=i}var Cs={},zt=Rs(Cs),on=Rs(!1),Si=Cs;function Lo(s,i){var l=s.type.contextTypes;if(!l)return Cs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=i[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function an(s){return s=s.childContextTypes,s!=null}function Gu(){Ze(on),Ze(zt)}function kg(s,i,l){if(zt.current!==Cs)throw Error(t(168));Xe(zt,i),Xe(on,l)}function xg(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,ze(s)||"Unknown",p));return Y({},l,h)}function Qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Cs,Si=zt.current,Xe(zt,s),Xe(on,on.current),!0}function Ng(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=xg(s,i,Si),h.__reactInternalMemoizedMergedChildContext=s,Ze(on),Ze(zt),Xe(zt,s)):Ze(on),Xe(on,l)}var Kr=null,Xu=!1,Od=!1;function bg(s){Kr===null?Kr=[s]:Kr.push(s)}function O1(s){Xu=!0,bg(s)}function As(){if(!Od&&Kr!==null){Od=!0;var s=0,i=Le;try{var l=Kr;for(Le=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Kr=null,Xu=!1}catch(p){throw Kr!==null&&(Kr=Kr.slice(s+1)),po(mi,As),p}finally{Le=i,Od=!1}}return null}var Vo=[],Mo=0,Ju=null,Yu=0,Dn=[],Ln=0,Ri=null,Gr=1,Qr="";function Ci(s,i){Vo[Mo++]=Yu,Vo[Mo++]=Ju,Ju=s,Yu=i}function Og(s,i,l){Dn[Ln++]=Gr,Dn[Ln++]=Qr,Dn[Ln++]=Ri,Ri=s;var h=Gr;s=Qr;var p=32-Jt(h)-1;h&=~(1<<p),l+=1;var y=32-Jt(i)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Gr=1<<32-Jt(i)+p|l<<p|h,Qr=y+s}else Gr=1<<y|l<<p|h,Qr=s}function Dd(s){s.return!==null&&(Ci(s,1),Og(s,1,0))}function Ld(s){for(;s===Ju;)Ju=Vo[--Mo],Vo[Mo]=null,Yu=Vo[--Mo],Vo[Mo]=null;for(;s===Ri;)Ri=Dn[--Ln],Dn[Ln]=null,Qr=Dn[--Ln],Dn[Ln]=null,Gr=Dn[--Ln],Dn[Ln]=null}var En=null,Tn=null,rt=!1,Yn=null;function Dg(s,i){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function Lg(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,En=s,Tn=Ss(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,En=s,Tn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Ri!==null?{id:Gr,overflow:Qr}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,En=s,Tn=null,!0):!1;default:return!1}}function Vd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Md(s){if(rt){var i=Tn;if(i){var l=i;if(!Lg(s,i)){if(Vd(s))throw Error(t(418));i=Ss(l.nextSibling);var h=En;i&&Lg(s,i)?Dg(h,l):(s.flags=s.flags&-4097|2,rt=!1,En=s)}}else{if(Vd(s))throw Error(t(418));s.flags=s.flags&-4097|2,rt=!1,En=s}}}function Vg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;En=s}function Zu(s){if(s!==En)return!1;if(!rt)return Vg(s),rt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Pd(s.type,s.memoizedProps)),i&&(i=Tn)){if(Vd(s))throw Mg(),Error(t(418));for(;i;)Dg(s,i),i=Ss(i.nextSibling)}if(Vg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Tn=Ss(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Tn=null}}else Tn=En?Ss(s.stateNode.nextSibling):null;return!0}function Mg(){for(var s=Tn;s;)s=Ss(s.nextSibling)}function Uo(){Tn=En=null,rt=!1}function Ud(s){Yn===null?Yn=[s]:Yn.push(s)}var D1=H.ReactCurrentBatchConfig;function sl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,y=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var x=p.refs;E===null?delete x[y]:x[y]=E},i._stringRef=y,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function ec(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Ug(s){var i=s._init;return i(s._payload)}function Fg(s){function i(W,B){if(s){var K=W.deletions;K===null?(W.deletions=[B],W.flags|=16):K.push(B)}}function l(W,B){if(!s)return null;for(;B!==null;)i(W,B),B=B.sibling;return null}function h(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function p(W,B){return W=Ls(W,B),W.index=0,W.sibling=null,W}function y(W,B,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<B?(W.flags|=2,B):K):(W.flags|=2,B)):(W.flags|=1048576,B)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function x(W,B,K,ie){return B===null||B.tag!==6?(B=xf(K,W.mode,ie),B.return=W,B):(B=p(B,K),B.return=W,B)}function D(W,B,K,ie){var ge=K.type;return ge===b?re(W,B,K.props.children,ie,K.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===dt&&Ug(ge)===B.type)?(ie=p(B,K.props),ie.ref=sl(W,B,K),ie.return=W,ie):(ie=Sc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=sl(W,B,K),ie.return=W,ie)}function G(W,B,K,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Nf(K,W.mode,ie),B.return=W,B):(B=p(B,K.children||[]),B.return=W,B)}function re(W,B,K,ie,ge){return B===null||B.tag!==7?(B=Di(K,W.mode,ie,ge),B.return=W,B):(B=p(B,K),B.return=W,B)}function se(W,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=xf(""+B,W.mode,K),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ee:return K=Sc(B.type,B.key,B.props,null,W.mode,K),K.ref=sl(W,null,B),K.return=W,K;case le:return B=Nf(B,W.mode,K),B.return=W,B;case dt:var ie=B._init;return se(W,ie(B._payload),K)}if(Mr(B)||_e(B))return B=Di(B,W.mode,K,null),B.return=W,B;ec(W,B)}return null}function te(W,B,K,ie){var ge=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ge!==null?null:x(W,B,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:return K.key===ge?D(W,B,K,ie):null;case le:return K.key===ge?G(W,B,K,ie):null;case dt:return ge=K._init,te(W,B,ge(K._payload),ie)}if(Mr(K)||_e(K))return ge!==null?null:re(W,B,K,ie,null);ec(W,K)}return null}function ce(W,B,K,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(K)||null,x(B,W,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ee:return W=W.get(ie.key===null?K:ie.key)||null,D(B,W,ie,ge);case le:return W=W.get(ie.key===null?K:ie.key)||null,G(B,W,ie,ge);case dt:var we=ie._init;return ce(W,B,K,we(ie._payload),ge)}if(Mr(ie)||_e(ie))return W=W.get(K)||null,re(B,W,ie,ge,null);ec(B,ie)}return null}function fe(W,B,K,ie){for(var ge=null,we=null,Ee=B,Re=B=0,Ot=null;Ee!==null&&Re<K.length;Re++){Ee.index>Re?(Ot=Ee,Ee=null):Ot=Ee.sibling;var je=te(W,Ee,K[Re],ie);if(je===null){Ee===null&&(Ee=Ot);break}s&&Ee&&je.alternate===null&&i(W,Ee),B=y(je,B,Re),we===null?ge=je:we.sibling=je,we=je,Ee=Ot}if(Re===K.length)return l(W,Ee),rt&&Ci(W,Re),ge;if(Ee===null){for(;Re<K.length;Re++)Ee=se(W,K[Re],ie),Ee!==null&&(B=y(Ee,B,Re),we===null?ge=Ee:we.sibling=Ee,we=Ee);return rt&&Ci(W,Re),ge}for(Ee=h(W,Ee);Re<K.length;Re++)Ot=ce(Ee,W,Re,K[Re],ie),Ot!==null&&(s&&Ot.alternate!==null&&Ee.delete(Ot.key===null?Re:Ot.key),B=y(Ot,B,Re),we===null?ge=Ot:we.sibling=Ot,we=Ot);return s&&Ee.forEach(function(Vs){return i(W,Vs)}),rt&&Ci(W,Re),ge}function me(W,B,K,ie){var ge=_e(K);if(typeof ge!="function")throw Error(t(150));if(K=ge.call(K),K==null)throw Error(t(151));for(var we=ge=null,Ee=B,Re=B=0,Ot=null,je=K.next();Ee!==null&&!je.done;Re++,je=K.next()){Ee.index>Re?(Ot=Ee,Ee=null):Ot=Ee.sibling;var Vs=te(W,Ee,je.value,ie);if(Vs===null){Ee===null&&(Ee=Ot);break}s&&Ee&&Vs.alternate===null&&i(W,Ee),B=y(Vs,B,Re),we===null?ge=Vs:we.sibling=Vs,we=Vs,Ee=Ot}if(je.done)return l(W,Ee),rt&&Ci(W,Re),ge;if(Ee===null){for(;!je.done;Re++,je=K.next())je=se(W,je.value,ie),je!==null&&(B=y(je,B,Re),we===null?ge=je:we.sibling=je,we=je);return rt&&Ci(W,Re),ge}for(Ee=h(W,Ee);!je.done;Re++,je=K.next())je=ce(Ee,W,Re,je.value,ie),je!==null&&(s&&je.alternate!==null&&Ee.delete(je.key===null?Re:je.key),B=y(je,B,Re),we===null?ge=je:we.sibling=je,we=je);return s&&Ee.forEach(function(fI){return i(W,fI)}),rt&&Ci(W,Re),ge}function pt(W,B,K,ie){if(typeof K=="object"&&K!==null&&K.type===b&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case ee:e:{for(var ge=K.key,we=B;we!==null;){if(we.key===ge){if(ge=K.type,ge===b){if(we.tag===7){l(W,we.sibling),B=p(we,K.props.children),B.return=W,W=B;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===dt&&Ug(ge)===we.type){l(W,we.sibling),B=p(we,K.props),B.ref=sl(W,we,K),B.return=W,W=B;break e}l(W,we);break}else i(W,we);we=we.sibling}K.type===b?(B=Di(K.props.children,W.mode,ie,K.key),B.return=W,W=B):(ie=Sc(K.type,K.key,K.props,null,W.mode,ie),ie.ref=sl(W,B,K),ie.return=W,W=ie)}return E(W);case le:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(W,B.sibling),B=p(B,K.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else i(W,B);B=B.sibling}B=Nf(K,W.mode,ie),B.return=W,W=B}return E(W);case dt:return we=K._init,pt(W,B,we(K._payload),ie)}if(Mr(K))return fe(W,B,K,ie);if(_e(K))return me(W,B,K,ie);ec(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(W,B.sibling),B=p(B,K),B.return=W,W=B):(l(W,B),B=xf(K,W.mode,ie),B.return=W,W=B),E(W)):l(W,B)}return pt}var Fo=Fg(!0),jg=Fg(!1),tc=Rs(null),nc=null,jo=null,Fd=null;function jd(){Fd=jo=nc=null}function Bd(s){var i=tc.current;Ze(tc),s._currentValue=i}function zd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function Bo(s,i){nc=s,Fd=jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(ln=!0),s.firstContext=null)}function Vn(s){var i=s._currentValue;if(Fd!==s)if(s={context:s,memoizedValue:i,next:null},jo===null){if(nc===null)throw Error(t(308));jo=s,nc.dependencies={lanes:0,firstContext:s}}else jo=jo.next=s;return i}var Ai=null;function $d(s){Ai===null?Ai=[s]:Ai.push(s)}function Bg(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,$d(i)):(l.next=p.next,p.next=l),i.interleaved=l,Xr(s,h)}function Xr(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ps=!1;function Hd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jr(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function ks(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Fe&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Xr(s,l)}return p=h.interleaved,p===null?(i.next=i,$d(h)):(i.next=p.next,p.next=i),h.interleaved=i,Xr(s,l)}function rc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,_s(s,l)}}function $g(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=i:y=y.next=i}else p=y=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function sc(s,i,l,h){var p=s.updateQueue;Ps=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var D=x,G=D.next;D.next=null,E===null?y=G:E.next=G,E=D;var re=s.alternate;re!==null&&(re=re.updateQueue,x=re.lastBaseUpdate,x!==E&&(x===null?re.firstBaseUpdate=G:x.next=G,re.lastBaseUpdate=D))}if(y!==null){var se=p.baseState;E=0,re=G=D=null,x=y;do{var te=x.lane,ce=x.eventTime;if((h&te)===te){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var fe=s,me=x;switch(te=i,ce=l,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){se=fe.call(ce,se,te);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,te=typeof fe=="function"?fe.call(ce,se,te):fe,te==null)break e;se=Y({},se,te);break e;case 2:Ps=!0}}x.callback!==null&&x.lane!==0&&(s.flags|=64,te=p.effects,te===null?p.effects=[x]:te.push(x))}else ce={eventTime:ce,lane:te,tag:x.tag,payload:x.payload,callback:x.callback,next:null},re===null?(G=re=ce,D=se):re=re.next=ce,E|=te;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;te=x,x=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);if(re===null&&(D=se),p.baseState=D,p.firstBaseUpdate=G,p.lastBaseUpdate=re,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);xi|=E,s.lanes=E,s.memoizedState=se}}function Hg(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var il={},mr=Rs(il),ol=Rs(il),al=Rs(il);function Pi(s){if(s===il)throw Error(t(174));return s}function qd(s,i){switch(Xe(al,i),Xe(ol,s),Xe(mr,il),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:It(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=It(i,s)}Ze(mr),Xe(mr,i)}function zo(){Ze(mr),Ze(ol),Ze(al)}function qg(s){Pi(al.current);var i=Pi(mr.current),l=It(i,s.type);i!==l&&(Xe(ol,s),Xe(mr,l))}function Wd(s){ol.current===s&&(Ze(mr),Ze(ol))}var st=Rs(0);function ic(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kd=[];function Gd(){for(var s=0;s<Kd.length;s++)Kd[s]._workInProgressVersionPrimary=null;Kd.length=0}var oc=H.ReactCurrentDispatcher,Qd=H.ReactCurrentBatchConfig,ki=0,it=null,Rt=null,Nt=null,ac=!1,ll=!1,ul=0,L1=0;function $t(){throw Error(t(321))}function Xd(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!Jn(s[l],i[l]))return!1;return!0}function Jd(s,i,l,h,p,y){if(ki=y,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,oc.current=s===null||s.memoizedState===null?F1:j1,s=l(h,p),ll){y=0;do{if(ll=!1,ul=0,25<=y)throw Error(t(301));y+=1,Nt=Rt=null,i.updateQueue=null,oc.current=B1,s=l(h,p)}while(ll)}if(oc.current=cc,i=Rt!==null&&Rt.next!==null,ki=0,Nt=Rt=it=null,ac=!1,i)throw Error(t(300));return s}function Yd(){var s=ul!==0;return ul=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?it.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function Mn(){if(Rt===null){var s=it.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var i=Nt===null?it.memoizedState:Nt.next;if(i!==null)Nt=i,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Nt===null?it.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}function cl(s,i){return typeof i=="function"?i(s):i}function Zd(s){var i=Mn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Rt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var x=E=null,D=null,G=y;do{var re=G.lane;if((ki&re)===re)D!==null&&(D=D.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:s(h,G.action);else{var se={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};D===null?(x=D=se,E=h):D=D.next=se,it.lanes|=re,xi|=re}G=G.next}while(G!==null&&G!==y);D===null?E=h:D.next=x,Jn(h,i.memoizedState)||(ln=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=D,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do y=p.lane,it.lanes|=y,xi|=y,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function ef(s){var i=Mn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,y=i.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=s(y,E.action),E=E.next;while(E!==p);Jn(y,i.memoizedState)||(ln=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,h]}function Wg(){}function Kg(s,i){var l=it,h=Mn(),p=i(),y=!Jn(h.memoizedState,p);if(y&&(h.memoizedState=p,ln=!0),h=h.queue,tf(Xg.bind(null,l,h,s),[s]),h.getSnapshot!==i||y||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,hl(9,Qg.bind(null,l,h,p,i),void 0,null),bt===null)throw Error(t(349));(ki&30)!==0||Gg(l,i,p)}return p}function Gg(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Qg(s,i,l,h){i.value=l,i.getSnapshot=h,Jg(i)&&Yg(s)}function Xg(s,i,l){return l(function(){Jg(i)&&Yg(s)})}function Jg(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!Jn(s,l)}catch{return!0}}function Yg(s){var i=Xr(s,1);i!==null&&nr(i,s,1,-1)}function Zg(s){var i=gr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:s},i.queue=s,s=s.dispatch=U1.bind(null,it,s),[i.memoizedState,s]}function hl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function ey(){return Mn().memoizedState}function lc(s,i,l,h){var p=gr();it.flags|=s,p.memoizedState=hl(1|i,l,void 0,h===void 0?null:h)}function uc(s,i,l,h){var p=Mn();h=h===void 0?null:h;var y=void 0;if(Rt!==null){var E=Rt.memoizedState;if(y=E.destroy,h!==null&&Xd(h,E.deps)){p.memoizedState=hl(i,l,y,h);return}}it.flags|=s,p.memoizedState=hl(1|i,l,y,h)}function ty(s,i){return lc(8390656,8,s,i)}function tf(s,i){return uc(2048,8,s,i)}function ny(s,i){return uc(4,2,s,i)}function ry(s,i){return uc(4,4,s,i)}function sy(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function iy(s,i,l){return l=l!=null?l.concat([s]):null,uc(4,4,sy.bind(null,i,s),l)}function nf(){}function oy(s,i){var l=Mn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Xd(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function ay(s,i){var l=Mn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Xd(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function ly(s,i,l){return(ki&21)===0?(s.baseState&&(s.baseState=!1,ln=!0),s.memoizedState=l):(Jn(l,i)||(l=_i(),it.lanes|=l,xi|=l,s.baseState=!0),i)}function V1(s,i){var l=Le;Le=l!==0&&4>l?l:4,s(!0);var h=Qd.transition;Qd.transition={};try{s(!1),i()}finally{Le=l,Qd.transition=h}}function uy(){return Mn().memoizedState}function M1(s,i,l){var h=Os(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},cy(s))hy(i,l);else if(l=Bg(s,i,l,h),l!==null){var p=en();nr(l,s,h,p),dy(l,i,h)}}function U1(s,i,l){var h=Os(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(cy(s))hy(i,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,x=y(E,l);if(p.hasEagerState=!0,p.eagerState=x,Jn(x,E)){var D=i.interleaved;D===null?(p.next=p,$d(i)):(p.next=D.next,D.next=p),i.interleaved=p;return}}catch{}finally{}l=Bg(s,i,p,h),l!==null&&(p=en(),nr(l,s,h,p),dy(l,i,h))}}function cy(s){var i=s.alternate;return s===it||i!==null&&i===it}function hy(s,i){ll=ac=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function dy(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,_s(s,l)}}var cc={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},F1={readContext:Vn,useCallback:function(s,i){return gr().memoizedState=[s,i===void 0?null:i],s},useContext:Vn,useEffect:ty,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,lc(4194308,4,sy.bind(null,i,s),l)},useLayoutEffect:function(s,i){return lc(4194308,4,s,i)},useInsertionEffect:function(s,i){return lc(4,2,s,i)},useMemo:function(s,i){var l=gr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=gr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=M1.bind(null,it,s),[h.memoizedState,s]},useRef:function(s){var i=gr();return s={current:s},i.memoizedState=s},useState:Zg,useDebugValue:nf,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Zg(!1),i=s[0];return s=V1.bind(null,s[1]),gr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=it,p=gr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),bt===null)throw Error(t(349));(ki&30)!==0||Gg(h,i,l)}p.memoizedState=l;var y={value:l,getSnapshot:i};return p.queue=y,ty(Xg.bind(null,h,y,s),[s]),h.flags|=2048,hl(9,Qg.bind(null,h,y,l,i),void 0,null),l},useId:function(){var s=gr(),i=bt.identifierPrefix;if(rt){var l=Qr,h=Gr;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=ul++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=L1++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},j1={readContext:Vn,useCallback:oy,useContext:Vn,useEffect:tf,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:Zd,useRef:ey,useState:function(){return Zd(cl)},useDebugValue:nf,useDeferredValue:function(s){var i=Mn();return ly(i,Rt.memoizedState,s)},useTransition:function(){var s=Zd(cl)[0],i=Mn().memoizedState;return[s,i]},useMutableSource:Wg,useSyncExternalStore:Kg,useId:uy,unstable_isNewReconciler:!1},B1={readContext:Vn,useCallback:oy,useContext:Vn,useEffect:tf,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:ef,useRef:ey,useState:function(){return ef(cl)},useDebugValue:nf,useDeferredValue:function(s){var i=Mn();return Rt===null?i.memoizedState=s:ly(i,Rt.memoizedState,s)},useTransition:function(){var s=ef(cl)[0],i=Mn().memoizedState;return[s,i]},useMutableSource:Wg,useSyncExternalStore:Kg,useId:uy,unstable_isNewReconciler:!1};function Zn(s,i){if(s&&s.defaultProps){i=Y({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function rf(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:Y({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var hc={isMounted:function(s){return(s=s._reactInternals)?Hn(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=en(),p=Os(s),y=Jr(h,p);y.payload=i,l!=null&&(y.callback=l),i=ks(s,y,p),i!==null&&(nr(i,s,p,h),rc(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=en(),p=Os(s),y=Jr(h,p);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=ks(s,y,p),i!==null&&(nr(i,s,p,h),rc(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=en(),h=Os(s),p=Jr(l,h);p.tag=2,i!=null&&(p.callback=i),i=ks(s,p,h),i!==null&&(nr(i,s,h,l),rc(i,s,h))}};function fy(s,i,l,h,p,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,E):i.prototype&&i.prototype.isPureReactComponent?!Ja(l,h)||!Ja(p,y):!0}function py(s,i,l){var h=!1,p=Cs,y=i.contextType;return typeof y=="object"&&y!==null?y=Vn(y):(p=an(i)?Si:zt.current,h=i.contextTypes,y=(h=h!=null)?Lo(s,p):Cs),i=new i(l,y),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=hc,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),i}function my(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&hc.enqueueReplaceState(i,i.state,null)}function sf(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},Hd(s);var y=i.contextType;typeof y=="object"&&y!==null?p.context=Vn(y):(y=an(i)?Si:zt.current,p.context=Lo(s,y)),p.state=s.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(rf(s,i,y,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&hc.enqueueReplaceState(p,p.state,null),sc(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function $o(s,i){try{var l="",h=i;do l+=ue(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:i,stack:p,digest:null}}function of(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function af(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var z1=typeof WeakMap=="function"?WeakMap:Map;function gy(s,i,l){l=Jr(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){_c||(_c=!0,Tf=h),af(s,i)},l}function yy(s,i,l){l=Jr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){af(s,i)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){af(s,i),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),l}function _y(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new z1;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=nI.bind(null,s,i,l),i.then(s,s))}function vy(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function wy(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Jr(-1,1),i.tag=2,ks(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var $1=H.ReactCurrentOwner,ln=!1;function Zt(s,i,l,h){i.child=s===null?jg(i,null,l,h):Fo(i,s.child,l,h)}function Ey(s,i,l,h,p){l=l.render;var y=i.ref;return Bo(i,p),h=Jd(s,i,l,h,y,p),l=Yd(),s!==null&&!ln?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Yr(s,i,p)):(rt&&l&&Dd(i),i.flags|=1,Zt(s,i,h,p),i.child)}function Ty(s,i,l,h,p){if(s===null){var y=l.type;return typeof y=="function"&&!kf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=y,Iy(s,i,y,h,p)):(s=Sc(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(y=s.child,(s.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(E,h)&&s.ref===i.ref)return Yr(s,i,p)}return i.flags|=1,s=Ls(y,h),s.ref=i.ref,s.return=i,i.child=s}function Iy(s,i,l,h,p){if(s!==null){var y=s.memoizedProps;if(Ja(y,h)&&s.ref===i.ref)if(ln=!1,i.pendingProps=h=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(ln=!0);else return i.lanes=s.lanes,Yr(s,i,p)}return lf(s,i,l,h,p)}function Sy(s,i,l){var h=i.pendingProps,p=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(qo,In),In|=l;else{if((l&1073741824)===0)return s=y!==null?y.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Xe(qo,In),In|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Xe(qo,In),In|=h}else y!==null?(h=y.baseLanes|l,i.memoizedState=null):h=l,Xe(qo,In),In|=h;return Zt(s,i,p,l),i.child}function Ry(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function lf(s,i,l,h,p){var y=an(l)?Si:zt.current;return y=Lo(i,y),Bo(i,p),l=Jd(s,i,l,h,y,p),h=Yd(),s!==null&&!ln?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,Yr(s,i,p)):(rt&&h&&Dd(i),i.flags|=1,Zt(s,i,l,p),i.child)}function Cy(s,i,l,h,p){if(an(l)){var y=!0;Qu(i)}else y=!1;if(Bo(i,p),i.stateNode===null)fc(s,i),py(i,l,h),sf(i,l,h,p),h=!0;else if(s===null){var E=i.stateNode,x=i.memoizedProps;E.props=x;var D=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Vn(G):(G=an(l)?Si:zt.current,G=Lo(i,G));var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==h||D!==G)&&my(i,E,h,G),Ps=!1;var te=i.memoizedState;E.state=te,sc(i,h,E,p),D=i.memoizedState,x!==h||te!==D||on.current||Ps?(typeof re=="function"&&(rf(i,l,re,h),D=i.memoizedState),(x=Ps||fy(i,l,x,h,te,D,G))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),E.props=h,E.state=D,E.context=G,h=x):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,zg(s,i),x=i.memoizedProps,G=i.type===i.elementType?x:Zn(i.type,x),E.props=G,se=i.pendingProps,te=E.context,D=l.contextType,typeof D=="object"&&D!==null?D=Vn(D):(D=an(l)?Si:zt.current,D=Lo(i,D));var ce=l.getDerivedStateFromProps;(re=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==se||te!==D)&&my(i,E,h,D),Ps=!1,te=i.memoizedState,E.state=te,sc(i,h,E,p);var fe=i.memoizedState;x!==se||te!==fe||on.current||Ps?(typeof ce=="function"&&(rf(i,l,ce,h),fe=i.memoizedState),(G=Ps||fy(i,l,G,h,te,fe,D)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,fe,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,fe,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=fe),E.props=h,E.state=fe,E.context=D,h=G):(typeof E.componentDidUpdate!="function"||x===s.memoizedProps&&te===s.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&te===s.memoizedState||(i.flags|=1024),h=!1)}return uf(s,i,l,h,y,p)}function uf(s,i,l,h,p,y){Ry(s,i);var E=(i.flags&128)!==0;if(!h&&!E)return p&&Ng(i,l,!1),Yr(s,i,y);h=i.stateNode,$1.current=i;var x=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&E?(i.child=Fo(i,s.child,null,y),i.child=Fo(i,null,x,y)):Zt(s,i,x,y),i.memoizedState=h.state,p&&Ng(i,l,!0),i.child}function Ay(s){var i=s.stateNode;i.pendingContext?kg(s,i.pendingContext,i.pendingContext!==i.context):i.context&&kg(s,i.context,!1),qd(s,i.containerInfo)}function Py(s,i,l,h,p){return Uo(),Ud(p),i.flags|=256,Zt(s,i,l,h),i.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function hf(s){return{baseLanes:s,cachePool:null,transitions:null}}function ky(s,i,l){var h=i.pendingProps,p=st.current,y=!1,E=(i.flags&128)!==0,x;if((x=E)||(x=s!==null&&s.memoizedState===null?!1:(p&2)!==0),x?(y=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),Xe(st,p&1),s===null)return Md(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,s=h.fallback,y?(h=i.mode,y=i.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Rc(E,h,0,null),s=Di(s,h,l,null),y.return=i,s.return=i,y.sibling=s,i.child=y,i.child.memoizedState=hf(l),i.memoizedState=cf,s):df(i,E));if(p=s.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return H1(s,i,E,h,x,p,l);if(y){y=h.fallback,E=i.mode,p=s.child,x=p.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=Ls(p,D),h.subtreeFlags=p.subtreeFlags&14680064),x!==null?y=Ls(x,y):(y=Di(y,E,l,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,E=s.child.memoizedState,E=E===null?hf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=s.childLanes&~l,i.memoizedState=cf,h}return y=s.child,s=y.sibling,h=Ls(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function df(s,i){return i=Rc({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function dc(s,i,l,h){return h!==null&&Ud(h),Fo(i,s.child,null,l),s=df(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function H1(s,i,l,h,p,y,E){if(l)return i.flags&256?(i.flags&=-257,h=of(Error(t(422))),dc(s,i,E,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=Rc({mode:"visible",children:h.children},p,0,null),y=Di(y,p,E,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Fo(i,s.child,null,E),i.child.memoizedState=hf(E),i.memoizedState=cf,y);if((i.mode&1)===0)return dc(s,i,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=of(y,h,void 0),dc(s,i,E,h)}if(x=(E&s.childLanes)!==0,ln||x){if(h=bt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Xr(s,p),nr(h,s,p,-1))}return Pf(),h=of(Error(t(421))),dc(s,i,E,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=rI.bind(null,s),p._reactRetry=i,null):(s=y.treeContext,Tn=Ss(p.nextSibling),En=i,rt=!0,Yn=null,s!==null&&(Dn[Ln++]=Gr,Dn[Ln++]=Qr,Dn[Ln++]=Ri,Gr=s.id,Qr=s.overflow,Ri=i),i=df(i,h.children),i.flags|=4096,i)}function xy(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),zd(s.return,i,l)}function ff(s,i,l,h,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Ny(s,i,l){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(Zt(s,i,h.children,l),h=st.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xy(s,l,i);else if(s.tag===19)xy(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Xe(st,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&ic(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),ff(i,!1,p,l,y);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&ic(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}ff(i,!0,l,null,y);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fc(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Yr(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),xi|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Ls(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ls(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function q1(s,i,l){switch(i.tag){case 3:Ay(i),Uo();break;case 5:qg(i);break;case 1:an(i.type)&&Qu(i);break;case 4:qd(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Xe(tc,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Xe(st,st.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?ky(s,i,l):(Xe(st,st.current&1),s=Yr(s,i,l),s!==null?s.sibling:null);Xe(st,st.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return Ny(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Xe(st,st.current),h)break;return null;case 22:case 23:return i.lanes=0,Sy(s,i,l)}return Yr(s,i,l)}var by,pf,Oy,Dy;by=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},pf=function(){},Oy=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,Pi(mr.current);var y=null;switch(l){case"input":p=ai(s,p),h=ai(s,h),y=[];break;case"select":p=Y({},p,{value:void 0}),h=Y({},h,{value:void 0}),y=[];break;case"textarea":p=Ca(s,p),h=Ca(s,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Wu)}ba(l,h);var E;l=null;for(G in p)if(!h.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var x=p[G];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in h){var D=h[G];if(x=p?.[G],h.hasOwnProperty(G)&&D!==x&&(D!=null||x!=null))if(G==="style")if(x){for(E in x)!x.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in D)D.hasOwnProperty(E)&&x[E]!==D[E]&&(l||(l={}),l[E]=D[E])}else l||(y||(y=[]),y.push(G,l)),l=D;else G==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,x=x?x.__html:void 0,D!=null&&x!==D&&(y=y||[]).push(G,D)):G==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(G,""+D):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(D!=null&&G==="onScroll"&&Ye("scroll",s),y||x===D||(y=[])):(y=y||[]).push(G,D))}l&&(y=y||[]).push("style",l);var G=y;(i.updateQueue=G)&&(i.flags|=4)}},Dy=function(s,i,l,h){l!==h&&(i.flags|=4)};function dl(s,i){if(!rt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ht(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function W1(s,i,l){var h=i.pendingProps;switch(Ld(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return an(i.type)&&Gu(),Ht(i),null;case 3:return h=i.stateNode,zo(),Ze(on),Ze(zt),Gd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Zu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Rf(Yn),Yn=null))),pf(s,i),Ht(i),null;case 5:Wd(i);var p=Pi(al.current);if(l=i.type,s!==null&&i.stateNode!=null)Oy(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ht(i),null}if(s=Pi(mr.current),Zu(i)){h=i.stateNode,l=i.type;var y=i.memoizedProps;switch(h[pr]=i,h[nl]=y,s=(i.mode&1)!==0,l){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(p=0;p<Za.length;p++)Ye(Za[p],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":no(h,y),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ye("invalid",h);break;case"textarea":so(h,y),Ye("invalid",h)}ba(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var x=y[E];E==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&qu(h.textContent,x,s),p=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&qu(h.textContent,x,s),p=["children",""+x]):o.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&Ye("scroll",h)}switch(l){case"input":Vr(h),yu(h,y,!0);break;case"textarea":Vr(h),Aa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Wu)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Tt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(l,{is:h.is}):(s=E.createElement(l),l==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,l),s[pr]=i,s[nl]=h,by(s,i,!1,!1),i.stateNode=s;e:{switch(E=Oa(l,h),l){case"dialog":Ye("cancel",s),Ye("close",s),p=h;break;case"iframe":case"object":case"embed":Ye("load",s),p=h;break;case"video":case"audio":for(p=0;p<Za.length;p++)Ye(Za[p],s);p=h;break;case"source":Ye("error",s),p=h;break;case"img":case"image":case"link":Ye("error",s),Ye("load",s),p=h;break;case"details":Ye("toggle",s),p=h;break;case"input":no(s,h),p=ai(s,h),Ye("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=Y({},h,{value:void 0}),Ye("invalid",s);break;case"textarea":so(s,h),p=Ca(s,h),Ye("invalid",s);break;default:p=h}ba(l,p),x=p;for(y in x)if(x.hasOwnProperty(y)){var D=x[y];y==="style"?xa(s,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Pa(s,D)):y==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&fs(s,D):typeof D=="number"&&fs(s,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&Ye("scroll",s):D!=null&&j(s,y,D,E))}switch(l){case"input":Vr(s),yu(s,h,!1);break;case"textarea":Vr(s),Aa(s);break;case"option":h.value!=null&&s.setAttribute("value",""+$e(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Ur(s,!!h.multiple,y,!1):h.defaultValue!=null&&Ur(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Wu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ht(i),null;case 6:if(s&&i.stateNode!=null)Dy(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Pi(al.current),Pi(mr.current),Zu(i)){if(h=i.stateNode,l=i.memoizedProps,h[pr]=i,(y=h.nodeValue!==l)&&(s=En,s!==null))switch(s.tag){case 3:qu(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&qu(h.nodeValue,l,(s.mode&1)!==0)}y&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[pr]=i,i.stateNode=h}return Ht(i),null;case 13:if(Ze(st),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(rt&&Tn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Mg(),Uo(),i.flags|=98560,y=!1;else if(y=Zu(i),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[pr]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),y=!1}else Yn!==null&&(Rf(Yn),Yn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(st.current&1)!==0?Ct===0&&(Ct=3):Pf())),i.updateQueue!==null&&(i.flags|=4),Ht(i),null);case 4:return zo(),pf(s,i),s===null&&el(i.stateNode.containerInfo),Ht(i),null;case 10:return Bd(i.type._context),Ht(i),null;case 17:return an(i.type)&&Gu(),Ht(i),null;case 19:if(Ze(st),y=i.memoizedState,y===null)return Ht(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)dl(y,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(E=ic(s),E!==null){for(i.flags|=128,dl(y,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)y=l,s=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,s=E.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Xe(st,st.current&1|2),i.child}s=s.sibling}y.tail!==null&&Qe()>Wo&&(i.flags|=128,h=!0,dl(y,!1),i.lanes=4194304)}else{if(!h)if(s=ic(E),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!rt)return Ht(i),null}else 2*Qe()-y.renderingStartTime>Wo&&l!==1073741824&&(i.flags|=128,h=!0,dl(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(l=y.last,l!==null?l.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Qe(),i.sibling=null,l=st.current,Xe(st,h?l&1|2:l&1),i):(Ht(i),null);case 22:case 23:return Af(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(In&1073741824)!==0&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function K1(s,i){switch(Ld(i),i.tag){case 1:return an(i.type)&&Gu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return zo(),Ze(on),Ze(zt),Gd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Wd(i),null;case 13:if(Ze(st),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Uo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ze(st),null;case 4:return zo(),null;case 10:return Bd(i.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var pc=!1,qt=!1,G1=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ho(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ut(s,i,h)}else l.current=null}function mf(s,i,l){try{l()}catch(h){ut(s,i,h)}}var Ly=!1;function Q1(s,i){if(Cd=Es,s=fg(),_d(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,x=-1,D=-1,G=0,re=0,se=s,te=null;t:for(;;){for(var ce;se!==l||p!==0&&se.nodeType!==3||(x=E+p),se!==y||h!==0&&se.nodeType!==3||(D=E+h),se.nodeType===3&&(E+=se.nodeValue.length),(ce=se.firstChild)!==null;)te=se,se=ce;for(;;){if(se===s)break t;if(te===l&&++G===p&&(x=E),te===y&&++re===h&&(D=E),(ce=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=ce}l=x===-1||D===-1?null:{start:x,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ad={focusedElem:s,selectionRange:l},Es=!1,de=i;de!==null;)if(i=de,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,de=s;else for(;de!==null;){i=de;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,pt=fe.memoizedState,W=i.stateNode,B=W.getSnapshotBeforeUpdate(i.elementType===i.type?me:Zn(i.type,me),pt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=i.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ut(i,i.return,ie)}if(s=i.sibling,s!==null){s.return=i.return,de=s;break}de=i.return}return fe=Ly,Ly=!1,fe}function fl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&mf(i,l,y)}p=p.next}while(p!==h)}}function mc(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function gf(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Vy(s){var i=s.alternate;i!==null&&(s.alternate=null,Vy(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[pr],delete i[nl],delete i[Nd],delete i[N1],delete i[b1])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function My(s){return s.tag===5||s.tag===3||s.tag===4}function Uy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||My(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Wu));else if(h!==4&&(s=s.child,s!==null))for(yf(s,i,l),s=s.sibling;s!==null;)yf(s,i,l),s=s.sibling}function _f(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_f(s,i,l),s=s.sibling;s!==null;)_f(s,i,l),s=s.sibling}var Mt=null,er=!1;function xs(s,i,l){for(l=l.child;l!==null;)Fy(s,i,l),l=l.sibling}function Fy(s,i,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(gi,l)}catch{}switch(l.tag){case 5:qt||Ho(l,i);case 6:var h=Mt,p=er;Mt=null,xs(s,i,l),Mt=h,er=p,Mt!==null&&(er?(s=Mt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(er?(s=Mt,l=l.stateNode,s.nodeType===8?xd(s.parentNode,l):s.nodeType===1&&xd(s,l),Qn(s)):xd(Mt,l.stateNode));break;case 4:h=Mt,p=er,Mt=l.stateNode.containerInfo,er=!0,xs(s,i,l),Mt=h,er=p;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&mf(l,i,E),p=p.next}while(p!==h)}xs(s,i,l);break;case 1:if(!qt&&(Ho(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){ut(l,i,x)}xs(s,i,l);break;case 21:xs(s,i,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,xs(s,i,l),qt=h):xs(s,i,l);break;default:xs(s,i,l)}}function jy(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new G1),i.forEach(function(h){var p=sI.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function tr(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=s,E=i,x=E;e:for(;x!==null;){switch(x.tag){case 5:Mt=x.stateNode,er=!1;break e;case 3:Mt=x.stateNode.containerInfo,er=!0;break e;case 4:Mt=x.stateNode.containerInfo,er=!0;break e}x=x.return}if(Mt===null)throw Error(t(160));Fy(y,E,p),Mt=null,er=!1;var D=p.alternate;D!==null&&(D.return=null),p.return=null}catch(G){ut(p,i,G)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)By(i,s),i=i.sibling}function By(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tr(i,s),yr(s),h&4){try{fl(3,s,s.return),mc(3,s)}catch(me){ut(s,s.return,me)}try{fl(5,s,s.return)}catch(me){ut(s,s.return,me)}}break;case 1:tr(i,s),yr(s),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(tr(i,s),yr(s),h&512&&l!==null&&Ho(l,l.return),s.flags&32){var p=s.stateNode;try{fs(p,"")}catch(me){ut(s,s.return,me)}}if(h&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,E=l!==null?l.memoizedProps:y,x=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&Sa(p,y),Oa(x,E);var G=Oa(x,y);for(E=0;E<D.length;E+=2){var re=D[E],se=D[E+1];re==="style"?xa(p,se):re==="dangerouslySetInnerHTML"?Pa(p,se):re==="children"?fs(p,se):j(p,re,se,G)}switch(x){case"input":Ra(p,y);break;case"textarea":io(p,y);break;case"select":var te=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?Ur(p,!!y.multiple,ce,!1):te!==!!y.multiple&&(y.defaultValue!=null?Ur(p,!!y.multiple,y.defaultValue,!0):Ur(p,!!y.multiple,y.multiple?[]:"",!1))}p[nl]=y}catch(me){ut(s,s.return,me)}}break;case 6:if(tr(i,s),yr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(me){ut(s,s.return,me)}}break;case 3:if(tr(i,s),yr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Qn(i.containerInfo)}catch(me){ut(s,s.return,me)}break;case 4:tr(i,s),yr(s);break;case 13:tr(i,s),yr(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Ef=Qe())),h&4&&jy(s);break;case 22:if(re=l!==null&&l.memoizedState!==null,s.mode&1?(qt=(G=qt)||re,tr(i,s),qt=G):tr(i,s),yr(s),h&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!re&&(s.mode&1)!==0)for(de=s,re=s.child;re!==null;){for(se=de=re;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:fl(4,te,te.return);break;case 1:Ho(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){h=te,l=te.return;try{i=h,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(me){ut(h,l,me)}}break;case 5:Ho(te,te.return);break;case 22:if(te.memoizedState!==null){Hy(se);continue}}ce!==null?(ce.return=te,de=ce):Hy(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{p=se.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=se.stateNode,D=se.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,x.style.display=ka("display",E))}catch(me){ut(s,s.return,me)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(me){ut(s,s.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:tr(i,s),yr(s),h&4&&jy(s);break;case 21:break;default:tr(i,s),yr(s)}}function yr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(My(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(fs(p,""),h.flags&=-33);var y=Uy(s);_f(s,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,x=Uy(s);yf(s,x,E);break;default:throw Error(t(161))}}catch(D){ut(s,s.return,D)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function X1(s,i,l){de=s,zy(s)}function zy(s,i,l){for(var h=(s.mode&1)!==0;de!==null;){var p=de,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||pc;if(!E){var x=p.alternate,D=x!==null&&x.memoizedState!==null||qt;x=pc;var G=qt;if(pc=E,(qt=D)&&!G)for(de=p;de!==null;)E=de,D=E.child,E.tag===22&&E.memoizedState!==null?qy(p):D!==null?(D.return=E,de=D):qy(p);for(;y!==null;)de=y,zy(y),y=y.sibling;de=p,pc=x,qt=G}$y(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,de=y):$y(s)}}function $y(s){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:qt||mc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!qt)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Zn(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Hg(i,y,h);break;case 3:var E=i.updateQueue;if(E!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Hg(i,E,l)}break;case 5:var x=i.stateNode;if(l===null&&i.flags&4){l=x;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var G=i.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Qn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||i.flags&512&&gf(i)}catch(te){ut(i,i.return,te)}}if(i===s){de=null;break}if(l=i.sibling,l!==null){l.return=i.return,de=l;break}de=i.return}}function Hy(s){for(;de!==null;){var i=de;if(i===s){de=null;break}var l=i.sibling;if(l!==null){l.return=i.return,de=l;break}de=i.return}}function qy(s){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{mc(4,i)}catch(D){ut(i,l,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(D){ut(i,p,D)}}var y=i.return;try{gf(i)}catch(D){ut(i,y,D)}break;case 5:var E=i.return;try{gf(i)}catch(D){ut(i,E,D)}}}catch(D){ut(i,i.return,D)}if(i===s){de=null;break}var x=i.sibling;if(x!==null){x.return=i.return,de=x;break}de=i.return}}var J1=Math.ceil,gc=H.ReactCurrentDispatcher,vf=H.ReactCurrentOwner,Un=H.ReactCurrentBatchConfig,Fe=0,bt=null,yt=null,Ut=0,In=0,qo=Rs(0),Ct=0,pl=null,xi=0,yc=0,wf=0,ml=null,un=null,Ef=0,Wo=1/0,Zr=null,_c=!1,Tf=null,Ns=null,vc=!1,bs=null,wc=0,gl=0,If=null,Ec=-1,Tc=0;function en(){return(Fe&6)!==0?Qe():Ec!==-1?Ec:Ec=Qe()}function Os(s){return(s.mode&1)===0?1:(Fe&2)!==0&&Ut!==0?Ut&-Ut:D1.transition!==null?(Tc===0&&(Tc=_i()),Tc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:Ha(s.type)),s)}function nr(s,i,l,h){if(50<gl)throw gl=0,If=null,Error(t(185));ys(s,l,h),((Fe&2)===0||s!==bt)&&(s===bt&&((Fe&2)===0&&(yc|=l),Ct===4&&Ds(s,Ut)),cn(s,h),l===1&&Fe===0&&(i.mode&1)===0&&(Wo=Qe()+500,Xu&&As()))}function cn(s,i){var l=s.callbackNode;Br(s,i);var h=yi(s,s===bt?Ut:0);if(h===0)l!==null&&Fa(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&Fa(l),i===1)s.tag===0?O1(Ky.bind(null,s)):bg(Ky.bind(null,s)),k1(function(){(Fe&6)===0&&As()}),l=null;else{switch(vs(h)){case 1:l=mi;break;case 4:l=ps;break;case 16:l=Nn;break;case 536870912:l=Tu;break;default:l=Nn}l=t_(l,Wy.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Wy(s,i){if(Ec=-1,Tc=0,(Fe&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Ko()&&s.callbackNode!==l)return null;var h=yi(s,s===bt?Ut:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=Ic(s,h);else{i=h;var p=Fe;Fe|=2;var y=Qy();(bt!==s||Ut!==i)&&(Zr=null,Wo=Qe()+500,bi(s,i));do try{eI();break}catch(x){Gy(s,x)}while(!0);jd(),gc.current=y,Fe=p,yt!==null?i=0:(bt=null,Ut=0,i=Ct)}if(i!==0){if(i===2&&(p=_n(s),p!==0&&(h=p,i=Sf(s,p))),i===1)throw l=pl,bi(s,0),Ds(s,h),cn(s,Qe()),l;if(i===6)Ds(s,h);else{if(p=s.current.alternate,(h&30)===0&&!Y1(p)&&(i=Ic(s,h),i===2&&(y=_n(s),y!==0&&(h=y,i=Sf(s,y))),i===1))throw l=pl,bi(s,0),Ds(s,h),cn(s,Qe()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Oi(s,un,Zr);break;case 3:if(Ds(s,h),(h&130023424)===h&&(i=Ef+500-Qe(),10<i)){if(yi(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){en(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=kd(Oi.bind(null,s,un,Zr),i);break}Oi(s,un,Zr);break;case 4:if(Ds(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var E=31-Jt(h);y=1<<E,E=i[E],E>p&&(p=E),h&=~y}if(h=p,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*J1(h/1960))-h,10<h){s.timeoutHandle=kd(Oi.bind(null,s,un,Zr),h);break}Oi(s,un,Zr);break;case 5:Oi(s,un,Zr);break;default:throw Error(t(329))}}}return cn(s,Qe()),s.callbackNode===l?Wy.bind(null,s):null}function Sf(s,i){var l=ml;return s.current.memoizedState.isDehydrated&&(bi(s,i).flags|=256),s=Ic(s,i),s!==2&&(i=un,un=l,i!==null&&Rf(i)),s}function Rf(s){un===null?un=s:un.push.apply(un,s)}function Y1(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Jn(y(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ds(s,i){for(i&=~wf,i&=~yc,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Jt(i),h=1<<l;s[l]=-1,i&=~h}}function Ky(s){if((Fe&6)!==0)throw Error(t(327));Ko();var i=yi(s,0);if((i&1)===0)return cn(s,Qe()),null;var l=Ic(s,i);if(s.tag!==0&&l===2){var h=_n(s);h!==0&&(i=h,l=Sf(s,h))}if(l===1)throw l=pl,bi(s,0),Ds(s,i),cn(s,Qe()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,Oi(s,un,Zr),cn(s,Qe()),null}function Cf(s,i){var l=Fe;Fe|=1;try{return s(i)}finally{Fe=l,Fe===0&&(Wo=Qe()+500,Xu&&As())}}function Ni(s){bs!==null&&bs.tag===0&&(Fe&6)===0&&Ko();var i=Fe;Fe|=1;var l=Un.transition,h=Le;try{if(Un.transition=null,Le=1,s)return s()}finally{Le=h,Un.transition=l,Fe=i,(Fe&6)===0&&As()}}function Af(){In=qo.current,Ze(qo)}function bi(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,P1(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch(Ld(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Gu();break;case 3:zo(),Ze(on),Ze(zt),Gd();break;case 5:Wd(h);break;case 4:zo();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Bd(h.type._context);break;case 22:case 23:Af()}l=l.return}if(bt=s,yt=s=Ls(s.current,null),Ut=In=i,Ct=0,pl=null,wf=yc=xi=0,un=ml=null,Ai!==null){for(i=0;i<Ai.length;i++)if(l=Ai[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}Ai=null}return s}function Gy(s,i){do{var l=yt;try{if(jd(),oc.current=cc,ac){for(var h=it.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}ac=!1}if(ki=0,Nt=Rt=it=null,ll=!1,ul=0,vf.current=null,l===null||l.return===null){Ct=1,pl=i,yt=null;break}e:{var y=s,E=l.return,x=l,D=i;if(i=Ut,x.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=D,re=x,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=vy(E);if(ce!==null){ce.flags&=-257,wy(ce,E,x,y,i),ce.mode&1&&_y(y,G,i),i=ce,D=G;var fe=i.updateQueue;if(fe===null){var me=new Set;me.add(D),i.updateQueue=me}else fe.add(D);break e}else{if((i&1)===0){_y(y,G,i),Pf();break e}D=Error(t(426))}}else if(rt&&x.mode&1){var pt=vy(E);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),wy(pt,E,x,y,i),Ud($o(D,x));break e}}y=D=$o(D,x),Ct!==4&&(Ct=2),ml===null?ml=[y]:ml.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var W=gy(y,D,i);$g(y,W);break e;case 1:x=D;var B=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ns===null||!Ns.has(K)))){y.flags|=65536,i&=-i,y.lanes|=i;var ie=yy(y,x,i);$g(y,ie);break e}}y=y.return}while(y!==null)}Jy(l)}catch(ge){i=ge,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Qy(){var s=gc.current;return gc.current=cc,s===null?cc:s}function Pf(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),bt===null||(xi&268435455)===0&&(yc&268435455)===0||Ds(bt,Ut)}function Ic(s,i){var l=Fe;Fe|=2;var h=Qy();(bt!==s||Ut!==i)&&(Zr=null,bi(s,i));do try{Z1();break}catch(p){Gy(s,p)}while(!0);if(jd(),Fe=l,gc.current=h,yt!==null)throw Error(t(261));return bt=null,Ut=0,Ct}function Z1(){for(;yt!==null;)Xy(yt)}function eI(){for(;yt!==null&&!wu();)Xy(yt)}function Xy(s){var i=e_(s.alternate,s,In);s.memoizedProps=s.pendingProps,i===null?Jy(s):yt=i,vf.current=null}function Jy(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=W1(l,i,In),l!==null){yt=l;return}}else{if(l=K1(l,i),l!==null){l.flags&=32767,yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ct=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=s}while(i!==null);Ct===0&&(Ct=5)}function Oi(s,i,l){var h=Le,p=Un.transition;try{Un.transition=null,Le=1,tI(s,i,l,h)}finally{Un.transition=p,Le=h}return null}function tI(s,i,l,h){do Ko();while(bs!==null);if((Fe&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(s,y),s===bt&&(yt=bt=null,Ut=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||vc||(vc=!0,t_(Nn,function(){return Ko(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Un.transition,Un.transition=null;var E=Le;Le=1;var x=Fe;Fe|=4,vf.current=null,Q1(s,l),By(l,s),E1(Ad),Es=!!Cd,Ad=Cd=null,s.current=l,X1(l),cd(),Fe=x,Le=E,Un.transition=y}else s.current=l;if(vc&&(vc=!1,bs=s,wc=p),y=s.pendingLanes,y===0&&(Ns=null),Iu(l.stateNode),cn(s,Qe()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(_c)throw _c=!1,s=Tf,Tf=null,s;return(wc&1)!==0&&s.tag!==0&&Ko(),y=s.pendingLanes,(y&1)!==0?s===If?gl++:(gl=0,If=s):gl=0,As(),null}function Ko(){if(bs!==null){var s=vs(wc),i=Un.transition,l=Le;try{if(Un.transition=null,Le=16>s?16:s,bs===null)var h=!1;else{if(s=bs,bs=null,wc=0,(Fe&6)!==0)throw Error(t(331));var p=Fe;for(Fe|=4,de=s.current;de!==null;){var y=de,E=y.child;if((de.flags&16)!==0){var x=y.deletions;if(x!==null){for(var D=0;D<x.length;D++){var G=x[D];for(de=G;de!==null;){var re=de;switch(re.tag){case 0:case 11:case 15:fl(8,re,y)}var se=re.child;if(se!==null)se.return=re,de=se;else for(;de!==null;){re=de;var te=re.sibling,ce=re.return;if(Vy(re),re===G){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=y.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var pt=me.sibling;me.sibling=null,me=pt}while(me!==null)}}de=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,de=E;else e:for(;de!==null;){if(y=de,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:fl(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,de=W;break e}de=y.return}}var B=s.current;for(de=B;de!==null;){E=de;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,de=K;else e:for(E=B;de!==null;){if(x=de,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:mc(9,x)}}catch(ge){ut(x,x.return,ge)}if(x===E){de=null;break e}var ie=x.sibling;if(ie!==null){ie.return=x.return,de=ie;break e}de=x.return}}if(Fe=p,As(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(gi,s)}catch{}h=!0}return h}finally{Le=l,Un.transition=i}}return!1}function Yy(s,i,l){i=$o(l,i),i=gy(s,i,1),s=ks(s,i,1),i=en(),s!==null&&(ys(s,1,i),cn(s,i))}function ut(s,i,l){if(s.tag===3)Yy(s,s,l);else for(;i!==null;){if(i.tag===3){Yy(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ns===null||!Ns.has(h))){s=$o(l,s),s=yy(i,s,1),i=ks(i,s,1),s=en(),i!==null&&(ys(i,1,s),cn(i,s));break}}i=i.return}}function nI(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=en(),s.pingedLanes|=s.suspendedLanes&l,bt===s&&(Ut&l)===l&&(Ct===4||Ct===3&&(Ut&130023424)===Ut&&500>Qe()-Ef?bi(s,0):wf|=l),cn(s,i)}function Zy(s,i){i===0&&((s.mode&1)===0?i=1:(i=go,go<<=1,(go&130023424)===0&&(go=4194304)));var l=en();s=Xr(s,i),s!==null&&(ys(s,i,l),cn(s,l))}function rI(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Zy(s,l)}function sI(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Zy(s,l)}var e_;e_=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||on.current)ln=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return ln=!1,q1(s,i,l);ln=(s.flags&131072)!==0}else ln=!1,rt&&(i.flags&1048576)!==0&&Og(i,Yu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;fc(s,i),s=i.pendingProps;var p=Lo(i,zt.current);Bo(i,l),p=Jd(null,i,h,s,p,l);var y=Yd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,an(h)?(y=!0,Qu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Hd(i),p.updater=hc,i.stateNode=p,p._reactInternals=i,sf(i,h,s,l),i=uf(null,i,h,!0,y,l)):(i.tag=0,rt&&y&&Dd(i),Zt(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(fc(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=oI(h),s=Zn(h,s),p){case 0:i=lf(null,i,h,s,l);break e;case 1:i=Cy(null,i,h,s,l);break e;case 11:i=Ey(null,i,h,s,l);break e;case 14:i=Ty(null,i,h,Zn(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Zn(h,p),lf(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Zn(h,p),Cy(s,i,h,p,l);case 3:e:{if(Ay(i),s===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,zg(s,i),sc(i,h,null,l);var E=i.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=$o(Error(t(423)),i),i=Py(s,i,h,l,p);break e}else if(h!==p){p=$o(Error(t(424)),i),i=Py(s,i,h,l,p);break e}else for(Tn=Ss(i.stateNode.containerInfo.firstChild),En=i,rt=!0,Yn=null,l=jg(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Uo(),h===p){i=Yr(s,i,l);break e}Zt(s,i,h,l)}i=i.child}return i;case 5:return qg(i),s===null&&Md(i),h=i.type,p=i.pendingProps,y=s!==null?s.memoizedProps:null,E=p.children,Pd(h,p)?E=null:y!==null&&Pd(h,y)&&(i.flags|=32),Ry(s,i),Zt(s,i,E,l),i.child;case 6:return s===null&&Md(i),null;case 13:return ky(s,i,l);case 4:return qd(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Fo(i,null,h,l):Zt(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Zn(h,p),Ey(s,i,h,p,l);case 7:return Zt(s,i,i.pendingProps,l),i.child;case 8:return Zt(s,i,i.pendingProps.children,l),i.child;case 12:return Zt(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,Xe(tc,h._currentValue),h._currentValue=E,y!==null)if(Jn(y.value,E)){if(y.children===p.children&&!on.current){i=Yr(s,i,l);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){E=y.child;for(var D=x.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Jr(-1,l&-l),D.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?D.next=D:(D.next=re.next,re.next=D),G.pending=D}}y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),zd(y.return,l,i),x.lanes|=l;break}D=D.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),zd(E,l,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Zt(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Bo(i,l),p=Vn(p),h=h(p),i.flags|=1,Zt(s,i,h,l),i.child;case 14:return h=i.type,p=Zn(h,i.pendingProps),p=Zn(h.type,p),Ty(s,i,h,p,l);case 15:return Iy(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Zn(h,p),fc(s,i),i.tag=1,an(h)?(s=!0,Qu(i)):s=!1,Bo(i,l),py(i,h,p),sf(i,h,p,l),uf(null,i,h,!0,s,l);case 19:return Ny(s,i,l);case 22:return Sy(s,i,l)}throw Error(t(156,i.tag))};function t_(s,i){return po(s,i)}function iI(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,i,l,h){return new iI(s,i,l,h)}function kf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function oI(s){if(typeof s=="function")return kf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===tt)return 14}return 2}function Ls(s,i){var l=s.alternate;return l===null?(l=Fn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Sc(s,i,l,h,p,y){var E=2;if(h=s,typeof s=="function")kf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case b:return Di(l.children,p,y,i);case R:E=8,p|=8;break;case P:return s=Fn(12,l,i,p|2),s.elementType=P,s.lanes=y,s;case N:return s=Fn(13,l,i,p),s.elementType=N,s.lanes=y,s;case Je:return s=Fn(19,l,i,p),s.elementType=Je,s.lanes=y,s;case Ve:return Rc(l,p,y,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:E=10;break e;case U:E=9;break e;case z:E=11;break e;case tt:E=14;break e;case dt:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Fn(E,l,i,p),i.elementType=s,i.type=h,i.lanes=y,i}function Di(s,i,l,h){return s=Fn(7,s,h,i),s.lanes=l,s}function Rc(s,i,l,h){return s=Fn(22,s,h,i),s.elementType=Ve,s.lanes=l,s.stateNode={isHidden:!1},s}function xf(s,i,l){return s=Fn(6,s,null,i),s.lanes=l,s}function Nf(s,i,l){return i=Fn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function aI(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gs(0),this.expirationTimes=gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function bf(s,i,l,h,p,y,E,x,D){return s=new aI(s,i,l,x,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Fn(3,null,null,i),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hd(y),s}function lI(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function n_(s){if(!s)return Cs;s=s._reactInternals;e:{if(Hn(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(an(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(an(l))return xg(s,l,i)}return i}function r_(s,i,l,h,p,y,E,x,D){return s=bf(l,h,!0,s,p,y,E,x,D),s.context=n_(null),l=s.current,h=en(),p=Os(l),y=Jr(h,p),y.callback=i??null,ks(l,y,p),s.current.lanes=p,ys(s,p,h),cn(s,h),s}function Cc(s,i,l,h){var p=i.current,y=en(),E=Os(p);return l=n_(l),i.context===null?i.context=l:i.pendingContext=l,i=Jr(y,E),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=ks(p,i,E),s!==null&&(nr(s,p,E,y),rc(s,p,E)),E}function Ac(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function s_(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Of(s,i){s_(s,i),(s=s.alternate)&&s_(s,i)}function uI(){return null}var i_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Df(s){this._internalRoot=s}Pc.prototype.render=Df.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Cc(s,i,null,null)},Pc.prototype.unmount=Df.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ni(function(){Cc(null,s,null,null)}),i[Wr]=null}};function Pc(s){this._internalRoot=s}Pc.prototype.unstable_scheduleHydration=function(s){if(s){var i=Pu();s={blockedOn:null,target:s,priority:i};for(var l=0;l<cr.length&&i!==0&&i<cr[l].priority;l++);cr.splice(l,0,s),l===0&&Nu(s)}};function Lf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function kc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function o_(){}function cI(s,i,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var G=Ac(E);y.call(G)}}var E=r_(i,h,s,0,null,!1,!1,"",o_);return s._reactRootContainer=E,s[Wr]=E.current,el(s.nodeType===8?s.parentNode:s),Ni(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var x=h;h=function(){var G=Ac(D);x.call(G)}}var D=bf(s,0,!1,null,null,!1,!1,"",o_);return s._reactRootContainer=D,s[Wr]=D.current,el(s.nodeType===8?s.parentNode:s),Ni(function(){Cc(i,D,l,h)}),D}function xc(s,i,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var x=p;p=function(){var D=Ac(E);x.call(D)}}Cc(i,E,s,p)}else E=cI(l,i,s,p,h);return Ac(E)}Cu=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=ms(i.pendingLanes);l!==0&&(_s(i,l|1),cn(i,Qe()),(Fe&6)===0&&(Wo=Qe()+500,As()))}break;case 13:Ni(function(){var h=Xr(s,1);if(h!==null){var p=en();nr(h,s,1,p)}}),Of(s,1)}},yo=function(s){if(s.tag===13){var i=Xr(s,134217728);if(i!==null){var l=en();nr(i,s,134217728,l)}Of(s,134217728)}},Au=function(s){if(s.tag===13){var i=Os(s),l=Xr(s,i);if(l!==null){var h=en();nr(l,s,i,h)}Of(s,i)}},Pu=function(){return Le},ku=function(s,i){var l=Le;try{return Le=s,i()}finally{Le=l}},ao=function(s,i,l){switch(i){case"input":if(Ra(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=Ku(h);if(!p)throw Error(t(90));to(h),Ra(h,p)}}}break;case"textarea":io(s,l);break;case"select":i=l.value,i!=null&&Ur(s,!!l.multiple,i,!1)}},hi=Cf,La=Ni;var hI={usingClientEntryPoint:!1,Events:[rl,Oo,Ku,lr,Da,Cf]},yl={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dI={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ua(s),s===null?null:s.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{gi=Nc.inject(dI),yn=Nc}catch{}}return hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hI,hn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lf(i))throw Error(t(200));return lI(s,i,null,l)},hn.createRoot=function(s,i){if(!Lf(s))throw Error(t(299));var l=!1,h="",p=i_;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=bf(s,1,!1,null,null,l,!1,h,p),s[Wr]=i.current,el(s.nodeType===8?s.parentNode:s),new Df(i)},hn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ua(i),s=s===null?null:s.stateNode,s},hn.flushSync=function(s){return Ni(s)},hn.hydrate=function(s,i,l){if(!kc(i))throw Error(t(200));return xc(null,s,i,!0,l)},hn.hydrateRoot=function(s,i,l){if(!Lf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=i_;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),i=r_(i,null,s,1,l??null,p,!1,y,E),s[Wr]=i.current,el(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Pc(i)},hn.render=function(s,i,l){if(!kc(i))throw Error(t(200));return xc(null,s,i,!1,l)},hn.unmountComponentAtNode=function(s){if(!kc(s))throw Error(t(40));return s._reactRootContainer?(Ni(function(){xc(null,null,s,!1,function(){s._reactRootContainer=null,s[Wr]=null})}),!0):!1},hn.unstable_batchedUpdates=Cf,hn.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!kc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return xc(s,i,l,!1,h)},hn.version="18.3.1-next-f1338f8080-20240426",hn}var p_;function wI(){if(p_)return Uf.exports;p_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uf.exports=vI(),Uf.exports}var m_;function EI(){if(m_)return bc;m_=1;var n=wI();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var TI=EI();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g_="popstate";function II(n={}){function e(r,o){let{pathname:a,search:u,hash:d}=r.location;return ap("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ml(o)}return RI(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SI(){return Math.random().toString(36).substring(2,10)}function y_(n,e){return{usr:n.state,key:n.key,idx:e}}function ap(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||r||SI()}}function Ml({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RI(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,d="POP",f=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function w(){d="POP";let k=_(),$=k==null?null:k-m;m=k,f&&f({action:d,location:O.location,delta:$})}function T(k,$){d="PUSH";let F=ap(O.location,k,$);m=_()+1;let j=y_(F,m),H=O.createHref(F);try{u.pushState(j,"",H)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(H)}a&&f&&f({action:d,location:O.location,delta:1})}function C(k,$){d="REPLACE";let F=ap(O.location,k,$);m=_();let j=y_(F,m),H=O.createHref(F);u.replaceState(j,"",H),a&&f&&f({action:d,location:O.location,delta:0})}function A(k){return CI(k)}let O={get action(){return d},get location(){return n(o,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(g_,w),f=k,()=>{o.removeEventListener(g_,w),f=null}},createHref(k){return e(o,k)},createURL:A,encodeLocation(k){let $=A(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:C,go(k){return u.go(k)}};return O}function CI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ml(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function _0(n,e,t="/"){return AI(n,e,t,!1)}function AI(n,e,t,r){let o=typeof e=="string"?pa(e):e,a=ss(o.pathname||"/",t);if(a==null)return null;let u=v0(n);PI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=FI(a);d=MI(u[f],m,r)}return d}function v0(n,e=[],t=[],r=""){let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(at(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=ns([r,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(at(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),v0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:LI(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))o(a,u);else for(let d of w0(a.path))o(a,u,d)}),e}function w0(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=w0(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function PI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var kI=/^:[\w-]+$/,xI=3,NI=2,bI=1,OI=10,DI=-2,__=n=>n==="*";function LI(n,e){let t=n.split("/"),r=t.length;return t.some(__)&&(r+=DI),e&&(r+=NI),t.filter(o=>!__(o)).reduce((o,a)=>o+(kI.test(a)?xI:a===""?bI:OI),r)}function VI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function MI(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),T=f.route;if(!w&&m&&t&&!r[r.length-1].route.index&&(w=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:ns([a,w.pathname]),pathnameBase:$I(ns([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=ns([a,w.pathnameBase]))}return u}function rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:w},T)=>{if(_==="*"){let A=d[T]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const C=d[T];return w&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function UI(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function FI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function jI(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?pa(n):n;return{pathname:t?t.startsWith("/")?t:BI(t,e):e,search:HI(r),hash:qI(o)}}function BI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Bf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function E0(n){let e=zI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function T0(n,e,t,r=!1){let o;typeof n=="string"?o=pa(n):(o={...n},at(!o.pathname||!o.pathname.includes("?"),Bf("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Bf("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Bf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let f=jI(o,d),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}var ns=n=>n.join("/").replace(/\/\/+/g,"/"),$I=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function WI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var KI=["GET",...I0];new Set(KI);var ma=M.createContext(null);ma.displayName="DataRouter";var kh=M.createContext(null);kh.displayName="DataRouterState";M.createContext(!1);var S0=M.createContext({isTransitioning:!1});S0.displayName="ViewTransition";var GI=M.createContext(new Map);GI.displayName="Fetchers";var QI=M.createContext(null);QI.displayName="Await";var Or=M.createContext(null);Or.displayName="Navigation";var Xl=M.createContext(null);Xl.displayName="Location";var Dr=M.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Kp=M.createContext(null);Kp.displayName="RouteError";function XI(n,{relative:e}={}){at(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=M.useContext(Or),{hash:o,pathname:a,search:u}=Yl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ns([t,a])),r.createHref({pathname:d,search:u,hash:o})}function Jl(){return M.useContext(Xl)!=null}function Xi(){return at(Jl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Xl).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(n){M.useContext(Or).static||M.useLayoutEffect(n)}function hs(){let{isDataRoute:n}=M.useContext(Dr);return n?uS():JI()}function JI(){at(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(ma),{basename:e,navigator:t}=M.useContext(Or),{matches:r}=M.useContext(Dr),{pathname:o}=Xi(),a=JSON.stringify(E0(r)),u=M.useRef(!1);return C0(()=>{u.current=!0}),M.useCallback((f,m={})=>{if(xr(u.current,R0),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=T0(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ns([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}M.createContext(null);function A0(){let{matches:n}=M.useContext(Dr),e=n[n.length-1];return e?e.params:{}}function Yl(n,{relative:e}={}){let{matches:t}=M.useContext(Dr),{pathname:r}=Xi(),o=JSON.stringify(E0(t));return M.useMemo(()=>T0(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function YI(n,e){return P0(n,e)}function P0(n,e,t,r){at(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Or),{matches:a}=M.useContext(Dr),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let $=_&&_.path||"";k0(f,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=Xi(),T;if(e){let $=typeof e=="string"?pa(e):e;at(m==="/"||$.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${$.pathname}" was given in the \`location\` prop.`),T=$}else T=w;let C=T.pathname||"/",A=C;if(m!=="/"){let $=m.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice($.length).join("/")}let O=_0(n,{pathname:A});xr(_||O!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),xr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=rS(O&&O.map($=>Object.assign({},$,{params:Object.assign({},d,$.params),pathname:ns([m,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?m:ns([m,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),a,t,r);return e&&k?M.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},k):k}function ZI(){let n=lS(),e=WI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,u)}var eS=M.createElement(ZI,null),tS=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(Dr.Provider,{value:this.props.routeContext},M.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nS({routeContext:n,match:e,children:t}){let r=M.useContext(ma);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Dr.Provider,{value:n},t)}function rS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t?.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);at(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:_,errors:w}=t,T=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,_)=>{let w,T=!1,C=null,A=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,C=m.route.errorElement||eS,u&&(d<0&&_===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):d===_&&(T=!0,A=m.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,_+1)),k=()=>{let $;return w?$=C:T?$=A:m.route.Component?$=M.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=f,M.createElement(nS,{match:m,routeContext:{outlet:f,matches:O,isDataRoute:t!=null},children:$})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?M.createElement(tS,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):k()},null)}function Gp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(n){let e=M.useContext(ma);return at(e,Gp(n)),e}function iS(n){let e=M.useContext(kh);return at(e,Gp(n)),e}function oS(n){let e=M.useContext(Dr);return at(e,Gp(n)),e}function Qp(n){let e=oS(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function aS(){return Qp("useRouteId")}function lS(){let n=M.useContext(Kp),e=iS("useRouteError"),t=Qp("useRouteError");return n!==void 0?n:e.errors?.[t]}function uS(){let{router:n}=sS("useNavigate"),e=Qp("useNavigate"),t=M.useRef(!1);return C0(()=>{t.current=!0}),M.useCallback(async(o,a={})=>{xr(t.current,R0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var v_={};function k0(n,e,t){!e&&!v_[n]&&(v_[n]=!0,xr(!1,t))}M.memo(cS);function cS({routes:n,future:e,state:t}){return P0(n,void 0,t,e)}function jn(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){at(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=pa(t));let{pathname:f="/",search:m="",hash:_="",state:w=null,key:T="default"}=t,C=M.useMemo(()=>{let A=ss(f,u);return A==null?null:{location:{pathname:A,search:m,hash:_,state:w,key:T},navigationType:r}},[u,f,m,_,w,T,r]);return xr(C!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(Or.Provider,{value:d},M.createElement(Xl.Provider,{children:e,value:C}))}function dS({children:n,location:e}){return YI(lp(n),e)}function lp(n,e=[]){let t=[];return M.Children.forEach(n,(r,o)=>{if(!M.isValidElement(r))return;let a=[...e,o];if(r.type===M.Fragment){t.push.apply(t,lp(r.props.children,a));return}at(r.type===jn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=lp(r.props.children,a)),t.push(u)}),t}var zc="get",$c="application/x-www-form-urlencoded";function xh(n){return n!=null&&typeof n.tagName=="string"}function fS(n){return xh(n)&&n.tagName.toLowerCase()==="button"}function pS(n){return xh(n)&&n.tagName.toLowerCase()==="form"}function mS(n){return xh(n)&&n.tagName.toLowerCase()==="input"}function gS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yS(n,e){return n.button===0&&(!e||e==="_self")&&!gS(n)}var Oc=null;function _S(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(n){return n!=null&&!vS.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):n}function wS(n,e){let t,r,o,a,u;if(pS(n)){let d=n.getAttribute("action");r=d?ss(d,e):null,t=n.getAttribute("method")||zc,o=zf(n.getAttribute("enctype"))||$c,a=new FormData(n)}else if(fS(n)||mS(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?ss(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||zc,o=zf(n.getAttribute("formenctype"))||zf(d.getAttribute("enctype"))||$c,a=new FormData(d,n),!_S()){let{name:m,type:_,value:w}=n;if(_==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,w)}}else{if(xh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zc,r=null,o=$c,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ES(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ss(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function TS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SS(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await TS(a,t);return u.links?u.links():[]}return[]}));return PS(r.flat(1).filter(IS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w_(n,e,t,r,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{let _=r.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function RS(n,e,{includeHydrateFallback:t}={}){return CS(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function CS(n){return[...new Set(n)]}function AS(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function PS(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(AS(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function x0(){let n=M.useContext(ma);return Xp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kS(){let n=M.useContext(kh);return Xp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jp=M.createContext(void 0);Jp.displayName="FrameworkContext";function N0(){let n=M.useContext(Jp);return Xp(n,"You must render this element inside a <HydratedRouter> element"),n}function xS(n,e){let t=M.useContext(Jp),[r,o]=M.useState(!1),[a,u]=M.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:_,onTouchStart:w}=e,T=M.useRef(null);M.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let O=$=>{$.forEach(F=>{u(F.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return T.current&&k.observe(T.current),()=>{k.disconnect()}}},[n]),M.useEffect(()=>{if(r){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[r]);let C=()=>{o(!0)},A=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:vl(d,C),onBlur:vl(f,A),onMouseEnter:vl(m,C),onMouseLeave:vl(_,A),onTouchStart:vl(w,C)}]:[!1,T,{}]}function vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NS({page:n,...e}){let{router:t}=x0(),r=M.useMemo(()=>_0(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?M.createElement(OS,{page:n,matches:r,...e}):null}function bS(n){let{manifest:e,routeModules:t}=N0(),[r,o]=M.useState([]);return M.useEffect(()=>{let a=!1;return SS(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function OS({page:n,matches:e,...t}){let r=Xi(),{manifest:o,routeModules:a}=N0(),{basename:u}=x0(),{loaderData:d,matches:f}=kS(),m=M.useMemo(()=>w_(n,e,f,o,r,"data"),[n,e,f,o,r]),_=M.useMemo(()=>w_(n,e,f,o,r,"assets"),[n,e,f,o,r]),w=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let A=new Set,O=!1;if(e.forEach($=>{let F=o.routes[$.route.id];!F||!F.hasLoader||(!m.some(j=>j.route.id===$.route.id)&&$.route.id in d&&a[$.route.id]?.shouldRevalidate||F.hasClientLoader?O=!0:A.add($.route.id))}),A.size===0)return[];let k=ES(n,u,"data");return O&&A.size>0&&k.searchParams.set("_routes",e.filter($=>A.has($.route.id)).map($=>$.route.id).join(",")),[k.pathname+k.search]},[u,d,r,o,m,e,n,a]),T=M.useMemo(()=>RS(_,o),[_,o]),C=bS(_);return M.createElement(M.Fragment,null,w.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),C.map(({key:A,link:O})=>M.createElement("link",{key:A,...O})))}function DS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var b0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b0&&(window.__reactRouterVersion="7.7.1")}catch{}function LS({basename:n,children:e,window:t}){let r=M.useRef();r.current==null&&(r.current=II({window:t,v5Compat:!0}));let o=r.current,[a,u]=M.useState({action:o.action,location:o.location}),d=M.useCallback(f=>{M.startTransition(()=>u(f))},[u]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(hS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var O0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D0=M.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:_,viewTransition:w,...T},C){let{basename:A}=M.useContext(Or),O=typeof m=="string"&&O0.test(m),k,$=!1;if(typeof m=="string"&&O&&(k=m,b0))try{let P=new URL(window.location.href),L=m.startsWith("//")?new URL(P.protocol+m):new URL(m),U=ss(L.pathname,A);L.origin===P.origin&&U!=null?m=U+L.search+L.hash:$=!0}catch{xr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=XI(m,{relative:o}),[j,H,ee]=xS(r,T),le=FS(m,{replace:u,state:d,target:f,preventScrollReset:_,relative:o,viewTransition:w});function b(P){e&&e(P),P.defaultPrevented||le(P)}let R=M.createElement("a",{...T,...ee,href:k||F,onClick:$||a?e:b,ref:DS(C,H),target:f,"data-discover":!O&&t==="render"?"true":void 0});return j&&!O?M.createElement(M.Fragment,null,R,M.createElement(NS,{page:F})):R});D0.displayName="Link";var VS=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...m},_){let w=Yl(u,{relative:m.relative}),T=Xi(),C=M.useContext(kh),{navigator:A,basename:O}=M.useContext(Or),k=C!=null&&HS(w)&&d===!0,$=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,F=T.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,$=$.toLowerCase()),j&&O&&(j=ss(j,O)||j);const H=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ee=F===$||!o&&F.startsWith($)&&F.charAt(H)==="/",le=j!=null&&(j===$||!o&&j.startsWith($)&&j.charAt($.length)==="/"),b={isActive:ee,isPending:le,isTransitioning:k},R=ee?e:void 0,P;typeof r=="function"?P=r(b):P=[r,ee?"active":null,le?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(b):a;return M.createElement(D0,{...m,"aria-current":R,className:P,ref:_,style:L,to:u,viewTransition:d},typeof f=="function"?f(b):f)});VS.displayName="NavLink";var MS=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=zc,action:d,onSubmit:f,relative:m,preventScrollReset:_,viewTransition:w,...T},C)=>{let A=zS(),O=$S(d,{relative:m}),k=u.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&O0.test(d),F=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,ee=H?.getAttribute("formmethod")||u;A(H||j.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:w})};return M.createElement("form",{ref:C,method:k,action:O,onSubmit:r?f:F,...T,"data-discover":!$&&n==="render"?"true":void 0})});MS.displayName="Form";function US(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(n){let e=M.useContext(ma);return at(e,US(n)),e}function FS(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=hs(),f=Xi(),m=Yl(n,{relative:a});return M.useCallback(_=>{if(yS(_,e)){_.preventDefault();let w=t!==void 0?t:Ml(f)===Ml(m);d(n,{replace:w,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,m,t,r,e,n,o,a,u])}var jS=0,BS=()=>`__${String(++jS)}__`;function zS(){let{router:n}=L0("useSubmit"),{basename:e}=M.useContext(Or),t=aS();return M.useCallback(async(r,o={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=wS(r,e);if(o.navigate===!1){let _=o.fetcherKey||BS();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function $S(n,{relative:e}={}){let{basename:t}=M.useContext(Or),r=M.useContext(Dr);at(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Yl(n||".",{relative:e})},u=Xi();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(_=>_==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ns([t,a.pathname])),Ml(a)}function HS(n,{relative:e}={}){let t=M.useContext(S0);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L0("useViewTransitionState"),o=Yl(n,{relative:e});if(!t.isTransitioning)return!1;let a=ss(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ss(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rh(o.pathname,u)!=null||rh(o.pathname,a)!=null}const qS=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(T=64)),r.push(t[_],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(V0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new KS;const T=a<<2|d>>4;if(r.push(T),m!==64){const C=d<<4&240|m>>2;if(r.push(C),w!==64){const A=m<<6&192|w;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(n){const e=V0(n);return M0.encodeByteArray(e,!0)},sh=function(n){return GS(n).replace(/\./g,"")},U0=function(n){try{return M0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>QS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof E_>"u")return;const n=E_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&U0(n[1]);return e&&JSON.parse(e)},Nh=()=>{try{return qS()||XS()||JS()||YS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},F0=n=>Nh()?.emulatorHosts?.[n],j0=n=>{const e=F0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},B0=()=>Nh()?.config,z0=n=>Nh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yp(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[sh(JSON.stringify(t)),sh(JSON.stringify(u)),""].join(".")}const xl={};function eR(){const n={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?n.emulator.push(e):n.prod.push(e);return n}function tR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let T_=!1;function Zp(n,e){if(typeof window>"u"||typeof document>"u"||!ti(window.location.host)||xl[n]===e||xl[n]||T_)return;xl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=eR().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{T_=!0,u()},T}function _(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=tR(r),C=t("text"),A=document.getElementById(C)||document.createElement("span"),O=t("learnmore"),k=document.getElementById(O)||document.createElement("a"),$=t("preprendIcon"),F=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const j=T.element;d(j),_(k,O);const H=m();f(F,$),j.append(F,A,k,H),document.body.appendChild(j)}a?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function rR(){const n=Nh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class Lr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=hR,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?dR(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Lr(o,d,r)}}function dR(n,e){return n.replace(fR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const fR=/\{\$([^}]+)}/g;function pR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function is(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(I_(a)&&I_(u)){if(!is(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function I_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mR(n,e){const t=new gR(n,e);return t.subscribe.bind(t)}class gR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=$f),o.error===void 0&&(o.error=$f),o.complete===void 0&&(o.complete=$f);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function $f(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n){return n&&n._delegate?n._delegate:n}class Gs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZS;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(n){return n===Li?void 0:n}function wR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _R(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const TR={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},IR=be.INFO,SR={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},RR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=SR[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=IR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const CR=(n,e)=>e.some(t=>n instanceof t);let S_,R_;function AR(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,up=new WeakMap,q0=new WeakMap,Hf=new WeakMap,tm=new WeakMap;function kR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Hs(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&H0.set(t,n)}).catch(()=>{}),tm.set(e,n),e}function xR(n){if(up.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});up.set(n,e)}let cp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return up.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NR(n){cp=n(cp)}function bR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(qf(this),e,...t);return q0.set(r,e.sort?e.sort():[e]),Hs(r)}:PR().includes(n)?function(...e){return n.apply(qf(this),e),Hs(H0.get(this))}:function(...e){return Hs(n.apply(qf(this),e))}}function OR(n){return typeof n=="function"?bR(n):(n instanceof IDBTransaction&&xR(n),CR(n,AR())?new Proxy(n,cp):n)}function Hs(n){if(n instanceof IDBRequest)return kR(n);if(Hf.has(n))return Hf.get(n);const e=OR(n);return e!==n&&(Hf.set(n,e),tm.set(e,n)),e}const qf=n=>tm.get(n);function DR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Hs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hs(u.result),f.oldVersion,f.newVersion,Hs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const LR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],Wf=new Map;function C_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=VR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||LR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Wf.set(e,a),a}NR(n=>({...n,get:(e,t,r)=>C_(e,t)||n.get(e,t,r),has:(e,t)=>!!C_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function UR(n){return n.getComponent()?.type==="VERSION"}const hp="@firebase/app",A_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new em("@firebase/app"),FR="@firebase/app-compat",jR="@firebase/analytics-compat",BR="@firebase/analytics",zR="@firebase/app-check-compat",$R="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",WR="@firebase/database",KR="@firebase/data-connect",GR="@firebase/database-compat",QR="@firebase/functions",XR="@firebase/functions-compat",JR="@firebase/installations",YR="@firebase/installations-compat",ZR="@firebase/messaging",eC="@firebase/messaging-compat",tC="@firebase/performance",nC="@firebase/performance-compat",rC="@firebase/remote-config",sC="@firebase/remote-config-compat",iC="@firebase/storage",oC="@firebase/storage-compat",aC="@firebase/firestore",lC="@firebase/ai",uC="@firebase/firestore-compat",cC="firebase",hC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",dC={[hp]:"fire-core",[FR]:"fire-core-compat",[BR]:"fire-analytics",[jR]:"fire-analytics-compat",[$R]:"fire-app-check",[zR]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[WR]:"fire-rtdb",[KR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[QR]:"fire-fn",[XR]:"fire-fn-compat",[JR]:"fire-iid",[YR]:"fire-iid-compat",[ZR]:"fire-fcm",[eC]:"fire-fcm-compat",[tC]:"fire-perf",[nC]:"fire-perf-compat",[rC]:"fire-rc",[sC]:"fire-rc-compat",[iC]:"fire-gcs",[oC]:"fire-gcs-compat",[aC]:"fire-fst",[uC]:"fire-fst-compat",[lC]:"fire-vertex","fire-js":"fire-js",[cC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,fC=new Map,fp=new Map;function P_(n,e){try{n.container.addComponent(e)}catch(t){os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zi(n){const e=n.name;if(fp.has(e))return os.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,n);for(const t of ih.values())P_(t,n);for(const t of fC.values())P_(t,n);return!0}function bh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Zl("app","Firebase",pC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=hC;function W0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:dp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qs.create("bad-app-name",{appName:String(o)});if(t||(t=B0()),!t)throw qs.create("no-options");const a=ih.get(o);if(a){if(is(t,a.options)&&is(r,a.config))return a;throw qs.create("duplicate-app",{appName:o})}const u=new ER(o);for(const f of fp.values())u.addComponent(f);const d=new mC(t,r,u);return ih.set(o,d),d}function nm(n=dp){const e=ih.get(n);if(!e&&n===dp&&B0())return W0();if(!e)throw qs.create("no-app",{appName:n});return e}function Er(n,e,t){let r=dC[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),os.warn(u.join(" "));return}zi(new Gs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebase-heartbeat-database",yC=1,Ul="firebase-heartbeat-store";let Kf=null;function K0(){return Kf||(Kf=DR(gC,yC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw qs.create("idb-open",{originalErrorMessage:n.message})})),Kf}async function _C(n){try{const t=(await K0()).transaction(Ul),r=await t.objectStore(Ul).get(G0(n));return await t.done,r}catch(e){if(e instanceof Lr)os.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e?.message});os.warn(t.message)}}}async function k_(n,e){try{const r=(await K0()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,G0(n)),await r.done}catch(t){if(t instanceof Lr)os.warn(t.message);else{const r=qs.create("idb-set",{originalErrorMessage:t?.message});os.warn(r.message)}}}function G0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=1024,wC=30;class EC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>wC){const o=SC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){os.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x_(),{heartbeatsToSend:t,unsentEntries:r}=TC(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return os.warn(e),""}}}function x_(){return new Date().toISOString().substring(0,10)}function TC(n,e=vC){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),N_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),N_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _C(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return k_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function N_(n){return sh(JSON.stringify({version:2,heartbeats:n})).length}function SC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n){zi(new Gs("platform-logger",e=>new MR(e),"PRIVATE")),zi(new Gs("heartbeat",e=>new EC(e),"PRIVATE")),Er(hp,A_,n),Er(hp,A_,"esm2020"),Er("fire-js","")}RC("");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=Q0,X0=new Zl("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new em("@firebase/auth");function AC(n,...e){oh.logLevel<=be.WARN&&oh.warn(`Auth (${Ji}): ${n}`,...e)}function Hc(n,...e){oh.logLevel<=be.ERROR&&oh.error(`Auth (${Ji}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n,...e){throw rm(n,...e)}function Tr(n,...e){return rm(n,...e)}function J0(n,e,t){const r={...CC(),[e]:t};return new Zl("auth","Firebase",r).create(e,{appName:n.name})}function rs(n){return J0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return X0.create(n,...e)}function Ie(n,e,...t){if(!n)throw rm(e,...t)}function es(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hc(e),new Error(e)}function as(n,e){n||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(){return typeof self<"u"&&self.location?.href||""}function PC(){return b_()==="http:"||b_()==="https:"}function b_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PC()||iR()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,as(t>e,"Short delay should be less than long delay!"),this.isMobile=nR()||oR()}get(){return kC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(n,e){as(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OC=new tu(3e4,6e4);function ni(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ri(n,e,t,r,o={}){return Z0(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=eu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return sR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ti(n.emulatorConfig.host)&&(m.credentials="include"),Y0.fetch()(await ew(n,n.config.apiHost,t,d),m)})}async function Z0(n,e,t){n._canInitEmulator=!1;const r={...NC,...e};try{const o=new LC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dc(n,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw J0(n,_,m);sr(n,_)}}catch(o){if(o instanceof Lr)throw o;sr(n,"network-request-failed",{message:String(o)})}}async function nu(n,e,t,r,o={}){const a=await ri(n,e,t,r,o);return"mfaPendingCredential"in a&&sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function ew(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?sm(n.config,o):`${n.config.apiScheme}://${o}`;return bC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function DC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tr(this.auth,"network-request-failed")),OC.get())})}}function Dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Tr(n,e,r);return o.customData._tokenResponse=t,o}function O_(n){return n!==void 0&&n.enterprise!==void 0}class VC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(n,e){return ri(n,"GET","/v2/recaptchaConfig",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(n,e){return ri(n,"POST","/v1/accounts:delete",e)}async function ah(n,e){return ri(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FC(n,e=!1){const t=Et(n),r=await t.getIdToken(e),o=im(r);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Nl(Gf(o.auth_time)),issuedAtTime:Nl(Gf(o.iat)),expirationTime:Nl(Gf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Gf(n){return Number(n)*1e3}function im(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=U0(t);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D_(n){const e=im(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Lr&&jC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function jC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(n){const e=n.auth,t=await n.getIdToken(),r=await Fl(n,ah(e,{idToken:t}));Ie(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?tw(o.providerUserInfo):[],u=$C(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function zC(n){const e=Et(n);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $C(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function tw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e){const t=await Z0(n,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await ew(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ti(n.emulatorConfig.host)&&(f.credentials="include"),Y0.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qC(n,e){return ri(n,"POST","/v2/accounts:revokeToken",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=D_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await HC(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Zo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new BC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FC(this,e)}reload(){return zC(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Fl(this,UC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:A,stsTokenManager:O}=t;Ie(w&&O,e,"internal-error");const k=Zo.fromJSON(this.name,O);Ie(typeof w=="string",e,"internal-error"),Ms(r,e.name),Ms(o,e.name),Ie(typeof T=="boolean",e,"internal-error"),Ie(typeof C=="boolean",e,"internal-error"),Ms(a,e.name),Ms(u,e.name),Ms(d,e.name),Ms(f,e.name),Ms(m,e.name),Ms(_,e.name);const $=new rr({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:m,lastLoginAt:_});return A&&Array.isArray(A)&&($.providerData=A.map(F=>({...F}))),f&&($._redirectEventId=f),$}static async _fromIdTokenResponse(e,t,r=!1){const o=new Zo;o.updateFromServerResponse(t);const a=new rr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?tw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Zo;d.updateFromIdToken(r);const f=new rr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function ts(n){as(n instanceof Function,"Expected a class definition");let e=L_.get(n);return e?(as(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,L_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nw.type="NONE";const V_=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n,e,t){return`firebase:${n}:${e}:${t}`}class ea{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=qc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ah(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ea(ts(V_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ts(V_);const u=qc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(u);if(_){let w;if(typeof _=="string"){const T=await ah(e,{idToken:_}).catch(()=>{});if(!T)break;w=await rr._fromGetAccountInfoResponse(e,T,_)}else w=rr._fromJSON(e,_);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ea(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lw(e))return"Blackberry";if(uw(e))return"Webos";if(sw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(aw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rw(n=Xt()){return/firefox\//i.test(n)}function sw(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(n=Xt()){return/crios\//i.test(n)}function ow(n=Xt()){return/iemobile/i.test(n)}function aw(n=Xt()){return/android/i.test(n)}function lw(n=Xt()){return/blackberry/i.test(n)}function uw(n=Xt()){return/webos/i.test(n)}function om(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WC(n=Xt()){return om(n)&&!!window.navigator?.standalone}function KC(){return aR()&&document.documentMode===10}function cw(n=Xt()){return om(n)||aw(n)||uw(n)||lw(n)||/windows phone/i.test(n)||ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n,e=[]){let t;switch(n){case"Browser":t=M_(Xt());break;case"Worker":t=`${M_(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ji}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(n,e={}){return ri(n,"GET","/v2/passwordPolicy",ni(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=6;class JC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new GC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ts(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ah(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(rs(this));const t=e?Et(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QC(this),t=new JC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await qC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ts(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ts(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yi(n){return Et(n)}class U_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZC(n){Oh=n}function dw(n){return Oh.loadJS(n)}function eA(){return Oh.recaptchaEnterpriseScript}function tA(){return Oh.gapiScript}function nA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rA{constructor(){this.enterprise=new sA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class sA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const iA="recaptcha-enterprise",fw="NO_RECAPTCHA";class oA{constructor(e){this.type=iA,this.auth=Yi(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{MC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new VC(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;O_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(fw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&O_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=eA();f.length!==0&&(f+=d),dw(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function F_(n,e,t,r=!1,o=!1){const a=new oA(n);let u;if(o)u=fw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function gp(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await F_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await F_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(n,e){const t=bh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(is(a,e??{}))return o;sr(o,"already-initialized")}return t.initialize({options:e})}function lA(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ts);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function uA(n,e,t){const r=Yi(n);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=pw(e),{host:u,port:d}=cA(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},_=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(is(m,r.config.emulator)&&is(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,ti(u)?(Yp(`${a}//${u}${f}`),Zp("Auth",!0)):hA()}function pw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cA(n){const e=pw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:j_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:j_(u)}}}function j_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,t){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function dA(n,e){return ri(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e){return nu(n,"POST","/v1/accounts:signInWithPassword",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",ni(n,e))}async function mA(n,e){return nu(n,"POST","/v1/accounts:signInWithEmailLink",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends am{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new jl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,t,"signInWithPassword",fA);case"emailLink":return pA(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,r,"signUpPassword",dA);case"emailLink":return mA(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(n,e){return nu(n,"POST","/v1/accounts:signInWithIdp",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="http://localhost";class $i extends am{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new $i(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ta(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:gA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _A(n){const e=Sl(Rl(n)).link,t=e?Sl(Rl(e)).deep_link_id:null,r=Sl(Rl(n)).deep_link_id;return(r?Sl(Rl(r)).link:null)||r||t||e||n}class lm{constructor(e){const t=Sl(Rl(e)),r=t.apiKey??null,o=t.oobCode??null,a=yA(t.mode??null);Ie(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_A(e);try{return new lm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,t){return jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=lm.parseLink(t);return Ie(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends mw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends ru{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $i._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fs.credential(t,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends ru{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends ru{constructor(){super("twitter.com")}static credential(e,t){return $i._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Bs.credential(t,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n,e){return nu(n,"POST","/v1/accounts:signUp",ni(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await rr._fromIdTokenResponse(e,r,o),u=B_(r);return new Hi({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=B_(r);return new Hi({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function B_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Lr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new uh(e,t,r,o)}}function gw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,a,e,r):a})}async function wA(n,e,t=!1){const r=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e,t=!1){const{auth:r}=n;if(Sn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const a=await Fl(n,gw(r,o,e,n),t);Ie(a.idToken,r,"internal-error");const u=im(a.idToken);Ie(u,r,"internal-error");const{sub:d}=u;return Ie(n.uid===d,r,"user-mismatch"),Hi._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(n,e,t=!1){if(Sn(n.app))return Promise.reject(rs(n));const r="signIn",o=await gw(n,r,e),a=await Hi._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function TA(n,e){return yw(Yi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(n){const e=Yi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IA(n,e,t){if(Sn(n.app))return Promise.reject(rs(n));const r=Yi(n),u=await gp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vA).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_w(n),f}),d=await Hi._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function SA(n,e,t){return Sn(n.app)?Promise.reject(rs(n)):TA(Et(n),ga.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_w(n),r})}function RA(n,e,t,r){return Et(n).onIdTokenChanged(e,t,r)}function CA(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function um(n,e,t,r){return Et(n).onAuthStateChanged(e,t,r)}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1e3,PA=10;class ww extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);KC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PA):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const kA=ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ew.type="SESSION";const Tw=Ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await xA(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=cm("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function bA(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function OA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DA(){return navigator?.serviceWorker?.controller||null}function LA(){return Iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firebaseLocalStorageDb",VA=1,hh="firebaseLocalStorage",Rw="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function MA(){const n=indexedDB.deleteDatabase(Sw);return new su(n).toPromise()}function yp(){const n=indexedDB.open(Sw,VA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hh,{keyPath:Rw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await MA(),e(await yp()))})})}async function z_(n,e,t){const r=Lh(n,!0).put({[Rw]:e,value:t});return new su(r).toPromise()}async function UA(n,e){const t=Lh(n,!1).get(e),r=await new su(t).toPromise();return r===void 0?null:r.value}function $_(n,e){const t=Lh(n,!0).delete(e);return new su(t).toPromise()}const FA=800,jA=3;class Cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(LA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OA(),!this.activeServiceWorker)return;this.sender=new NA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await z_(e,ch,"1"),await $_(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>z_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>UA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Lh(o,!1).getAll();return new su(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cw.type="LOCAL";const BA=Cw;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(n,e){return e?ts(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends am{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $A(n){return yw(n.auth,new hm(n),n.bypassAuthState)}function HA(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),EA(t,new hm(n),n.bypassAuthState)}async function qA(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),wA(t,new hm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $A;case"linkViaPopup":case"linkViaRedirect":return qA;case"reauthViaPopup":case"reauthViaRedirect":return HA;default:sr(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new tu(2e3,1e4);class Yo extends Aw{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WA.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="pendingRedirect",Wc=new Map;class GA extends Aw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await QA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QA(n,e){const t=YA(e),r=JA(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function XA(n,e){Wc.set(n._key(),e)}function JA(n){return ts(n._redirectPersistence)}function YA(n){return qc(KA,n.config.apiKey,n.name)}async function ZA(n,e,t=!1){if(Sn(n.app))return Promise.reject(rs(n));const r=Yi(n),o=zA(r,e),u=await new GA(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=600*1e3;class tP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Pw(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eP&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(e))}saveEventToCache(e){this.cachedEventUids.add(H_(e)),this.lastProcessedEventTime=Date.now()}}function H_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Pw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function nP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e={}){return ri(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iP=/^https?/;async function oP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await rP(n);for(const t of e)try{if(aP(t))return}catch{}sr(n,"unauthorized-domain")}function aP(n){const e=pp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!iP.test(t))return!1;if(sP.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new tu(3e4,6e4);function q_(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function uP(n){return new Promise((e,t)=>{function r(){q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q_(),t(Tr(n,"network-request-failed"))},timeout:lP.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)r();else{const o=nA("iframefcb");return Ir()[o]=()=>{gapi.load?r():t(Tr(n,"network-request-failed"))},dw(`${tA()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function cP(n){return Kc=Kc||uP(n),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new tu(5e3,15e3),dP="__/auth/iframe",fP="emulator/auth/iframe",pP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gP(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sm(e,fP):`https://${n.config.authDomain}/${dP}`,r={apiKey:e.apiKey,appName:n.name,v:Ji},o=mP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${eu(r).slice(1)}`}async function yP(n){const e=await cP(n),t=Ir().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:gP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},hP.get());function f(){Ir().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vP=500,wP=600,EP="_blank",TP="http://localhost";class W_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IP(n,e,t,r=vP,o=wP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={..._P,width:r.toString(),height:o.toString(),top:a,left:u},m=Xt().toLowerCase();t&&(d=iw(m)?EP:t),rw(m)&&(e=e||TP,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[C,A])=>`${T}${C}=${A},`,"");if(WC(m)&&d!=="_self")return SP(e||"",d),new W_(null);const w=window.open(e||"",d,_);Ie(w,n,"popup-blocked");try{w.focus()}catch{}return new W_(w)}function SP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="__/auth/handler",CP="emulator/auth/handler",AP=encodeURIComponent("fac");async function K_(n,e,t,r,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ji,eventId:o};if(e instanceof mw){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",pR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))u[_]=w}if(e instanceof ru){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),m=f?`#${AP}=${encodeURIComponent(f)}`:"";return`${PP(n)}?${eu(d).slice(1)}${m}`}function PP({config:n}){return n.emulator?sm(n,CP):`https://${n.authDomain}/${RP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="webStorageSupport";class kP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tw,this._completeRedirectFn=ZA,this._overrideRedirectResult=XA}async _openPopup(e,t,r,o){as(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await K_(e,t,r,pp(),o);return IP(e,a,cm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await K_(e,t,r,pp(),o);return bA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(as(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await yP(e),r=new tP(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qf,{type:Qf},o=>{const a=o?.[0]?.[Qf];a!==void 0&&t(!!a),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=oP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cw()||sw()||om()}}const xP=kP;var G_="@firebase/auth",Q_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OP(n){zi(new Gs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hw(n)},m=new YC(r,o,a,f);return lA(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Gs("auth-internal",e=>{const t=Yi(e.getProvider("auth").getImmediate());return(r=>new NP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(G_,Q_,bP(n)),Er(G_,Q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=300,LP=z0("authIdTokenMaxAge")||DP;let X_=null;const VP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>LP)return;const o=t?.token;X_!==o&&(X_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MP(n=nm()){const e=bh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aA(n,{popupRedirectResolver:xP,persistence:[BA,kA,Tw]}),r=z0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=VP(a.toString());CA(t,u,()=>u(t.currentUser)),RA(t,d=>u(d))}}const o=F0("auth");return o&&uA(t,`http://${o}`),t}function UP(){return document.getElementsByTagName("head")?.[0]??document}ZC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Tr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",UP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OP("Browser");var FP="firebase",jP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(FP,jP,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,kw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function P(){}P.prototype=R.prototype,b.D=R.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(L,U,z){for(var N=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)N[Je-2]=arguments[Je];return R.prototype[U].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,P){P||(P=0);var L=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)L[U]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(U=0;16>U;++U)L[U]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=b.g[0],P=b.g[1],U=b.g[2];var z=b.g[3],N=R+(z^P&(U^z))+L[0]+3614090360&4294967295;R=P+(N<<7&4294967295|N>>>25),N=z+(U^R&(P^U))+L[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(P^z&(R^P))+L[2]+606105819&4294967295,U=z+(N<<17&4294967295|N>>>15),N=P+(R^U&(z^R))+L[3]+3250441966&4294967295,P=U+(N<<22&4294967295|N>>>10),N=R+(z^P&(U^z))+L[4]+4118548399&4294967295,R=P+(N<<7&4294967295|N>>>25),N=z+(U^R&(P^U))+L[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(P^z&(R^P))+L[6]+2821735955&4294967295,U=z+(N<<17&4294967295|N>>>15),N=P+(R^U&(z^R))+L[7]+4249261313&4294967295,P=U+(N<<22&4294967295|N>>>10),N=R+(z^P&(U^z))+L[8]+1770035416&4294967295,R=P+(N<<7&4294967295|N>>>25),N=z+(U^R&(P^U))+L[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(P^z&(R^P))+L[10]+4294925233&4294967295,U=z+(N<<17&4294967295|N>>>15),N=P+(R^U&(z^R))+L[11]+2304563134&4294967295,P=U+(N<<22&4294967295|N>>>10),N=R+(z^P&(U^z))+L[12]+1804603682&4294967295,R=P+(N<<7&4294967295|N>>>25),N=z+(U^R&(P^U))+L[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=U+(P^z&(R^P))+L[14]+2792965006&4294967295,U=z+(N<<17&4294967295|N>>>15),N=P+(R^U&(z^R))+L[15]+1236535329&4294967295,P=U+(N<<22&4294967295|N>>>10),N=R+(U^z&(P^U))+L[1]+4129170786&4294967295,R=P+(N<<5&4294967295|N>>>27),N=z+(P^U&(R^P))+L[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^P&(z^R))+L[11]+643717713&4294967295,U=z+(N<<14&4294967295|N>>>18),N=P+(z^R&(U^z))+L[0]+3921069994&4294967295,P=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(P^U))+L[5]+3593408605&4294967295,R=P+(N<<5&4294967295|N>>>27),N=z+(P^U&(R^P))+L[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^P&(z^R))+L[15]+3634488961&4294967295,U=z+(N<<14&4294967295|N>>>18),N=P+(z^R&(U^z))+L[4]+3889429448&4294967295,P=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(P^U))+L[9]+568446438&4294967295,R=P+(N<<5&4294967295|N>>>27),N=z+(P^U&(R^P))+L[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^P&(z^R))+L[3]+4107603335&4294967295,U=z+(N<<14&4294967295|N>>>18),N=P+(z^R&(U^z))+L[8]+1163531501&4294967295,P=U+(N<<20&4294967295|N>>>12),N=R+(U^z&(P^U))+L[13]+2850285829&4294967295,R=P+(N<<5&4294967295|N>>>27),N=z+(P^U&(R^P))+L[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=U+(R^P&(z^R))+L[7]+1735328473&4294967295,U=z+(N<<14&4294967295|N>>>18),N=P+(z^R&(U^z))+L[12]+2368359562&4294967295,P=U+(N<<20&4294967295|N>>>12),N=R+(P^U^z)+L[5]+4294588738&4294967295,R=P+(N<<4&4294967295|N>>>28),N=z+(R^P^U)+L[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^P)+L[11]+1839030562&4294967295,U=z+(N<<16&4294967295|N>>>16),N=P+(U^z^R)+L[14]+4259657740&4294967295,P=U+(N<<23&4294967295|N>>>9),N=R+(P^U^z)+L[1]+2763975236&4294967295,R=P+(N<<4&4294967295|N>>>28),N=z+(R^P^U)+L[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^P)+L[7]+4139469664&4294967295,U=z+(N<<16&4294967295|N>>>16),N=P+(U^z^R)+L[10]+3200236656&4294967295,P=U+(N<<23&4294967295|N>>>9),N=R+(P^U^z)+L[13]+681279174&4294967295,R=P+(N<<4&4294967295|N>>>28),N=z+(R^P^U)+L[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^P)+L[3]+3572445317&4294967295,U=z+(N<<16&4294967295|N>>>16),N=P+(U^z^R)+L[6]+76029189&4294967295,P=U+(N<<23&4294967295|N>>>9),N=R+(P^U^z)+L[9]+3654602809&4294967295,R=P+(N<<4&4294967295|N>>>28),N=z+(R^P^U)+L[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=U+(z^R^P)+L[15]+530742520&4294967295,U=z+(N<<16&4294967295|N>>>16),N=P+(U^z^R)+L[2]+3299628645&4294967295,P=U+(N<<23&4294967295|N>>>9),N=R+(U^(P|~z))+L[0]+4096336452&4294967295,R=P+(N<<6&4294967295|N>>>26),N=z+(P^(R|~U))+L[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~P))+L[14]+2878612391&4294967295,U=z+(N<<15&4294967295|N>>>17),N=P+(z^(U|~R))+L[5]+4237533241&4294967295,P=U+(N<<21&4294967295|N>>>11),N=R+(U^(P|~z))+L[12]+1700485571&4294967295,R=P+(N<<6&4294967295|N>>>26),N=z+(P^(R|~U))+L[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~P))+L[10]+4293915773&4294967295,U=z+(N<<15&4294967295|N>>>17),N=P+(z^(U|~R))+L[1]+2240044497&4294967295,P=U+(N<<21&4294967295|N>>>11),N=R+(U^(P|~z))+L[8]+1873313359&4294967295,R=P+(N<<6&4294967295|N>>>26),N=z+(P^(R|~U))+L[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~P))+L[6]+2734768916&4294967295,U=z+(N<<15&4294967295|N>>>17),N=P+(z^(U|~R))+L[13]+1309151649&4294967295,P=U+(N<<21&4294967295|N>>>11),N=R+(U^(P|~z))+L[4]+4149444226&4294967295,R=P+(N<<6&4294967295|N>>>26),N=z+(P^(R|~U))+L[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=U+(R^(z|~P))+L[2]+718787259&4294967295,U=z+(N<<15&4294967295|N>>>17),N=P+(z^(U|~R))+L[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(U+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+U&4294967295,b.g[3]=b.g[3]+z&4294967295}r.prototype.u=function(b,R){R===void 0&&(R=b.length);for(var P=R-this.blockSize,L=this.B,U=this.h,z=0;z<R;){if(U==0)for(;z<=P;)o(this,b,z),z+=this.blockSize;if(typeof b=="string"){for(;z<R;)if(L[U++]=b.charCodeAt(z++),U==this.blockSize){o(this,L),U=0;break}}else for(;z<R;)if(L[U++]=b[z++],U==this.blockSize){o(this,L),U=0;break}}this.h=U,this.o+=R},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;var P=8*this.o;for(R=b.length-8;R<b.length;++R)b[R]=P&255,P/=256;for(this.u(b),b=Array(16),R=P=0;4>R;++R)for(var L=0;32>L;L+=8)b[P++]=this.g[R]>>>L&255;return b};function a(b,R){var P=d;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=R(b)}function u(b,R){this.h=R;for(var P=[],L=!0,U=b.length-1;0<=U;U--){var z=b[U]|0;L&&z==R||(P[U]=z,L=!1)}this.g=P}var d={};function f(b){return-128<=b&&128>b?a(b,function(R){return new u([R|0],0>R?-1:0)}):new u([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return k(m(-b));for(var R=[],P=1,L=0;b>=P;L++)R[L]=b/P|0,P*=4294967296;return new u(R,0)}function _(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return k(_(b.substring(1),R));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(R,8)),L=w,U=0;U<b.length;U+=8){var z=Math.min(8,b.length-U),N=parseInt(b.substring(U,U+z),R);8>z?(z=m(Math.pow(R,z)),L=L.j(z).add(m(N))):(L=L.j(P),L=L.add(m(N)))}return L}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(O(this))return-k(this).m();for(var b=0,R=1,P=0;P<this.g.length;P++){var L=this.i(P);b+=(0<=L?L:4294967296+L)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(O(this))return"-"+k(this).toString(b);for(var R=m(Math.pow(b,6)),P=this,L="";;){var U=H(P,R).g;P=$(P,U.j(R));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=U,A(P))return z+L;for(;6>z.length;)z="0"+z;L=z+L}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function O(b){return b.h==-1}n.l=function(b){return b=$(this,b),O(b)?-1:A(b)?0:1};function k(b){for(var R=b.g.length,P=[],L=0;L<R;L++)P[L]=~b.g[L];return new u(P,~b.h).add(T)}n.abs=function(){return O(this)?k(this):this},n.add=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],L=0,U=0;U<=R;U++){var z=L+(this.i(U)&65535)+(b.i(U)&65535),N=(z>>>16)+(this.i(U)>>>16)+(b.i(U)>>>16);L=N>>>16,z&=65535,N&=65535,P[U]=N<<16|z}return new u(P,P[P.length-1]&-2147483648?-1:0)};function $(b,R){return b.add(k(R))}n.j=function(b){if(A(this)||A(b))return w;if(O(this))return O(b)?k(this).j(k(b)):k(k(this).j(b));if(O(b))return k(this.j(k(b)));if(0>this.l(C)&&0>b.l(C))return m(this.m()*b.m());for(var R=this.g.length+b.g.length,P=[],L=0;L<2*R;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<b.g.length;U++){var z=this.i(L)>>>16,N=this.i(L)&65535,Je=b.i(U)>>>16,tt=b.i(U)&65535;P[2*L+2*U]+=N*tt,F(P,2*L+2*U),P[2*L+2*U+1]+=z*tt,F(P,2*L+2*U+1),P[2*L+2*U+1]+=N*Je,F(P,2*L+2*U+1),P[2*L+2*U+2]+=z*Je,F(P,2*L+2*U+2)}for(L=0;L<R;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=R;L<2*R;L++)P[L]=0;return new u(P,0)};function F(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function j(b,R){this.g=b,this.h=R}function H(b,R){if(A(R))throw Error("division by zero");if(A(b))return new j(w,w);if(O(b))return R=H(k(b),R),new j(k(R.g),k(R.h));if(O(R))return R=H(b,k(R)),new j(k(R.g),R.h);if(30<b.g.length){if(O(b)||O(R))throw Error("slowDivide_ only works with positive integers.");for(var P=T,L=R;0>=L.l(b);)P=ee(P),L=ee(L);var U=le(P,1),z=le(L,1);for(L=le(L,2),P=le(P,2);!A(L);){var N=z.add(L);0>=N.l(b)&&(U=U.add(P),z=N),L=le(L,1),P=le(P,1)}return R=$(b,U.j(R)),new j(U,R)}for(U=w;0<=b.l(R);){for(P=Math.max(1,Math.floor(b.m()/R.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),z=m(P),N=z.j(R);O(N)||0<N.l(b);)P-=L,z=m(P),N=z.j(R);A(z)&&(z=T),U=U.add(z),b=$(b,N)}return new j(U,b)}n.A=function(b){return H(this,b).h},n.and=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)&b.i(L);return new u(P,this.h&b.h)},n.or=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)|b.i(L);return new u(P,this.h|b.h)},n.xor=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)^b.i(L);return new u(P,this.h^b.h)};function ee(b){for(var R=b.g.length+1,P=[],L=0;L<R;L++)P[L]=b.i(L)<<1|b.i(L-1)>>>31;return new u(P,b.h)}function le(b,R){var P=R>>5;R%=32;for(var L=b.g.length-P,U=[],z=0;z<L;z++)U[z]=0<R?b.i(z+P)>>>R|b.i(z+P+1)<<32-R:b.i(z+P);return new u(U,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,Ws=u}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xw,Cl,Nw,Gc,_p,bw,Ow,Dw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in v))break e;v=v[q]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var v=0,S=!1,q={next:function(){if(!S&&v<c.length){var Q=v++;return{value:g(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,v){return c.call.apply(c.bind,arguments)}function w(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function T(c,g,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,q,Q){for(var ae=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ae[qe-2]=arguments[qe];return g.prototype[q].apply(S,ae)}}function O(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function k(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(f(S)){const q=c.length||0,Q=S.length||0;c.length=q+Q;for(let ae=0;ae<Q;ae++)c[q+ae]=S[ae]}else c.push(S)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function H(c){return H[" "](c),c}H[" "]=function(){};var ee=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function le(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function b(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(c,g){let v,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(v in S)c[v]=S[v];for(let Q=0;Q<P.length;Q++)v=P[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function U(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function N(){var c=_e;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,v){const S=tt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new $(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,oe=!1,_e=new Je,Y=()=>{const c=d.Promise.resolve(void 0);Ve=()=>{c.then(V)}};var V=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){z(v)}var g=tt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}oe=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return c}();function ue(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ee){e:{try{H(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}A(ue,pe);var Pe={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ge(c,g,v,S,q){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=q,this.key=++$e,this.da=this.fa=!1}function kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vr(c){this.src=c,this.g={},this.h=0}Vr.prototype.add=function(c,g,v,S,q){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=ds(c,g,S,q);return-1<ae?(g=c[ae],v||(g.fa=!1)):(g=new Ge(g,this.src,Q,!!S,q),g.fa=v,c.push(g)),g};function to(c,g){var v=g.type;if(v in c.g){var S=c.g[v],q=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(kt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ds(c,g,v,S){for(var q=0;q<c.length;++q){var Q=c[q];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==S)return q}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),no={};function Sa(c,g,v,S,q){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Sa(c,g[Q],v,S,q);return null}return v=Aa(v),c&&c[ze]?c.K(g,v,m(S)?!!S.capture:!1,q):Ra(c,g,v,!1,S,q)}function Ra(c,g,v,S,q,Q){if(!g)throw Error("Invalid event type");var ae=m(q)?!!q.capture:!!q,qe=so(c);if(qe||(c[ai]=qe=new Vr(c)),v=qe.add(g,v,S,ae,Q),v.proxy)return v;if(S=yu(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ve||(q=ae),q===void 0&&(q=!1),c.addEventListener(g.toString(),S,q);else if(c.attachEvent)c.attachEvent(Ur(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function yu(){function c(v){return g.call(c.src,c.listener,v)}const g=Ca;return c}function ro(c,g,v,S,q){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)ro(c,g[Q],v,S,q);else S=m(S)?!!S.capture:!!S,v=Aa(v),c&&c[ze]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],v=ds(Q,v,S,q),-1<v&&(kt(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=so(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ds(g,v,S,q)),(v=-1<c?g[c]:null)&&Mr(v))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ze])to(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Ur(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=so(g))?(to(v,c),v.h==0&&(v.src=null,g[ai]=null)):kt(c)}}}function Ur(c){return c in no?no[c]:no[c]="on"+c}function Ca(c,g){if(c.da)c=!0;else{g=new ue(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Mr(c),c=v.call(S,g)}return c}function so(c){return c=c[ai],c instanceof Vr?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(c){return typeof c=="function"?c:(c[io]||(c[io]=function(g){return c.handleEvent(g)}),c[io])}function Tt(){J.call(this),this.i=new Vr(this),this.M=this,this.F=null}A(Tt,J),Tt.prototype[ze]=!0,Tt.prototype.removeEventListener=function(c,g,v,S){ro(this,c,g,v,S)};function It(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var q=g;g=new pe(S,c),L(g,q)}if(q=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=g.g=v[Q];q=Fr(ae,S,!0,g)&&q}if(ae=g.g=c,q=Fr(ae,S,!0,g)&&q,q=Fr(ae,S,!1,g)&&q,v)for(Q=0;Q<v.length;Q++)ae=g.g=v[Q],q=Fr(ae,S,!1,g)&&q}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)kt(v[S]);delete c.g[g],c.h--}}this.F=null},Tt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},Tt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Fr(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,Q=0;Q<g.length;++Q){var ae=g[Q];if(ae&&!ae.da&&ae.capture==v){var qe=ae.listener,St=ae.ha||ae.src;ae.fa&&to(c.i,ae),q=qe.call(St,S)!==!1&&q}}return q&&!S.defaultPrevented}function Pa(c,g,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function fs(c){c.g=Pa(()=>{c.g=null,c.i&&(c.i=!1,fs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class li extends J{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(c){J.call(this),this.h=c,this.g={}}A(ui,J);var ka=[];function xa(c){le(c.g,function(g,v){this.g.hasOwnProperty(v)&&Mr(g)},c),c.g={}}ui.prototype.N=function(){ui.aa.N.call(this),xa(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=d.JSON.stringify,ba=d.JSON.parse,Oa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ci(){}ci.prototype.h=null;function oo(c){return c.h||(c.h=c.i())}function ao(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){pe.call(this,"d")}A(ar,pe);function lo(){pe.call(this,"c")}A(lo,pe);var lr={},Da=null;function hi(){return Da=Da||new Tt}lr.La="serverreachability";function La(c){pe.call(this,lr.La,c)}A(La,pe);function jr(c){const g=hi();It(g,new La(g))}lr.STAT_EVENT="statevent";function Va(c,g){pe.call(this,lr.STAT_EVENT,c),this.stat=g}A(Va,pe);function ft(c){const g=hi();It(g,new Va(g,c))}lr.Ma="timingevent";function uo(c,g){pe.call(this,lr.Ma,c),this.size=g}A(uo,pe);function zn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function fi(c,g,v,S,q,Q){c.info(function(){if(c.g)if(Q)for(var ae="",qe=Q.split("&"),St=0;St<qe.length;St++){var Me=qe[St].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var gt=xt.split("_");ae=2<=gt.length&&gt[1]=="type"?ae+(xt+"="+Me+"&"):ae+(xt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+g+`
`+v+`
`+ae})}function co(c,g,v,S,q,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+g+`
`+v+`
`+Q+" "+ae})}function $n(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ud(c,v)+(S?" "+S:"")})}function Ma(c,g){c.info(function(){return"TIMEOUT: "+g})}di.prototype.info=function(){};function ud(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<q.length;ae++)q[ae]=""}}}}return Na(v)}catch{return g}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function pi(){}A(pi,ci),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},Hn=new pi;function qn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Ua={},fo={};function po(c,g,v){c.L=1,c.v=_s(_n(g)),c.m=v,c.P=!0,Fa(c,null)}function Fa(c,g){c.F=Date.now(),Qe(c),c.A=_n(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ws(v.i,"t",S),c.C=0,v=c.j.J,c.h=new vu,c.g=Mu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new li(T(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(ka[0]=q.toString()),q=ka);for(var Q=0;Q<q.length;Q++){var ae=Sa(v,q[Q],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),jr(),fi(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const g=this.M;g&&sn(c)==3?g.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const gt=sn(this.g);var g=this.g.Ba();const On=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||gt!=4||g==7||(g==8||0>=On?jr(3):jr(2)),mi(this);var v=this.g.Z();this.X=v;t:if(wu(this)){var S=qa(this.g);c="";var q=S.length,Q=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),ps(this);var ae="";break t}this.h.i=new d.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Q&&g==q-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,co(this.i,this.u,this.A,this.l,this.R,gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,St=this.g;if((qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(qe)){var Me=qe;break t}}Me=null}if(v=Me)$n(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,v);else{this.o=!1,this.s=3,ft(12),Nn(this),ps(this);break e}}if(this.P){v=!0;let wn;for(;!this.J&&this.C<ae.length;)if(wn=cd(this,ae),wn==fo){gt==4&&(this.s=4,ft(14),v=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ua){this.s=4,ft(15),$n(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else $n(this.i,this.l,wn,null),ja(this,wn);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)$n(this.i,this.l,ae,"[Invalid Chunked Response]"),Nn(this),ps(this);else if(0<ae.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ka(xt),xt.M=!0,ft(11))}}else $n(this.i,this.l,ae,null),ja(this,ae);gt==4&&Nn(this),this.o&&!this.J&&(gt==4?Ro(this.j,this):(this.o=!1,Qe(this)))}else wo(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Nn(this),ps(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cd(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?fo:(v=Number(g.substring(v,S)),isNaN(v)?Ua:(S+=1,S+v>g.length?fo:(g=g.slice(S,S+v),c.C=S+v,g)))}qn.prototype.cancel=function(){this.J=!0,Nn(this)};function Qe(c){c.S=Date.now()+c.I,Eu(c,c.I)}function Eu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(T(c.ba,c),g)}function mi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ma(this.i,this.A),this.L!=2&&(jr(),ft(17)),Nn(this),this.s=2,ps(this)):Eu(this,this.S-c)};function ps(c){c.j.G==0||c.J||Ro(c.j,c)}function Nn(c){mi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,xa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ja(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Jt(v.h,c))){if(!c.K&&Jt(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)So(v),Xn(v);else break e;Io(v),ft(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=zn(T(v.Za,v),6e3));if(1>=Iu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((c.K||v.g==c)&&So(v),!F(g))for(q=v.Da.g.parse(g),g=0;g<q.length;g++){let Me=q[g];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const xt=Me[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const gt=Me[4];gt!=null&&(v.Aa=gt,v.j.info("SVER="+v.Aa));const On=Me[5];On!=null&&typeof On=="number"&&0<On&&(S=1.5*On,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const wn=c.g;if(wn){const Ti=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var Q=S.h;Q.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ba(Q,Q.h),Q.h=null))}if(S.D){const Ao=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(S.ya=Ao,We(S.I,S.D,Ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Vu(S,S.J?S.ia:null,S.W),ae.K){Su(S.h,ae);var qe=ae,St=S.L;St&&(qe.I=St),qe.B&&(mi(qe),Qe(qe)),S.g=ae}else Ei(S);0<v.i.length&&dr(v)}else Me[0]!="stop"&&Me[0]!="close"||qr(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?qr(v,7):Vt(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}jr(4)}catch{}}var Tu=class{constructor(c,g){this.g=c,this.map=g}};function gi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Iu(c){return c.h?1:c.g?c.g.size:0}function Jt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ba(c,g){c.g?c.g.add(g):c.h=g}function Su(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}gi.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ru(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return O(c.i)}function mo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function go(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function ms(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=go(c),S=mo(c),q=S.length,Q=0;Q<q;Q++)g.call(void 0,S[Q],v&&v[Q],c)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hd(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),q=null;if(0<=S){var Q=c[v].substring(0,S);q=c[v].substring(S+1)}else Q=c[v];g(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Br(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Br){this.h=c.h,_i(this,c.j),this.o=c.o,this.g=c.g,gs(this,c.s),this.l=c.l;var g=c.i,v=new ur;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ys(this,v),this.m=c.m}else c&&(g=String(c).match(yi))?(this.h=!1,_i(this,g[1]||"",!0),this.o=Le(g[2]||""),this.g=Le(g[3]||"",!0),gs(this,g[4]),this.l=Le(g[5]||"",!0),ys(this,g[6]||"",!0),this.m=Le(g[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Br.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vs(g,yo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vs(g,yo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?Pu:Au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,za)),c.join("")};function _n(c){return new Br(c)}function _i(c,g,v){c.j=v?Le(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ys(c,g,v){g instanceof ur?(c.i=g,cr(c.i,c.h)):(v||(g=vs(g,ku)),c.i=new ur(g,c.h))}function We(c,g,v){c.i.set(g,v)}function _s(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Cu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yo=/[#\/\?@]/g,Au=/[#\?:]/g,Pu=/[#\?]/g,ku=/[#\?@]/g,za=/#/g;function ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Lt(c){c.g||(c.g=new Map,c.h=0,c.i&&hd(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=ur.prototype,n.add=function(c,g){Lt(this),this.i=null,c=bn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Wn(c,g){Lt(c),g=bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Kn(c,g){return Lt(c),g=bn(c,g),c.g.has(g)}n.forEach=function(c,g){Lt(this),this.g.forEach(function(v,S){v.forEach(function(q){c.call(g,q,S,this)},this)},this)},n.na=function(){Lt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const q=c[S];for(let Q=0;Q<q.length;Q++)v.push(g[S])}return v},n.V=function(c){Lt(this);let g=[];if(typeof c=="string")Kn(this,c)&&(g=g.concat(this.g.get(bn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},n.set=function(c,g){return Lt(this),this.i=null,c=bn(this,c),Kn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ws(c,g,v){Wn(c,g),0<v.length&&(c.i=null,c.g.set(bn(c,g),O(v)),c.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var q=Q;ae[S]!==""&&(q+="="+encodeURIComponent(String(ae[S]))),c.push(q)}}return this.i=c.join("&")};function bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function cr(c,g){g&&!c.j&&(Lt(c),c.i=null,c.g.forEach(function(v,S){var q=S.toLowerCase();S!=q&&(Wn(this,S),ws(this,q,v))},c)),c.j=g}function dd(c,g){const v=new di;if(d.Image){const S=new Image;S.onload=C(rn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=C(rn,v,"TestLoadImage: error",!1,g,S),S.onabort=C(rn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=C(rn,v,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function xu(c,g){const v=new di,S=new AbortController,q=setTimeout(()=>{S.abort(),rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?rn(v,"TestPingServer: ok",!0,g):rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),rn(v,"TestPingServer: error",!1,g)})}function rn(c,g,v,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(v)}catch{}}function fd(){this.g=new Oa}function Nu(c,g,v){const S=v||"";try{ms(c,function(q,Q){let ae=q;m(q)&&(ae=Na(q)),g.push(S+Q+"="+encodeURIComponent(ae))})}catch(q){throw g.push(S+"type="+encodeURIComponent("_badmap")),q}}function zr(c){this.l=c.Ub||null,this.j=c.eb||!1}A(zr,ci),zr.prototype.g=function(){return new vi(this.l,this.j)},zr.prototype.i=function(c){return function(){return c}}({});function vi(c,g){Tt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vi,Tt),n=vi.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Qn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Gn(this):Qn(this),this.readyState==3&&bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Gn(this))},n.Qa=function(c){this.g&&(this.response=c,Gn(this))},n.ga=function(){this.g&&Gn(this)};function Gn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $r(c){let g="";return le(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Es(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=$r(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,g,v))}function nt(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(nt,Tt);var pd=/^https?$/i,$a=["POST","PUT"];n=nt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?oo(this.o):oo(Hn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){wi(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)v.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call($a,g,void 0))||S||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){wi(this,Q)}};function wi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,_o(c),vn(c)}function _o(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof u<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)Pa(c.Ea,0,c);else if(It(c,"readystatechange"),sn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ae===0){var q=String(c.D).match(yi)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),S=!pd.test(q?q.toLowerCase():"")}v=S}if(v)It(c,"complete"),It(c,"success");else{c.m=6;try{var Q=2<sn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",_o(c)}}finally{vn(c)}}}}function vn(c,g){if(c.g){vo(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||It(c,"ready");try{v.onreadystatechange=S}catch{}}}function vo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ba(g)}};function qa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(c){const g={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(F(c[S]))continue;var v=U(c[S]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[q]||[];g[q]=Q,Q.push(v)}b(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Wa(c){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(c&&c.concurrentRequestLimit),this.Da=new fd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(c,g,v,S){ft(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Vu(this,null,this.W),dr(this)};function Vt(c){if(Eo(c),c.G==3){var g=c.U++,v=_n(c.I);if(We(v,"SID",c.K),We(v,"RID",g),We(v,"TYPE","terminate"),Hr(c,v),g=new qn(c,c.j,g),g.L=2,g.v=_s(_n(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.v,v=!0),v||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qe(g)}Lu(c)}function Xn(c){c.g&&(Ka(c),c.g.cancel(),c.g=null)}function Eo(c){Xn(c),c.u&&(d.clearTimeout(c.u),c.u=null),So(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function dr(c){if(!yn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ve||Y(),oe||(Ve(),oe=!0),_e.add(g,c),c.B=0}}function md(c,g){return Iu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(T(c.Ga,c,g),Du(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new qn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),L(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ts(this,q,g),v=_n(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Hr(this,v),Q&&(this.O?g="headers="+encodeURIComponent(String($r(Q)))+"&"+g:this.m&&Es(v,this.m,Q)),Ba(this.h,q),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",g),We(v,"SID","null"),q.T=!0,po(q,v,null)):po(q,v,g),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||yn(this.h)||To(this))};function To(c,g){var v;g?v=g.l:v=c.U++;const S=_n(c.I);We(S,"SID",c.K),We(S,"RID",v),We(S,"AID",c.T),Hr(c,S),c.m&&c.o&&Es(S,c.m,c.o),v=new qn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ts(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ba(c.h,v),po(v,S,g)}function Hr(c,g){c.H&&le(c.H,function(v,S){We(g,S,v)}),c.l&&ms({},function(v,S){We(g,S,v)})}function Ts(c,g,v){v=Math.min(c.i.length,v);var S=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=q[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let qe=!0;for(let St=0;St<v;St++){let Me=q[St].g;const xt=q[St].map;if(Me-=Q,0>Me)Q=Math.max(0,q[St].g-100),qe=!1;else try{Nu(xt,ae,"req"+Me+"_")}catch{S&&S(xt)}}if(qe){S=ae.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Ei(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ve||Y(),oe||(Ve(),oe=!0),_e.add(g,c),c.v=0}}function Io(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(T(c.Fa,c),Du(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Xn(this),Ou(this))};function Ka(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=_n(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Hr(c,g),c.m&&c.o&&Es(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=_s(_n(g)),v.m=null,v.P=!0,Fa(v,c)}n.Za=function(){this.C!=null&&(this.C=null,Xn(this),Io(this),ft(19))};function So(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ro(c,g){var v=null;if(c.g==g){So(c),Ka(c),c.g=null;var S=2}else if(Jt(c.h,g))v=g.D,Su(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;S=hi(),It(S,new uo(S,v)),dr(c)}else Ei(c);else if(q=g.s,q==3||q==0&&0<g.X||!(S==1&&md(c,g)||S==2&&Io(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),q){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function Du(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function qr(c,g){if(c.j.info("Error code "+g),g==2){var v=T(c.fb,c),S=c.Xa;const q=!S;S=new Br(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||_i(S,"https"),_s(S),q?dd(S.toString(),v):xu(S.toString(),v)}else ft(2);c.G=0,c.l&&c.l.sa(g),Lu(c),Eo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Lu(c){if(c.G=0,c.ka=[],c.l){const g=Ru(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Vu(c,g,v){var S=v instanceof Br?_n(v):new Br(v);if(S.g!="")g&&(S.g=g+"."+S.g),gs(S,S.s);else{var q=d.location;S=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var Q=new Br(null);S&&_i(Q,S),g&&(Q.g=g),q&&gs(Q,q),v&&(Q.l=v),S=Q}return v=c.D,g=c.ya,v&&g&&We(S,v,g),We(S,"VER",c.la),Hr(c,S),S}function Mu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new nt(new zr({eb:v})):new nt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ga(){}n=Ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Co(){}Co.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){Tt.call(this),this.g=new Wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fr(this)}A(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Vt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Na(c),c=v);g.i.push(new Tu(g.Ya++,c)),g.G==3&&dr(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Yt.aa.N.call(this)};function Uu(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Uu,ar);function Fu(){lo.call(this),this.status=1}A(Fu,lo);function fr(c){this.g=c}A(fr,Ga),fr.prototype.ua=function(){It(this.g,"a")},fr.prototype.ta=function(c){It(this.g,new Uu(c))},fr.prototype.sa=function(c){It(this.g,new Fu)},fr.prototype.ra=function(){It(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,Dw=function(){return new Co},Ow=function(){return hi()},bw=lr,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Gc=ho,_u.COMPLETE="complete",Nw=_u,ao.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Cl=ao,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,xw=nt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",Z_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ya="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new em("@firebase/firestore");function Go(){return qi.logLevel}function he(n,...e){if(qi.logLevel<=be.DEBUG){const t=e.map(dm);qi.debug(`Firestore (${ya}): ${n}`,...t)}}function ls(n,...e){if(qi.logLevel<=be.ERROR){const t=e.map(dm);qi.error(`Firestore (${ya}): ${n}`,...t)}}function sa(n,...e){if(qi.logLevel<=be.WARN){const t=e.map(dm);qi.warn(`Firestore (${ya}): ${n}`,...t)}}function dm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Lw(n,r,t)}function Lw(n,e,t){let r=`FIRESTORE (${ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ls(r),new Error(r)}function He(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Lw(e,o,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class zP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $P{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ks,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ks)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new Vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class HP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new HP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ev(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function vp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Xf(o)===Xf(a)?Oe(o,a):Xf(o)?1:-1}return Oe(n.length,e.length)}const GP=55296,QP=57343;function Xf(n){const e=n.charCodeAt(0);return e>=GP&&e<=QP}function ia(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=vr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Oe(e.length,t.length)}static compareSegments(e,t){const r=vr.isNumericId(e),o=vr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?vr.extractNumericId(e).compare(vr.extractNumericId(t)):vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class ot extends vr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const XP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends vr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return XP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new jt([tv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ye(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ye(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new ye(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n,e,t){if(!t)throw new ye(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YP(n,e,t,r){if(e===!0&&r===!0)throw new ye(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nv(n){if(!Te.isDocumentKey(n))throw new ye(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new ye(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function iu(n,e){if(!Mw(n))throw new ye(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ye(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=-62135596800,sv=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sv);return new et(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rv)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:vt("string",et._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new et(0,0))}static max(){return new Ce(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function ZP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(r===1e9?new et(t+1,0):new et(t,r));return new Qs(o,Te.empty(),e)}function ek(n){return new Qs(n.readTime,n.key,Bl)}class Qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qs(Ce.min(),Te.empty(),Bl)}static max(){return new Qs(Ce.max(),Te.empty(),Bl)}}function tk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==nk)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(o=>o?Z.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{u[m]=_,++d,d===a&&r(u)},_=>o(_))}})}static doWhile(e,t){return new Z((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function sk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-1;function Mh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function ik(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="";function ok(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iv(e)),e=ak(n.get(t),e);return iv(e)}function ak(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Uw:t+="";break;default:t+=a}}return t}function iv(n){return n+Uw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function si(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ft(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(e){return new av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Pt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jw("Invalid base64 string: "+a):a}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=lk.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Js(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="server_timestamp",zw="__type__",$w="__previous_value__",Hw="__local_write_time__";function gm(n){return(n?.mapValue?.fields||{})[zw]?.stringValue===Bw}function Uh(n){const e=n.mapValue.fields[$w];return gm(e)?Uh(e):e}function zl(n){const e=Xs(n.mapValue.fields[Hw].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,r,o,a,u,d,f,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const fh="(default)";class $l{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__type__",ck="__max__",Mc={mapValue:{}},Ww="__vector__",ph="value";function Ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gm(n)?4:dk(n)?9007199254740991:hk(n)?10:11:Se(28295,{value:n})}function Nr(n,e){if(n===e)return!0;const t=Ys(n);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zl(n).isEqual(zl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Xs(o.timestampValue),d=Xs(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Js(o.bytesValue).isEqual(Js(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return mt(o.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return mt(o.integerValue)===mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=mt(o.doubleValue),d=mt(a.doubleValue);return u===d?dh(u)===dh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(ov(u)!==ov(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Nr(u[f],d[f])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find(t=>Nr(t,e))!==void 0}function oa(n,e){if(n===e)return 0;const t=Ys(n),r=Ys(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=mt(a.integerValue||a.doubleValue),f=mt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return lv(n.timestampValue,e.timestampValue);case 4:return lv(zl(n),zl(e));case 5:return vp(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Js(a),f=Js(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=Oe(d[m],f[m]);if(_!==0)return _}return Oe(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Oe(mt(a.latitude),mt(u.latitude));return d!==0?d:Oe(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return uv(n.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},f=u.fields||{},m=d[ph]?.arrayValue,_=f[ph]?.arrayValue,w=Oe(m?.values?.length||0,_?.values?.length||0);return w!==0?w:uv(m,_)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Mc.mapValue&&u===Mc.mapValue)return 0;if(a===Mc.mapValue)return 1;if(u===Mc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=vp(f[w],_[w]);if(T!==0)return T;const C=oa(d[f[w]],m[_[w]]);if(C!==0)return C}return Oe(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function lv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Xs(n),r=Xs(e),o=Oe(t.seconds,r.seconds);return o!==0?o:Oe(t.nanos,r.nanos)}function uv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=oa(t[o],r[o]);if(a)return a}return Oe(t.length,r.length)}function aa(n){return wp(n)}function wp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Js(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=wp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${wp(t.fields[u])}`;return o+"}"}(n.mapValue):Se(61005,{value:n})}function Qc(n){switch(Ys(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(n);return e?16+Qc(e):16;case 5:return 2*n.stringValue.length;case 6:return Js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Qc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return si(r.fields,(a,u)=>{o+=a.length+Qc(u)}),o}(n.mapValue);default:throw Se(13486,{value:n})}}function Ep(n){return!!n&&"integerValue"in n}function ym(n){return!!n&&"arrayValue"in n}function cv(n){return!!n&&"nullValue"in n}function hv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xc(n){return!!n&&"mapValue"in n}function hk(n){return(n?.mapValue?.fields||{})[qw]?.stringValue===Ww}function bl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return si(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return{...n}}function dk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=jt.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=bl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){si(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new pn(bl(this.value))}}function Kw(n){const e=[];return si(n.fields,(t,r)=>{const o=new jt([t]);if(Xc(r)){const a=Kw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ce.min(),Ce.min(),Ce.min(),pn.empty(),0)}static newFoundDocument(e,t,r,o){return new Gt(e,1,t,Ce.min(),r,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ce.min(),Ce.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ce.min(),Ce.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.position=e,this.inclusive=t}}function dv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=oa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{}class At extends Gw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mk(e,t,r):t==="array-contains"?new _k(e,r):t==="in"?new vk(e,r):t==="not-in"?new wk(e,r):t==="array-contains-any"?new Ek(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gk(e,r):new yk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oa(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Gw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new br(e,t)}matches(e){return Qw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qw(n){return n.op==="and"}function Xw(n){return pk(n)&&Qw(n)}function pk(n){for(const e of n.filters)if(e instanceof br)return!1;return!0}function Tp(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(Xw(n))return n.filters.map(e=>Tp(e)).join(",");{const e=n.filters.map(t=>Tp(t)).join(",");return`${n.op}(${e})`}}function Jw(n,e){return n instanceof At?function(r,o){return o instanceof At&&r.op===o.op&&r.field.isEqual(o.field)&&Nr(r.value,o.value)}(n,e):n instanceof br?function(r,o){return o instanceof br&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&Jw(u,o.filters[d]),!0):!1}(n,e):void Se(19439)}function Yw(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(Yw).join(" ,")+"}"}(n):"Filter"}class mk extends At{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class gk extends At{constructor(e,t){super(e,"in",t),this.keys=Zw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yk extends At{constructor(e,t){super(e,"not-in",t),this.keys=Zw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zw(n,e){return(e.arrayValue?.values||[]).map(t=>Te.fromName(t.referenceValue))}class _k extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ym(t)&&Hl(t.arrayValue,this.value)}}class vk extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class wk extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class Ek extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function pv(n,e=null,t=[],r=[],o=null,a=null,u=null){return new Tk(n,e,t,r,o,a,u)}function _m(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Tp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>aa(r)).join(",")),e.Te=t}return e.Te}function vm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Jw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fv(n.startAt,e.startAt)&&fv(n.endAt,e.endAt)}function Ip(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ik(n,e,t,r,o,a,u,d){return new Fh(n,e,t,r,o,a,u,d)}function jh(n){return new Fh(n)}function mv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Sk(n){return n.collectionGroup!==null}function Ol(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new gh(a,r))}),t.has(jt.keyField().canonicalString())||e.Ie.push(new gh(jt.keyField(),r))}return e.Ie}function Rr(n){const e=Ae(n);return e.Ee||(e.Ee=Rk(e,Ol(n))),e.Ee}function Rk(n,e){if(n.limitType==="F")return pv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new gh(o.field,a)});const t=n.endAt?new mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mh(n.startAt.position,n.startAt.inclusive):null;return pv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sp(n,e,t){return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Bh(n,e){return vm(Rr(n),Rr(e))&&n.limitType===e.limitType}function eE(n){return`${_m(Rr(n))}|lt:${n.limitType}`}function Qo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Yw(o)).join(", ")}]`),Mh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>aa(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>aa(o)).join(",")),`Target(${r})`}(Rr(n))}; limitType=${n.limitType})`}function zh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Ol(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=dv(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Ol(r),o)||r.endAt&&!function(u,d,f){const m=dv(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Ol(r),o))}(n,e)}function Ck(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tE(n){return(e,t)=>{let r=!1;for(const o of Ol(n)){const a=Ak(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function Ak(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?oa(f,m):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new lt(Te.comparator);function us(){return Pk}const nE=new lt(Te.comparator);function Al(...n){let e=nE;for(const t of n)e=e.insert(t.key,t);return e}function rE(n){let e=nE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return Dl()}function sE(){return Dl()}function Dl(){return new Zi(n=>n.toString(),(n,e)=>n.isEqual(e))}const kk=new lt(Te.comparator),xk=new Pt(Te.comparator);function De(...n){let e=xk;for(const t of n)e=e.add(t);return e}const Nk=new Pt(Oe);function bk(){return Nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function iE(n){return{integerValue:""+n}}function Ok(n,e){return ik(e)?iE(e):wm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function Dk(n,e,t){return n instanceof yh?function(o,a){const u={fields:{[zw]:{stringValue:Bw},[Hw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&gm(a)&&(a=Uh(a)),a&&(u.fields[$w]=a),{mapValue:u}}(t,e):n instanceof la?aE(n,e):n instanceof ua?lE(n,e):function(o,a){const u=oE(o,a),d=gv(u)+gv(o.Ae);return Ep(u)&&Ep(o.Ae)?iE(d):wm(o.serializer,d)}(n,e)}function Lk(n,e,t){return n instanceof la?aE(n,e):n instanceof ua?lE(n,e):t}function oE(n,e){return n instanceof _h?function(r){return Ep(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class yh extends $h{}class la extends $h{constructor(e){super(),this.elements=e}}function aE(n,e){const t=uE(e);for(const r of n.elements)t.some(o=>Nr(o,r))||t.push(r);return{arrayValue:{values:t}}}class ua extends $h{constructor(e){super(),this.elements=e}}function lE(n,e){let t=uE(e);for(const r of n.elements)t=t.filter(o=>!Nr(o,r));return{arrayValue:{values:t}}}class _h extends $h{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gv(n){return mt(n.integerValue||n.doubleValue)}function uE(n){return ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t){this.field=e,this.transform=t}}function Vk(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof la&&o instanceof la||r instanceof ua&&o instanceof ua?ia(r.elements,o.elements,Nr):r instanceof _h&&o instanceof _h?Nr(r.Ae,o.Ae):r instanceof yh&&o instanceof yh}(n.transform,e.transform)}class Mk{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hh{}function hE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fE(n.key,Cr.none()):new ou(n.key,n.data,Cr.none());{const t=n.data,r=pn.empty();let o=new Pt(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ii(n.key,r,new Rn(o.toArray()),Cr.none())}}function Uk(n,e,t){n instanceof ou?function(o,a,u){const d=o.value.clone(),f=_v(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ii?function(o,a,u){if(!Jc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=_v(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(dE(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ll(n,e,t,r){return n instanceof ou?function(a,u,d,f){if(!Jc(a.precondition,u))return d;const m=a.value.clone(),_=vv(a.fieldTransforms,f,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof ii?function(a,u,d,f){if(!Jc(a.precondition,u))return d;const m=vv(a.fieldTransforms,f,u),_=u.data;return _.setAll(dE(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return Jc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function Fk(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=oE(r.transform,o||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function yv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ia(r,o,(a,u)=>Vk(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ou extends Hh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ii extends Hh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function dE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _v(n,e,t){const r=new Map;He(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,Lk(u,d,t[o]))}return r}function vv(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,Dk(a,u,e))}return r}class fE extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jk extends Hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Uk(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=hE(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,r)=>yv(t,r))&&ia(this.baseMutations,e.baseMutations,(t,r)=>yv(t,r))}}class Em{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return kk}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Em(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function Hk(n){switch(n){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function pE(n){if(n===void 0)return ls("GRPC error has no .code"),ne.UNKNOWN;switch(n){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:n})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Ws([4294967295,4294967295],0);function wv(n){const e=qk().encode(n),t=new kw;return t.update(e),new Uint8Array(t.digest())}function Ev(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ws([t,r],0),new Ws([o,a],0)]}class Tm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ws.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Ws.fromNumber(r)));return o.compare(Wk)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=wv(e),[r,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Tm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=wv(e),[r,o]=Ev(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new qh(Ce.min(),o,new lt(Oe),us(),De())}}class au{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new au(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class mE{constructor(e,t){this.targetId=e,this.Ce=t}}class gE{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Tv{constructor(){this.ve=0,this.Fe=Iv(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),r=De();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:a})}}),new au(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Iv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kk{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Uc(),this.He=Uc(),this.Ye=new lt(Oe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Ip(a))if(r===0){const u=new Te(a.path);this.et(t,u,Gt.newNoDocument(u,Ce.min()))}else He(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Js(r).toUint8Array()}catch(f){if(f instanceof jw)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Tm(u,o,a)}catch(f){return sa(f instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Ip(d.target)){const f=new Te(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=De();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new qh(e,t,this.Ye,this.je,r);return this.je=us(),this.Je=Uc(),this.He=Uc(),this.Ye=new lt(Oe),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Tv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Oe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Oe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Uc(){return new lt(Te.comparator)}function Iv(){return new lt(Te.comparator)}const Gk={asc:"ASCENDING",desc:"DESCENDING"},Qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xk={and:"AND",or:"OR"};class Jk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(n,e){return n.useProto3Json||Mh(e)?e:{value:e}}function vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yk(n,e){return vh(n,e.toTimestamp())}function Ar(n){return He(!!n,49232),Ce.fromTimestamp(function(t){const r=Xs(t);return new et(r.seconds,r.nanos)}(n))}function Im(n,e){return Cp(n,e).canonicalString()}function Cp(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _E(n){const e=ot.fromString(n);return He(IE(e),10190,{key:e.toString()}),e}function Ap(n,e){return Im(n.databaseId,e.path)}function Jf(n,e){const t=_E(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(wE(t))}function vE(n,e){return Im(n.databaseId,e)}function Zk(n){const e=_E(n);return e.length===4?ot.emptyPath():wE(e)}function Pp(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wE(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Sv(n,e,t){return{name:Ap(n,e),fields:t.value.mapValue.fields}}function ex(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(He(_===void 0||typeof _=="string",58123),Bt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Bt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const _=m.code===void 0?ne.UNKNOWN:pE(m.code);return new ye(_,m.message||"")}(u);t=new gE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jf(n,r.document.name),a=Ar(r.document.updateTime),u=r.document.createTime?Ar(r.document.createTime):Ce.min(),d=new pn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(o,a,u,d),m=r.targetIds||[],_=r.removedTargetIds||[];t=new Yc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jf(n,r.document),a=r.readTime?Ar(r.readTime):Ce.min(),u=Gt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Yc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jf(n,r.document),a=r.removedTargetIds||[];t=new Yc([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new $k(o,a),d=r.targetId;t=new mE(d,u)}}return t}function tx(n,e){let t;if(e instanceof ou)t={update:Sv(n,e.key,e.value)};else if(e instanceof fE)t={delete:Ap(n,e.key)};else if(e instanceof ii)t={update:Sv(n,e.key,e.data),updateMask:cx(e.fieldMask)};else{if(!(e instanceof jk))return Se(16599,{Vt:e.type});t={verify:Ap(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof la)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ua)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof _h)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Yk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function nx(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?Ar(o.updateTime):Ar(a);return u.isEqual(Ce.min())&&(u=Ar(a)),new Mk(u,o.transformResults||[])}(t,e))):[]}function rx(n,e){return{documents:[vE(n,e.path)]}}function sx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vE(n,o);const a=function(m){if(m.length!==0)return TE(br.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:Xo(T.field),direction:ax(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Rp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function ix(n){let e=Zk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){He(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const T=EE(w);return T instanceof br&&Xw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(A){return new gh(Jo(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Mh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,C=w.values||[];return new mh(C,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,C=w.values||[];return new mh(C,T)}(t.endAt)),Ik(e,o,u,a,d,"F",f,m)}function ox(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Jo(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Jo(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(t.unaryFilter.field);return At.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return At.create(Jo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(r=>EE(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function ax(n){return Gk[n]}function lx(n){return Qk[n]}function ux(n){return Xk[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Jo(n){return jt.fromServerFormat(n.fieldPath)}function TE(n){return n instanceof At?function(t){if(t.op==="=="){if(hv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(cv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(cv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:lx(t.op),value:t.value}}}(n):n instanceof br?function(t){const r=t.getFilters().map(o=>TE(o));return r.length===1?r[0]:{compositeFilter:{op:ux(t.op),filters:r}}}(n):Se(54877,{filter:n})}function cx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t,r,o,a=Ce.min(),u=Ce.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.yt=e}}function dx(n){const e=ix({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.Cn=new px}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Qs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class px{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pt(ot.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(SE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ca(0)}static cr(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LruGarbageCollector",mx=1048576;function Av([n,e],[t,r]){const o=Oe(n,t);return o===0?Oe(e,r):o}class gx{constructor(e){this.Ir=e,this.buffer=new Pt(Av),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Av(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?he(Cv,"Ignoring IndexedDB error during garbage collection: ",t):await _a(t)}await this.Vr(3e5)})}}class _x{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Vh.ce);const r=new gx(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Rv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Go()<=be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function vx(n,e){return new _x(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.changes=new Zi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Ll(r.mutation,o,Rn.empty(),et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const o=Vi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Al();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=us();const u=Dl(),d=function(){return Dl()}();return t.forEach((f,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof ii)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Ll(_.mutation,m,_.mutation.getFieldMask(),et.now())):u.set(m.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>d.set(m,new Ex(_,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=Dl();let o=new lt((u,d)=>u-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=r.get(f)||Rn.empty();_=d.applyToLocalView(m,_),r.set(f,_);const w=(o.get(d.batchId)||De()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,w=sE();_.forEach(T=>{if(!a.has(T)){const C=hE(t.get(T),r.get(T));C!==null&&w.set(T,C),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Z.resolve(Vi());let d=Bl,f=a;return u.next(m=>Z.forEach(m,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{f=f.insert(_,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,De())).next(_=>({batchId:d,changes:rE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let o=Al();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Al();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const m=function(w,T){return new Fh(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,Gt.newInvalidDocument(_)))});let d=Al();return u.forEach((f,m)=>{const _=a.get(f);_!==void 0&&Ll(_.mutation,m,Rn.empty(),et.now()),zh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:dx(o.bundledQuery),readTime:Ar(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.overlays=new lt(Te.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vi();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const o=Vi(),a=t.length+1,u=new Te(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new lt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=Vi(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Vi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return Z.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zk(t,r));let a=this.qr.get(t);a===void 0&&(a=De(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.Qr=new Pt(Dt.$r),this.Ur=new Pt(Dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Dt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new Te(new ot([])),r=new Dt(t,e),o=new Dt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new ot([])),r=new Dt(t,e),o=new Dt(t,e+1);let a=De();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Dt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Oe(e.Yr,t.Yr)}static Kr(e,t){return Oe(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Dt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Bk(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Dt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?mm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),o=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Oe);return t.forEach(o=>{const a=new Dt(o,0),u=new Dt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new Te(a),0);let d=new Pt(Oe);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),Z.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,o=>{const a=new Dt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Dt(t,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.ri=e,this.docs=function(){return new lt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=us();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=us();const u=t.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||tk(ek(_),r)<=0||(o.has(_.key)||zh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}ii(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Px(this)}getSize(e){return Z.resolve(this.size)}}class Px extends wx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.persistence=e,this.si=new Zi(t=>_m(t),vm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Sm,this.targetCount=0,this.ai=ca.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new Rx,this.referenceDelegate=e(this),this.Pi=new kx(this),this.indexManager=new fx,this.remoteDocumentCache=function(o){return new Ax(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new hx(t),this.Ii=new Ix(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Cx(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new xx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return Z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class xx extends rk{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ri=new Sm,this.Vi=null}static mi(e){return new Rm(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,r=>{const o=Te.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Ce.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.pi=new Zi(r=>ok(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=vx(this,t)}static mi(e,t){return new wh(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Z.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ce.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qc(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Cm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return lR()?8:sk(Xt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Nx;return this.Ss(e,t,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Go()<=be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Go()<=be.DEBUG&&he("QueryEngine","Query:",Qo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Go()<=be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(t))):Z.resolve())}ys(e,t){if(mv(t))return Z.resolve(null);let r=Rr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Sp(t,null,"F"),r=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,Sp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return mv(t)||o.isEqual(Ce.min())?Z.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?Z.resolve(null):(Go()<=be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qo(t)),this.vs(e,u,t,ZP(o,Bl)).next(d=>d))})}Ds(e,t){let r=new Pt(tE(e));return t.forEach((o,a)=>{zh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Go()<=be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Qs.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",Ox=3e8;class Dx{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(Oe),this.xs=new Zi(a=>_m(a),vm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Lx(n,e,t,r){return new Dx(n,e,t,r)}async function CE(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=De();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function Vx(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,_){const w=m.batch,T=w.keys();let C=Z.resolve();return T.forEach(A=>{C=C.next(()=>_.getEntry(f,A)).next(O=>{const k=m.docVersions.get(A);He(k!==null,48541),O.version.compareTo(k)<0&&(w.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),_.addEntry(O)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=De();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function AE(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Mx(n,e){const t=Ae(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,_.addedDocuments,w)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Bt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,r)),o=o.insert(w,C),function(O,k,$){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Ox?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,C,_)&&d.push(t.Pi.updateTargetData(a,C))});let f=us(),m=De();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(Ux(a,u,e.documentUpdates).next(_=>{f=_.ks,m=_.qs})),!r.isEqual(Ce.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(_)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=o,a))}function Ux(n,e,t){let r=De(),o=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=us();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ce.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(Am,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function Fx(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jx(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,Z.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new $s(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function kp(n,e,t){const r=Ae(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!va(u))throw u;he(Am,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Pv(n,e,t){const r=Ae(n);let o=Ce.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,_){const w=Ae(f),T=w.xs.get(_);return T!==void 0?Z.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,_)}(r,u,Rr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ce.min(),t?a:De())).next(d=>(Bx(r,Ck(e),d),{documents:d,Qs:a})))}function Bx(n,e,t){let r=n.Os.get(e)||Ce.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class kv{constructor(){this.activeTargetIds=bk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function xp(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=xp(),d=this.zo(e,t.toUriEncodedString());he(Yf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),_=ti(m);return this.Jo(e,d,f,r,_).then(w=>(he(Yf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw sa(Yf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=Hx[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Kx extends qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=xp();return new Promise((d,f)=>{const m=new xw;m.setWithCredentials(!0),m.listenOnce(Nw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Gc.NO_ERROR:const w=m.getResponseJson();he(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Gc.TIMEOUT:he(Wt,`RPC '${e}' ${u} timed out`),f(new ye(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const T=m.getStatus();if(he(Wt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const A=C?.error;if(A&&A.status&&A.message){const O=function($){const F=$.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN}(A.status);f(new ye(O,A.message))}else f(new ye(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ye(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(Wt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);he(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",_,r,15)})}T_(e,t,r){const o=xp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Dw(),d=Ow(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const w=u.createWebChannel(_,f);this.I_(w);let T=!1,C=!1;const A=new Wx({Yo:k=>{C?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},Zo:()=>w.close()}),O=(k,$,F)=>{k.listen($,j=>{try{F(j)}catch(H){setTimeout(()=>{throw H},0)}})};return O(w,Cl.EventType.OPEN,()=>{C||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),A.o_())}),O(w,Cl.EventType.CLOSE,()=>{C||(C=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),A.a_(),this.E_(w))}),O(w,Cl.EventType.ERROR,k=>{C||(C=!0,sa(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),A.a_(new ye(ne.UNAVAILABLE,"The operation could not be completed")))}),O(w,Cl.EventType.MESSAGE,k=>{if(!C){const $=k.data[0];He(!!$,16349);const F=$,j=F?.error||F[0]?.error;if(j){he(Wt,`RPC '${e}' stream ${o} received error:`,j);const H=j.status;let ee=function(R){const P=_t[R];if(P!==void 0)return pE(P)}(H),le=j.message;ee===void 0&&(ee=ne.INTERNAL,le="Unknown error status: "+H+" with message "+j.message),C=!0,A.a_(new ye(ee,le)),w.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,$),A.u_($)}}),O(d,bw.STAT_EVENT,k=>{k.stat===_p.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===_p.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return new Jk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="PersistentStream";class kE{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ls(t.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new ye(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(bv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gx extends kE{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ex(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ce.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?Ar(u.readTime):Ce.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Pp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=Ip(f)?{documents:rx(a,f)}:{query:sx(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=yE(a,u.resumeToken);const m=Rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ce.min())>0){d.readTime=vh(a,u.snapshotVersion.toTimestamp());const m=Rp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=ox(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Pp(this.serializer),t.removeTarget=e,this.q_(t)}}class Qx extends kE{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=nx(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Pp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tx(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{}class Jx extends Xx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,Cp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ne.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,Cp(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ne.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class Zx{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{eo(this)&&(he(Wi,"Restarting streams for network reachability change."),await async function(f){const m=Ae(f);m.Ea.add(4),await lu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Kh(m)}(this))})}),this.Ra=new Yx(r,o)}}async function Kh(n){if(eo(n))for(const e of n.da)await e(!0)}async function lu(n){for(const e of n.da)await e(!1)}function xE(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Nm(t)?xm(t):wa(t).O_()&&km(t,e))}function Pm(n,e){const t=Ae(n),r=wa(t);t.Ia.delete(e),r.O_()&&NE(t,e),t.Ia.size===0&&(r.O_()?r.L_():eo(t)&&t.Ra.set("Unknown"))}function km(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).Y_(e)}function NE(n,e){n.Va.Ue(e),wa(n).Z_(e)}function xm(n){n.Va=new Kk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.Ra.ua()}function Nm(n){return eo(n)&&!wa(n).x_()&&n.Ia.size>0}function eo(n){return Ae(n).Ea.size===0}function bE(n){n.Va=void 0}async function e2(n){n.Ra.set("Online")}async function t2(n){n.Ia.forEach((e,t)=>{km(n,e)})}async function n2(n,e){bE(n),Nm(n)?(n.Ra.ha(e),xm(n)):n.Ra.set("Unknown")}async function r2(n,e,t){if(n.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){he(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Eh(n,r)}else if(e instanceof Yc?n.Va.Ze(e):e instanceof mE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const r=await AE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.Ia.get(m);_&&a.Ia.set(m,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const _=a.Ia.get(f);if(!_)return;a.Ia.set(f,_.withResumeToken(Bt.EMPTY_BYTE_STRING,_.snapshotVersion)),NE(a,f);const w=new $s(_.target,f,m,_.sequenceNumber);km(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){he(Wi,"Failed to raise snapshot:",r),await Eh(n,r)}}async function Eh(n,e,t){if(!va(e))throw e;n.Ea.add(1),await lu(n),n.Ra.set("Offline"),t||(t=()=>AE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(Wi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kh(n)})}function OE(n,e){return e().catch(t=>Eh(n,t,e))}async function Gh(n){const e=Ae(n),t=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mm;for(;s2(e);)try{const o=await Fx(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,i2(e,o)}catch(o){await Eh(e,o)}DE(e)&&LE(e)}function s2(n){return eo(n)&&n.Ta.length<10}function i2(n,e){n.Ta.push(e);const t=Zs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DE(n){return eo(n)&&!Zs(n).x_()&&n.Ta.length>0}function LE(n){Zs(n).start()}async function o2(n){Zs(n).ra()}async function a2(n){const e=Zs(n);for(const t of n.Ta)e.ea(t.mutations)}async function l2(n,e,t){const r=n.Ta.shift(),o=Em.from(r,e,t);await OE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Gh(n)}async function u2(n,e){e&&Zs(n).X_&&await async function(r,o){if(function(u){return Hk(u)&&u!==ne.ABORTED}(o.code)){const a=r.Ta.shift();Zs(r).B_(),await OE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Gh(r)}}(n,e),DE(n)&&LE(n)}async function Ov(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),he(Wi,"RemoteStore received new credentials");const r=eo(t);t.Ea.add(3),await lu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kh(t)}async function c2(n,e){const t=Ae(n);e?(t.Ea.delete(2),await Kh(t)):e||(t.Ea.add(2),await lu(t),t.Ra.set("Unknown"))}function wa(n){return n.ma||(n.ma=function(t,r,o){const a=Ae(t);return a.sa(),new Gx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:e2.bind(null,n),t_:t2.bind(null,n),r_:n2.bind(null,n),H_:r2.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Nm(n)?xm(n):n.Ra.set("Unknown")):(await n.ma.stop(),bE(n))})),n.ma}function Zs(n){return n.fa||(n.fa=function(t,r,o){const a=Ae(t);return a.sa(),new Qx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:o2.bind(null,n),r_:u2.bind(null,n),ta:a2.bind(null,n),na:l2.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Gh(n)):(await n.fa.stop(),n.Ta.length>0&&(he(Wi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new bm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(n,e){if(ls("AsyncQueue",`${e}: ${n}`),va(n))return new ye(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Al(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.ga=new lt(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ha{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ha(e,t,na.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class d2{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ae(t),a=o.queries;o.queries=Lv(),a.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new ye(ne.ABORTED,"Firestore shutting down"))}}function Lv(){return new Zi(n=>eE(n),Bh)}async function VE(n,e){const t=Ae(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new h2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Om(u,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Dm(t)}async function ME(n,e){const t=Ae(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function f2(n,e){const t=Ae(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&Dm(t)}function p2(n,e,t){const r=Ae(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Dm(n){n.Ca.forEach(e=>{e.next()})}var Np,Vv;(Vv=Np||(Np={})).Ma="default",Vv.Cache="cache";class UE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class jE{constructor(e){this.key=e}}class m2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=tE(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Dv,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),C=zh(this.query,w)?w:null,A=!!T&&this.mutatedKeys.has(T.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;T&&C?T.data.isEqual(C.data)?A!==O&&(r.track({type:3,doc:C}),k=!0):this.su(T,C)||(r.track({type:2,doc:C}),k=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),k=!0):T&&!C&&(r.track({type:1,doc:T}),k=!0,(f||m)&&(d=!0)),k&&(C?(u=u.add(C),a=O?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((_,w)=>function(C,A){const O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:k})}};return O(C)-O(A)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ha(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new jE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new FE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lm="SyncEngine";class g2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class y2{constructor(e){this.key=e,this.hu=!1}}class _2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Zi(d=>eE(d),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(Te.comparator),this.Au=new Map,this.Ru=new Sm,this.Vu={},this.mu=new Map,this.fu=ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(n,e,t=!0){const r=WE(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await BE(r,e,t,!0),o}async function w2(n,e){const t=WE(n);await BE(t,e,!0,!1)}async function BE(n,e,t,r){const o=await jx(n.localStore,Rr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await E2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&xE(n.remoteStore,o),d}async function E2(n,e,t,r,o){n.pu=(w,T,C)=>async function(O,k,$,F){let j=k.view.ru($);j.Cs&&(j=await Pv(O.localStore,k.query,!1).then(({documents:b})=>k.view.ru(b,j)));const H=F&&F.targetChanges.get(k.targetId),ee=F&&F.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(j,O.isPrimaryClient,H,ee);return Uv(O,k.targetId,le.au),le.snapshot}(n,w,T,C);const a=await Pv(n.localStore,e,!0),u=new m2(e,a.Qs),d=u.ru(a.documents),f=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);Uv(n,t,m.au);const _=new g2(e,t,u);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function T2(n,e,t){const r=Ae(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!Bh(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await kp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Pm(r.remoteStore,o.targetId),bp(r,o.targetId)}).catch(_a)):(bp(r,o.targetId),await kp(r.localStore,o.targetId,!0))}async function I2(n,e){const t=Ae(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Pm(t.remoteStore,r.targetId))}async function S2(n,e,t){const r=N2(n);try{const o=await function(u,d){const f=Ae(u),m=et.now(),_=d.reduce((C,A)=>C.add(A.key),De());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=us(),O=De();return f.Ns.getEntries(C,_).next(k=>{A=k,A.forEach(($,F)=>{F.isValidDocument()||(O=O.add($))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,A)).next(k=>{w=k;const $=[];for(const F of d){const j=Fk(F,w.get(F.key).overlayedDocument);j!=null&&$.push(new ii(F.key,j,Kw(j.value.mapValue),Cr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,$,d)}).next(k=>{T=k;const $=k.applyToLocalDocumentSet(w,O);return f.documentOverlayCache.saveOverlays(C,k.batchId,$)})}).then(()=>({batchId:T.batchId,changes:rE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new lt(Oe)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await uu(r,o.changes),await Gh(r.remoteStore)}catch(o){const a=Om(o,"Failed to persist write");t.reject(a)}}async function zE(n,e){const t=Ae(n);try{const r=await Mx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?He(u.hu,14607):o.removedDocuments.size>0&&(He(u.hu,42227),u.hu=!1))}),await uu(t,r,e)}catch(r){await _a(r)}}function Mv(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Ae(u);f.onlineState=d;let m=!1;f.queries.forEach((_,w)=>{for(const T of w.Sa)T.va(d)&&(m=!0)}),m&&Dm(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R2(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new lt(Te.comparator);u=u.insert(a,Gt.newNoDocument(a,Ce.min()));const d=De().add(a),f=new qh(Ce.min(),new Map,new lt(Oe),u,d);await zE(r,f),r.du=r.du.remove(a),r.Au.delete(e),Vm(r)}else await kp(r.localStore,e,!1).then(()=>bp(r,e,t)).catch(_a)}async function C2(n,e){const t=Ae(n),r=e.batch.batchId;try{const o=await Vx(t.localStore,e);HE(t,r,null),$E(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await uu(t,o)}catch(o){await _a(o)}}async function A2(n,e,t){const r=Ae(n);try{const o=await function(u,d){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(He(w!==null,37113),_=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(r.localStore,e);HE(r,e,t),$E(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await uu(r,o)}catch(o){await _a(o)}}function $E(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function HE(n,e,t){const r=Ae(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function bp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||qE(n,r)})}function qE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Pm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Vm(n))}function Uv(n,e,t){for(const r of t)r instanceof FE?(n.Ru.addReference(r.key,e),P2(n,r)):r instanceof jE?(he(Lm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||qE(n,r.key)):Se(19791,{wu:r})}function P2(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(he(Lm,"New document in limbo: "+t),n.Eu.add(r),Vm(n))}function Vm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Te(ot.fromString(e)),r=n.fu.next();n.Au.set(r,new y2(t)),n.du=n.du.insert(t,r),xE(n.remoteStore,new $s(Rr(jh(t.path)),r,"TargetPurposeLimboResolution",Vh.ce))}}async function uu(n,e,t){const r=Ae(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){o.push(m);const _=Cm.As(f.targetId,m);a.push(_)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const _=Ae(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(m,T=>Z.forEach(T.Es,C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>Z.forEach(T.ds,C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!va(w))throw w;he(Am,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const C=_.Ms.get(T),A=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(A);_.Ms=_.Ms.insert(T,O)}}}(r.localStore,a))}async function k2(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){he(Lm,"User change. New user:",e.toKey());const r=await CE(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(f=>{f.reject(new ye(ne.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(t,r.Ls)}}function x2(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function WE(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R2.bind(null,e),e.Pu.H_=f2.bind(null,e.eventManager),e.Pu.yu=p2.bind(null,e.eventManager),e}function N2(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A2.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Lx(this.persistence,new bx,e.initialUser,this.serializer)}Cu(e){return new RE(Rm.mi,this.serializer)}Du(e){return new zx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class b2 extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof wh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yx(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new RE(r=>wh.mi(r,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d2}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),r=function(a){return new Kx(a)}(e.databaseInfo);return function(a,u,d,f){return new Jx(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new Zx(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Mv(this.syncEngine,t,0),function(){return Nv.v()?new Nv:new $x}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,_){const w=new _2(o,a,u,d,f,m);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Ae(t);he(Wi,"RemoteStore shutting down."),r.Ea.add(5),await lu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="FirestoreClient";class O2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{he(ei,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(he(ei,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Om(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ep(n,e){n.asyncQueue.verifyOperationInProgress(),he(ei,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await CE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Fv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await D2(n);he(ei,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ov(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Ov(e.remoteStore,o)),n._onlineComponents=e}async function D2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ei,"Using user provided OfflineComponentProvider");try{await ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await ep(n,new Th)}}else he(ei,"Using default OfflineComponentProvider"),await ep(n,new b2(void 0));return n._offlineComponents}async function GE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ei,"Using user provided OnlineComponentProvider"),await Fv(n,n._uninitializedComponentsProvider._online)):(he(ei,"Using default OnlineComponentProvider"),await Fv(n,new Op))),n._onlineComponents}function L2(n){return GE(n).then(e=>e.syncEngine)}async function Dp(n){const e=await GE(n),t=e.eventManager;return t.onListen=v2.bind(null,e.syncEngine),t.onUnlisten=T2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I2.bind(null,e.syncEngine),t}function V2(n,e,t={}){const r=new Ks;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const _=new KE({next:T=>{_.Nu(),u.enqueueAndForget(()=>ME(a,w));const C=T.docs.has(d);!C&&T.fromCache?m.reject(new ye(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?m.reject(new ye(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new UE(jh(d.path),_,{includeMetadataChanges:!0,qa:!0});return VE(a,w)}(await Dp(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firestore.googleapis.com",Bv=!0;class zv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=Bv}else this.host=e.host,this.ssl=e.ssl??Bv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mx)throw new ye(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BP;switch(r.type){case"firstParty":return new qP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jv.get(t);r&&(he("ComponentProvider","Removing Datastore"),jv.delete(t),r.terminate())}(this),Promise.resolve()}}function M2(n,e,t,r={}){n=Sr(n,Mm);const o=ti(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Yp(`https://${d}`),Zp("Firestore",!0)),a.host!==XE&&a.host!==d&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!is(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=Kt.MOCK_USER;else{m=$0(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ye(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Kt(w)}n._authCredentials=new zP(new Vw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class wt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(iu(t,wt._jsonSchema))return new wt(e,r||null,new Te(ot.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:vt("string",wt._jsonSchemaVersion),referencePath:vt("string")};class ql extends Qh{constructor(e,t,r){super(e,t,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Te(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function Cn(n,e,...t){if(n=Et(n),arguments.length===1&&(e=fm.newId()),JP("doc","path",e),n instanceof Mm){const r=ot.fromString(e,...t);return nv(r),new wt(n,null,new Te(r))}{if(!(n instanceof wt||n instanceof ql))throw new ye(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return nv(r),new wt(n.firestore,n instanceof ql?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="AsyncQueue";class Hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const r=Zf();r&&he($v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Zf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ks;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!va(e))throw e;he($v,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",qv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=bm.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class da extends Mm{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hv(e),this._firestoreClient=void 0,await e}}}function U2(n,e){const t=typeof n=="object"?n:nm(),r=typeof n=="string"?n:fh,o=bh(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=j0("firestore");a&&M2(o,...a)}return o}function Um(n){if(n._terminated)throw new ye(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F2(n),n._firestoreClient}function F2(n){const e=n._freezeSettings(),t=function(o,a,u,d){return new uk(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QE(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new O2(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Bt.fromBase64String(e))}catch(t){throw new ye(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:vt("string",Bn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:vt("string",Pr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new kr(e.vectorValues);throw new ye(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:vt("string",kr._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=/^__.*__$/;class B2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}class JE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class Jh{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YE(this.Ac)&&j2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wh(e)}Cc(e,t,r,o=!1){return new Jh({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZE(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new z2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $2(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Bm("Data must be an object, but it was:",u,r);const d=tT(r,u);let f,m;if(a.merge)f=new Rn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=Lp(e,w,t);if(!u.contains(T))throw new ye(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);rT(_,T)||_.push(T)}f=new Rn(_),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new B2(new pn(d),f,m)}class Yh extends cu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function eT(n,e,t){return new Jh({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fm extends cu{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=eT(this,e,!0),r=this.vc.map(a=>Ea(a,t)),o=new la(r);return new cE(e.path,o)}isEqual(e){return e instanceof Fm&&is(this.vc,e.vc)}}class jm extends cu{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=eT(this,e,!0),r=this.vc.map(a=>Ea(a,t)),o=new ua(r);return new cE(e.path,o)}isEqual(e){return e instanceof jm&&is(this.vc,e.vc)}}function H2(n,e,t,r){const o=n.Cc(1,e,t);Bm("Data must be an object, but it was:",o,r);const a=[],u=pn.empty();si(r,(f,m)=>{const _=zm(e,f,t);m=Et(m);const w=o.yc(_);if(m instanceof Yh)a.push(_);else{const T=Ea(m,w);T!=null&&(a.push(_),u.set(_,T))}});const d=new Rn(a);return new JE(u,d,o.fieldTransforms)}function q2(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[Lp(e,r,t)],f=[o];if(a.length%2!=0)throw new ye(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(Lp(e,a[T])),f.push(a[T+1]);const m=[],_=pn.empty();for(let T=d.length-1;T>=0;--T)if(!rT(m,d[T])){const C=d[T];let A=f[T];A=Et(A);const O=u.yc(C);if(A instanceof Yh)m.push(C);else{const k=Ea(A,O);k!=null&&(m.push(C),_.set(C,k))}}const w=new Rn(m);return new JE(_,w,u.fieldTransforms)}function Ea(n,e){if(nT(n=Et(n)))return Bm("Unsupported field value:",e,n),tT(n,e);if(n instanceof cu)return function(r,o){if(!YE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=Ea(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ok(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=et.fromDate(r);return{timestampValue:vh(o.serializer,a)}}if(r instanceof et){const a=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,a)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:yE(o.serializer,r._byteString)};if(r instanceof wt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Im(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof kr)return function(u,d){return{mapValue:{fields:{[qw]:{stringValue:Ww},[ph]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return wm(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${pm(r)}`)}(n,e)}function tT(n,e){const t={};return Fw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(n,(r,o)=>{const a=Ea(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function nT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof et||n instanceof Pr||n instanceof Bn||n instanceof wt||n instanceof cu||n instanceof kr)}function Bm(n,e,t){if(!nT(t)||!Mw(t)){const r=pm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Lp(n,e,t){if((e=Et(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return zm(n,e);throw Ih("Field path arguments must be of type string or ",n,!1,void 0,t)}const W2=new RegExp("[~\\*/\\[\\]]");function zm(n,e,t){if(e.search(W2)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ih(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ye(ne.INVALID_ARGUMENT,d+n+f)}function rT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class K2 extends sT{data(){return super.data()}}function iT(n,e){return typeof e=="string"?zm(n,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q2{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return si(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[ph].arrayValue?.values?.map(r=>mt(r.doubleValue));return new kr(t)}convertGeoPoint(e){return new Pr(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Uh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=Xs(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);He(IE(r),9688,{name:e});const o=new $l(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return o.isEqual(t)||ls(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ui extends sT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(iT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ui._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ui._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ui._jsonSchema={type:vt("string",Ui._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class Zc extends Ui{data(e={}){return super.data(e)}}class ra{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Zc(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:J2(d.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(n){n=Sr(n,wt);const e=Sr(n.firestore,da);return V2(Um(e),n._key).then(t=>uT(e,n,t))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:vt("string",ra._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class oT extends Q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function fa(n,e,t){n=Sr(n,wt);const r=Sr(n.firestore,da),o=X2(n.converter,e,t);return lT(r,[$2(ZE(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Cr.none())])}function Kl(n,e,t,...r){n=Sr(n,wt);const o=Sr(n.firestore,da),a=ZE(o);let u;return u=typeof(e=Et(e))=="string"||e instanceof Xh?q2(a,"updateDoc",n._key,e,t,r):H2(a,"updateDoc",n._key,e),lT(o,[u.toMutation(n._key,Cr.exists(!0))])}function aT(n,...e){n=Et(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Wv(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Wv(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,d;if(n instanceof wt)u=Sr(n.firestore,da),d=jh(n._key.path),a={next:f=>{e[r]&&e[r](uT(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Sr(n,Qh);u=Sr(f.firestore,da),d=f._query;const m=new oT(u);a={next:_=>{e[r]&&e[r](new ra(u,m,f,_))},error:e[r+1],complete:e[r+2]},G2(n._query)}return function(m,_,w,T){const C=new KE(T),A=new UE(_,C,w);return m.asyncQueue.enqueueAndForget(async()=>VE(await Dp(m),A)),()=>{C.Nu(),m.asyncQueue.enqueueAndForget(async()=>ME(await Dp(m),A))}}(Um(u),d,o,a)}function lT(n,e){return function(r,o){const a=new Ks;return r.asyncQueue.enqueueAndForget(async()=>S2(await L2(r),o,a)),a.promise}(Um(n),e)}function uT(n,e,t){const r=t.docs.get(e._key),o=new oT(n);return new Ui(n,o,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}function cT(...n){return new Fm("arrayUnion",n)}function hT(...n){return new jm("arrayRemove",n)}(function(e,t=!0){(function(o){ya=o})(Ji),zi(new Gs("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new da(new $P(r.getProvider("auth-internal")),new WP(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ye(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(m.options.projectId,_)}(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Er(Y_,Z_,e),Er(Y_,Z_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebasestorage.googleapis.com",fT="storageBucket",Y2=120*1e3,Z2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends Lr{constructor(e,t,r=0){super(tp(e),`Firebase Storage: ${t} (${tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function tp(n){return"storage/"+n}function $m(){const n="An unknown error occurred, please check the error payload for server response.";return new ht(ct.UNKNOWN,n)}function eN(n){return new ht(ct.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function tN(n){return new ht(ct.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nN(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(ct.UNAUTHENTICATED,n)}function rN(){return new ht(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sN(n){return new ht(ct.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function iN(){return new ht(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oN(){return new ht(ct.CANCELED,"User canceled the upload/download.")}function aN(n){return new ht(ct.INVALID_URL,"Invalid URL '"+n+"'.")}function lN(n){return new ht(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uN(){return new ht(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fT+"' property when initializing the app?")}function cN(){return new ht(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hN(){return new ht(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dN(n){return new ht(ct.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vp(n){return new ht(ct.INVALID_ARGUMENT,n)}function pT(){return new ht(ct.APP_DELETED,"The Firebase app was deleted.")}function fN(n){return new ht(ct.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(n,e){return new ht(ct.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wl(n){throw new ht(ct.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=An.makeFromUrl(e,t)}catch{return new An(e,"")}if(r.path==="")return r;throw lN(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${_}/b/${o}/o${T}`,"i"),A={bucket:1,path:3},O=t===dT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",$=new RegExp(`^https?://${O}/${o}/${k}`,"i"),j=[{regex:d,indices:f,postModify:a},{regex:C,indices:A,postModify:m},{regex:$,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<j.length;H++){const ee=j[H],le=ee.regex.exec(e);if(le){const b=le[ee.indices.bucket];let R=le[ee.indices.path];R||(R=""),r=new An(b,R),ee.postModify(r);break}}if(r==null)throw aN(e);return r}}class pN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n,e,t){let r=1,o=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function _(...k){m||(m=!0,e.apply(null,k))}function w(k){o=setTimeout(()=>{o=null,n(C,f())},k)}function T(){a&&clearTimeout(a)}function C(k,...$){if(m){T();return}if(k){T(),_.call(null,k,...$);return}if(f()||u){T(),_.call(null,k,...$);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,w(j)}let A=!1;function O(k){A||(A=!0,T(),!m&&(o!==null?(k||(d=2),clearTimeout(o),w(0)):k||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,O(!0)},t),O}function gN(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(n){return n!==void 0}function _N(n){return typeof n=="object"&&!Array.isArray(n)}function Hm(n){return typeof n=="string"||n instanceof String}function Kv(n){return qm()&&n instanceof Blob}function qm(){return typeof Blob<"u"}function Gv(n,e,t,r){if(r<e)throw Vp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Vp(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function mT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Fi;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Fi||(Fi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,r,o,a,u,d,f,m,_,w,T=!0,C=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,O)=>{this.resolve_=A,this.reject_=O,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new jc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Fi.NO_ERROR,f=a.getStatus();if(!d||vN(f,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Fi.ABORT;r(!1,new jc(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new jc(m,a))})},t=(r,o)=>{const a=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());yN(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=$m();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?pT():oN();u(f)}else{const f=iN();u(f)}};this.canceled_?t(!1,new jc(!1,null,!0)):this.backoffId_=mN(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function EN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function TN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function IN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function RN(n,e,t,r,o,a,u=!0,d=!1){const f=mT(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return IN(_,e),EN(_,t),TN(_,a),SN(_,r),new wN(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AN(...n){const e=CN();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(qm())return new Blob(n);throw new ht(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PN(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){if(typeof atob>"u")throw dN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class np{constructor(e,t){this.data=e,this.contentType=t||null}}function xN(n,e){switch(n){case wr.RAW:return new np(gT(e));case wr.BASE64:case wr.BASE64URL:return new np(yT(n,e));case wr.DATA_URL:return new np(bN(e),ON(e))}throw $m()}function gT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function NN(n){let e;try{e=decodeURIComponent(n)}catch{throw Vl(wr.DATA_URL,"Malformed data URL.")}return gT(e)}function yT(n,e){switch(n){case wr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case wr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=kN(e)}catch(o){throw o.message.includes("polyfill")?o:Vl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class _T{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Vl(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=DN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bN(n){const e=new _T(n);return e.base64?yT(wr.BASE64,e.rest):NN(e.rest)}function ON(n){return new _T(n).contentType}function DN(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){let r=0,o="";Kv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Kv(this.data_)){const r=this.data_,o=PN(r,e,t);return o===null?null:new zs(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new zs(r,!0)}}static getBlob(...e){if(qm()){const t=e.map(r=>r instanceof zs?r.data_:r);return new zs(AN.apply(null,t))}else{const t=e.map(u=>Hm(u)?xN(wr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)o[a++]=u[d]}),new zs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){let e;try{e=JSON.parse(n)}catch{return null}return _N(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function VN(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function wT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n,e){return e}class tn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||MN}}let Bc=null;function UN(n){return!Hm(n)||n.length<2?n:wT(n)}function ET(){if(Bc)return Bc;const n=[];n.push(new tn("bucket")),n.push(new tn("generation")),n.push(new tn("metageneration")),n.push(new tn("name","fullPath",!0));function e(a,u){return UN(u)}const t=new tn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const o=new tn("size");return o.xform=r,n.push(o),n.push(new tn("timeCreated")),n.push(new tn("updated")),n.push(new tn("md5Hash",null,!0)),n.push(new tn("cacheControl",null,!0)),n.push(new tn("contentDisposition",null,!0)),n.push(new tn("contentEncoding",null,!0)),n.push(new tn("contentLanguage",null,!0)),n.push(new tn("contentType",null,!0)),n.push(new tn("metadata","customMetadata",!0)),Bc=n,Bc}function FN(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new An(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function jN(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return FN(r,n),r}function TT(n,e,t){const r=vT(e);return r===null?null:jN(n,r,t)}function BN(n,e,t,r){const o=vT(e);if(o===null||!Hm(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const _=n.bucket,w=n.fullPath,T="/b/"+u(_)+"/o/"+u(w),C=Wm(T,t,r),A=mT({alt:"media",token:m});return C+A})[0]}function zN(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class IT{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){if(!n)throw $m()}function $N(n,e){function t(r,o){const a=TT(n,o,e);return ST(a!==null),a}return t}function HN(n,e){function t(r,o){const a=TT(n,o,e);return ST(a!==null),BN(a,o,n.host,n._protocol)}return t}function RT(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=rN():o=nN():t.getStatus()===402?o=tN(n.bucket):t.getStatus()===403?o=sN(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function qN(n){const e=RT(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=eN(n.path)),a.serverResponse=o.serverResponse,a}return t}function WN(n,e,t){const r=e.fullServerUrl(),o=Wm(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,d=new IT(o,a,HN(n,t),u);return d.errorHandler=qN(e),d}function KN(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function GN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=KN(null,e)),r}function QN(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let H=0;H<2;H++)j=j+Math.random().toString().slice(2);return j}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=GN(e,r,o),_=zN(m,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+f+"--",C=zs.getBlob(w,r,T);if(C===null)throw cN();const A={name:m.fullPath},O=Wm(a,n.host,n._protocol),k="POST",$=n.maxUploadRetryTime,F=new IT(O,k,$N(n,t),$);return F.urlParams=A,F.headers=u,F.body=C.uploadData(),F.errorHandler=RT(e),F}class XN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw wl("cannot .send() more than once");if(ti(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JN extends XN{initXhr(){this.xhr_.responseType="text"}}function CT(){return new JN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){this._service=e,t instanceof An?this._location=t:this._location=An.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ki(e,t)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wT(this._location.path)}get storage(){return this._service}get parent(){const e=LN(this._location.path);if(e===null)return null;const t=new An(this._location.bucket,e);return new Ki(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fN(e)}}function YN(n,e,t){n._throwIfRoot("uploadBytes");const r=QN(n.storage,n._location,ET(),new zs(e,!0),t);return n.storage.makeRequestWithTokens(r,CT).then(o=>({metadata:o,ref:n}))}function ZN(n){n._throwIfRoot("getDownloadURL");const e=WN(n.storage,n._location,ET());return n.storage.makeRequestWithTokens(e,CT).then(t=>{if(t===null)throw hN();return t})}function eb(n,e){const t=VN(n._location.path,e),r=new An(n._location.bucket,t);return new Ki(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(n){return/^[A-Za-z]+:\/\//.test(n)}function nb(n,e){return new Ki(n,e)}function AT(n,e){if(n instanceof Km){const t=n;if(t._bucket==null)throw uN();const r=new Ki(t,t._bucket);return e!=null?AT(r,e):r}else return e!==void 0?eb(n,e):n}function rb(n,e){if(e&&tb(e)){if(n instanceof Km)return nb(n,e);throw Vp("To use ref(service, url), the first argument must be a Storage instance.")}else return AT(n,e)}function Qv(n,e){const t=e?.[fT];return t==null?null:An.makeFromBucketSpec(t,n)}function sb(n,e,t,r={}){n.host=`${e}:${t}`;const o=ti(e);o&&(Yp(`https://${n.host}/b`),Zp("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:$0(a,n.app.options.projectId))}class Km{constructor(e,t,r,o,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=dT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y2,this._maxUploadRetryTime=Z2,this._requests=new Set,o!=null?this._bucket=An.makeFromBucketSpec(o,this._host):this._bucket=Qv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=Qv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ki(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new pN(pT());{const u=RN(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const Xv="@firebase/storage",Jv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="storage";function ib(n,e,t){return n=Et(n),YN(n,e,t)}function ob(n){return n=Et(n),ZN(n)}function ab(n,e){return n=Et(n),rb(n,e)}function lb(n=nm(),e){n=Et(n);const r=bh(n,PT).getImmediate({identifier:e}),o=j0("storage");return o&&ub(r,...o),r}function ub(n,e,t,r={}){sb(n,e,t,r)}function cb(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Km(t,r,o,e,Ji)}function hb(){zi(new Gs(PT,cb,"PUBLIC").setMultipleInstances(!0)),Er(Xv,Jv,""),Er(Xv,Jv,"esm2020")}hb();const db={apiKey:"AIzaSyD1XiTydBQrkGi6Nade6CkLnjM_HwECNGI",authDomain:"login-auth-44423.firebaseapp.com",projectId:"login-auth-44423",storageBucket:"login-auth-44423.appspot.com",messagingSenderId:"733502020395",appId:"1:733502020395:web:239d06e233049442c0c36e",measurementId:"G-JGTRFBD8H2"},Gm=W0(db),Pn=MP(Gm),kn=U2(Gm),fb=lb(Gm);function kT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=kT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ji(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=kT(n))&&(r&&(r+=" "),r+=e);return r}function pb(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}pb(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hu=n=>typeof n=="number"&&!isNaN(n),Gi=n=>typeof n=="string",cs=n=>typeof n=="function",mb=n=>Gi(n)||hu(n),Mp=n=>Gi(n)||cs(n)?n:null,gb=(n,e)=>n===!1||hu(n)&&n>0?n:e,Up=n=>M.isValidElement(n)||Gi(n)||cs(n)||hu(n);function yb(n,e,t=300){let{scrollHeight:r,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function _b({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:a,position:u,preventExitTransition:d,done:f,nodeRef:m,isIn:_,playToast:w}){let T=t?`${n}--${u}`:n,C=t?`${e}--${u}`:e,A=M.useRef(0);return M.useLayoutEffect(()=>{let O=m.current,k=T.split(" "),$=F=>{F.target===m.current&&(w(),O.removeEventListener("animationend",$),O.removeEventListener("animationcancel",$),A.current===0&&F.type!=="animationcancel"&&O.classList.remove(...k))};O.classList.add(...k),O.addEventListener("animationend",$),O.addEventListener("animationcancel",$)},[]),M.useEffect(()=>{let O=m.current,k=()=>{O.removeEventListener("animationend",k),r?yb(O,f,o):f()};_||(d?k():(A.current=1,O.className+=` ${C}`,O.addEventListener("animationend",k)))},[_]),Be.createElement(Be.Fragment,null,a)}}function Yv(n,e){return{content:xT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function xT(n,e,t=!1){return M.isValidElement(n)&&!Gi(n.type)?M.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):cs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function vb({closeToast:n,theme:e,ariaLabel:t="close"}){return Be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},Be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function wb({delay:n,isRunning:e,closeToast:t,type:r="default",hide:o,className:a,controlledProgress:u,progress:d,rtl:f,isIn:m,theme:_}){let w=o||u&&d===0,T={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};u&&(T.transform=`scaleX(${d})`);let C=ji("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),A=cs(a)?a({rtl:f,type:r,defaultClassName:C}):ji(C,a),O={[u&&d>=1?"onTransitionEnd":"onAnimationEnd"]:u&&d<1?null:()=>{m&&t()}};return Be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},Be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),Be.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:A,style:T,...O}))}var Eb=1,NT=()=>`${Eb++}`;function Tb(n,e,t){let r=1,o=0,a=[],u=[],d=e,f=new Map,m=new Set,_=F=>(m.add(F),()=>m.delete(F)),w=()=>{u=Array.from(f.values()),m.forEach(F=>F())},T=({containerId:F,toastId:j,updateId:H})=>{let ee=F?F!==n:n!==1,le=f.has(j)&&H==null;return ee||le},C=(F,j)=>{f.forEach(H=>{var ee;(j==null||j===H.props.toastId)&&((ee=H.toggle)==null||ee.call(H,F))})},A=F=>{var j,H;(H=(j=F.props)==null?void 0:j.onClose)==null||H.call(j,F.removalReason),F.isActive=!1},O=F=>{if(F==null)f.forEach(A);else{let j=f.get(F);j&&A(j)}w()},k=()=>{o-=a.length,a=[]},$=F=>{var j,H;let{toastId:ee,updateId:le}=F.props,b=le==null;F.staleId&&f.delete(F.staleId),F.isActive=!0,f.set(ee,F),w(),t(Yv(F,b?"added":"updated")),b&&((H=(j=F.props).onOpen)==null||H.call(j))};return{id:n,props:d,observe:_,toggle:C,removeToast:O,toasts:f,clearQueue:k,buildToast:(F,j)=>{if(T(j))return;let{toastId:H,updateId:ee,data:le,staleId:b,delay:R}=j,P=ee==null;P&&o++;let L={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(j).filter(([z,N])=>N!=null)),toastId:H,updateId:ee,data:le,isIn:!1,className:Mp(j.className||d.toastClassName),progressClassName:Mp(j.progressClassName||d.progressClassName),autoClose:j.isLoading?!1:gb(j.autoClose,d.autoClose),closeToast(z){f.get(H).removalReason=z,O(H)},deleteToast(){let z=f.get(H);if(z!=null){if(t(Yv(z,"removed")),f.delete(H),o--,o<0&&(o=0),a.length>0){$(a.shift());return}w()}}};L.closeButton=d.closeButton,j.closeButton===!1||Up(j.closeButton)?L.closeButton=j.closeButton:j.closeButton===!0&&(L.closeButton=Up(d.closeButton)?d.closeButton:!0);let U={content:F,props:L,staleId:b};d.limit&&d.limit>0&&o>d.limit&&P?a.push(U):hu(R)?setTimeout(()=>{$(U)},R):$(U)},setProps(F){d=F},setToggle:(F,j)=>{let H=f.get(F);H&&(H.toggle=j)},isToastActive:F=>{var j;return(j=f.get(F))==null?void 0:j.isActive},getSnapshot:()=>u}}var nn=new Map,Gl=[],Fp=new Set,Ib=n=>Fp.forEach(e=>e(n)),bT=()=>nn.size>0;function Sb(){Gl.forEach(n=>DT(n.content,n.options)),Gl=[]}var Rb=(n,{containerId:e})=>{var t;return(t=nn.get(e||1))==null?void 0:t.toasts.get(n)};function OT(n,e){var t;if(e)return!!((t=nn.get(e))!=null&&t.isToastActive(n));let r=!1;return nn.forEach(o=>{o.isToastActive(n)&&(r=!0)}),r}function Cb(n){if(!bT()){Gl=Gl.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||mb(n))nn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=nn.get(n.containerId);e?e.removeToast(n.id):nn.forEach(t=>{t.removeToast(n.id)})}}var Ab=(n={})=>{nn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function DT(n,e){Up(n)&&(bT()||Gl.push({content:n,options:e}),nn.forEach(t=>{t.buildToast(n,e)}))}function Pb(n){var e;(e=nn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function LT(n,e){nn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function kb(n){let e=n.containerId||1;return{subscribe(t){let r=Tb(e,n,Ib);nn.set(e,r);let o=r.observe(t);return Sb(),()=>{o(),nn.delete(e)}},setProps(t){var r;(r=nn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=nn.get(e))==null?void 0:t.getSnapshot()}}}function xb(n){return Fp.add(n),()=>{Fp.delete(n)}}function Nb(n){return n&&(Gi(n.toastId)||hu(n.toastId))?n.toastId:NT()}function du(n,e){return DT(n,e),e.toastId}function Zh(n,e){return{...e,type:e&&e.type||n,toastId:Nb(e)}}function ed(n){return(e,t)=>du(e,Zh(n,t))}function xe(n,e){return du(n,Zh("default",e))}xe.loading=(n,e)=>du(n,Zh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bb(n,{pending:e,error:t,success:r},o){let a;e&&(a=Gi(e)?xe.loading(e,o):xe.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,_,w)=>{if(_==null){xe.dismiss(a);return}let T={type:m,...u,...o,data:w},C=Gi(_)?{render:_}:_;return a?xe.update(a,{...T,...C}):xe(C.render,{...T,...C}),w},f=cs(n)?n():n;return f.then(m=>d("success",r,m)).catch(m=>d("error",t,m)),f}xe.promise=bb;xe.success=ed("success");xe.info=ed("info");xe.error=ed("error");xe.warning=ed("warning");xe.warn=xe.warning;xe.dark=(n,e)=>du(n,Zh("default",{theme:"dark",...e}));function Ob(n){Cb(n)}xe.dismiss=Ob;xe.clearWaitingQueue=Ab;xe.isActive=OT;xe.update=(n,e={})=>{let t=Rb(n,e);if(t){let{props:r,content:o}=t,a={delay:100,...r,...e,toastId:e.toastId||n,updateId:NT()};a.toastId!==n&&(a.staleId=n);let u=a.render||o;delete a.render,du(u,a)}};xe.done=n=>{xe.update(n,{progress:1})};xe.onChange=xb;xe.play=n=>LT(!0,n);xe.pause=n=>LT(!1,n);function Db(n){var e;let{subscribe:t,getSnapshot:r,setProps:o}=M.useRef(kb(n)).current;o(n);let a=(e=M.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function u(d){if(!a)return[];let f=new Map;return n.newestOnTop&&a.reverse(),a.forEach(m=>{let{position:_}=m.props;f.has(_)||f.set(_,[]),f.get(_).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:u,isToastActive:OT,count:a?.length}}function Lb(n){let[e,t]=M.useState(!1),[r,o]=M.useState(!1),a=M.useRef(null),u=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:_,closeOnClick:w}=n;Pb({id:n.toastId,containerId:n.containerId,fn:t}),M.useEffect(()=>{if(n.pauseOnFocusLoss)return T(),()=>{C()}},[n.pauseOnFocusLoss]);function T(){document.hasFocus()||$(),window.addEventListener("focus",k),window.addEventListener("blur",$)}function C(){window.removeEventListener("focus",k),window.removeEventListener("blur",$)}function A(b){if(n.draggable===!0||n.draggable===b.pointerType){F();let R=a.current;u.canCloseOnClick=!0,u.canDrag=!0,R.style.transition="none",n.draggableDirection==="x"?(u.start=b.clientX,u.removalDistance=R.offsetWidth*(n.draggablePercent/100)):(u.start=b.clientY,u.removalDistance=R.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function O(b){let{top:R,bottom:P,left:L,right:U}=a.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&n.pauseOnHover&&b.clientX>=L&&b.clientX<=U&&b.clientY>=R&&b.clientY<=P?$():k()}function k(){t(!0)}function $(){t(!1)}function F(){u.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",ee)}function j(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",ee)}function H(b){let R=a.current;if(u.canDrag&&R){u.didMove=!0,e&&$(),n.draggableDirection==="x"?u.delta=b.clientX-u.start:u.delta=b.clientY-u.start,u.start!==b.clientX&&(u.canCloseOnClick=!1);let P=n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;R.style.transform=`translate3d(${P},0)`,R.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function ee(){j();let b=a.current;if(u.canDrag&&u.didMove&&b){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){o(!0),n.closeToast(!0),n.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}let le={onPointerDown:A,onPointerUp:O};return d&&f&&(le.onMouseEnter=$,n.stacked||(le.onMouseLeave=k)),w&&(le.onClick=b=>{_&&_(b),u.canCloseOnClick&&m(!0)}),{playToast:k,pauseToast:$,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:le}}var Vb=typeof window<"u"?M.useLayoutEffect:M.useEffect,td=({theme:n,type:e,isLoading:t,...r})=>Be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Mb(n){return Be.createElement(td,{...n},Be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Ub(n){return Be.createElement(td,{...n},Be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Fb(n){return Be.createElement(td,{...n},Be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function jb(n){return Be.createElement(td,{...n},Be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Bb(){return Be.createElement("div",{className:"Toastify__spinner"})}var jp={info:Ub,warning:Mb,success:Fb,error:jb,spinner:Bb},zb=n=>n in jp;function $b({theme:n,type:e,isLoading:t,icon:r}){let o=null,a={theme:n,type:e};return r===!1||(cs(r)?o=r({...a,isLoading:t}):M.isValidElement(r)?o=M.cloneElement(r,a):t?o=jp.spinner():zb(e)&&(o=jp[e](a))),o}var Hb=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:o,playToast:a}=Lb(n),{closeButton:u,children:d,autoClose:f,onClick:m,type:_,hideProgressBar:w,closeToast:T,transition:C,position:A,className:O,style:k,progressClassName:$,updateId:F,role:j,progress:H,rtl:ee,toastId:le,deleteToast:b,isIn:R,isLoading:P,closeOnClick:L,theme:U,ariaLabel:z}=n,N=ji("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":ee},{"Toastify__toast--close-on-click":L}),Je=cs(O)?O({rtl:ee,position:A,type:_,defaultClassName:N}):ji(N,O),tt=$b(n),dt=!!H||!f,Ve={closeToast:T,type:_,theme:U},oe=null;return u===!1||(cs(u)?oe=u(Ve):M.isValidElement(u)?oe=M.cloneElement(u,Ve):oe=vb(Ve)),Be.createElement(C,{isIn:R,done:b,position:A,preventExitTransition:t,nodeRef:r,playToast:a},Be.createElement("div",{id:le,tabIndex:0,onClick:m,"data-in":R,className:Je,...o,style:k,ref:r,...R&&{role:j,"aria-label":z}},tt!=null&&Be.createElement("div",{className:ji("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},tt),xT(d,n,!e),oe,!n.customProgressBar&&Be.createElement(wb,{...F&&!dt?{key:`p-${F}`}:{},rtl:ee,theme:U,delay:f,isRunning:e,isIn:R,closeToast:T,hide:w,type:_,className:$,controlledProgress:dt,progress:H||0})))},qb=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Wb=_b(qb("bounce",!0)),Kb={position:"top-right",transition:Wb,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function Gb(n){let e={...Kb,...n},t=n.stacked,[r,o]=M.useState(!0),a=M.useRef(null),{getToastToRender:u,isToastActive:d,count:f}=Db(e),{className:m,style:_,rtl:w,containerId:T,hotKeys:C}=e;function A(k){let $=ji("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":w});return cs(m)?m({position:k,rtl:w,defaultClassName:$}):ji($,Mp(m))}function O(){t&&(o(!0),xe.play())}return Vb(()=>{var k;if(t){let $=a.current.querySelectorAll('[data-in="true"]'),F=12,j=(k=e.position)==null?void 0:k.includes("top"),H=0,ee=0;Array.from($).reverse().forEach((le,b)=>{let R=le;R.classList.add("Toastify__toast--stacked"),b>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=j?"top":"bot");let P=H*(r?.2:1)+(r?0:F*b);R.style.setProperty("--y",`${j?P:P*-1}px`),R.style.setProperty("--g",`${F}`),R.style.setProperty("--s",`${1-(r?ee:0)}`),H+=R.offsetHeight,ee+=.025})}},[r,f,t]),M.useEffect(()=>{function k($){var F;let j=a.current;C($)&&((F=j.querySelector('[tabIndex="0"]'))==null||F.focus(),o(!1),xe.pause()),$.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(o(!0),xe.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[C]),Be.createElement("section",{ref:a,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),xe.pause())},onMouseLeave:O,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((k,$)=>{let F=$.length?{..._}:{..._,pointerEvents:"none"};return Be.createElement("div",{tabIndex:-1,className:A(k),"data-stacked":t,style:F,key:`c-${k}`},$.map(({content:j,props:H})=>Be.createElement(Hb,{...H,stacked:t,collapseAll:O,isIn:d(H.toastId,H.containerId),key:`t-${H.key}`},j)))}))}const Qb=()=>{const n=hs(),[e,t]=M.useState(""),[r,o]=M.useState(""),[a,u]=M.useState(""),[d,f]=M.useState(""),[m,_]=M.useState(""),w=async T=>{T.preventDefault();try{const A=(await IA(Pn,e,r)).user;await fa(Cn(kn,"users",A.uid),{firstName:a,lastName:d,email:e,phoneNumber:m}),alert("Registration successful!"),xe.success("Registration successful!"),n("/login")}catch(C){console.error("Registration error:",C.message),alert("Registration failed. "+C.message)}};return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"register-container",children:[I.jsx("div",{children:I.jsx("img",{src:"https://images.squarespace-cdn.com/content/v1/54a43027e4b0e8454930051c/1544213616126-XGR35ABBUG5IUG883TZ3/JEDI-Beginnings1.gif",alt:"singup-image",className:"signup-image"})}),I.jsxs("div",{className:"form-container",children:[I.jsx("h1",{class:"heading",children:"Sign Up"}),I.jsxs("form",{onSubmit:w,children:[I.jsx("div",{children:I.jsx("input",{type:"text",value:a,onChange:T=>u(T.target.value),required:!0,className:"input",placeholder:"First Name"})}),I.jsx("div",{children:I.jsx("input",{type:"text",value:d,onChange:T=>f(T.target.value),required:!0,className:"input",placeholder:"Last Name..."})}),I.jsx("div",{children:I.jsx("input",{type:"email",value:e,onChange:T=>t(T.target.value),required:!0,className:"input",placeholder:"Email..."})}),I.jsx("div",{children:I.jsx("input",{type:"password",value:r,onChange:T=>o(T.target.value),required:!0,className:"input",placeholder:"Password..."})}),I.jsx("div",{children:I.jsx("input",{type:"text",value:m,onChange:T=>_(T.target.value),required:!0,className:"input",placeholder:"Phone No..."})}),I.jsx("button",{className:"register-button",type:"submit",children:"Register"}),I.jsxs("p",{children:["Already have an account?"," ",I.jsx("span",{onClick:()=>n("/login"),style:{color:"blue",cursor:"pointer"},children:"Login"})]})]})]})]})})},Xb=()=>{const[n,e]=M.useState(""),[t,r]=M.useState(""),o=hs(),a=async u=>{u.preventDefault();try{await SA(Pn,n,t),xe.success("Login successful!"),o("/")}catch(d){console.log("Login error:",d.message),xe.error("Login Failed:",d.message)}};return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"register-container",children:[I.jsx("div",{children:I.jsx("img",{src:"https://images.squarespace-cdn.com/content/v1/54a43027e4b0e8454930051c/1544213616126-XGR35ABBUG5IUG883TZ3/JEDI-Beginnings1.gif",alt:"singup-image",className:"signup-image"})}),I.jsxs("div",{className:"form-container",children:[I.jsx("h1",{className:"heading",children:"Login"}),I.jsxs("form",{onSubmit:a,children:[I.jsx("div",{children:I.jsx("input",{type:"email",value:n,onChange:u=>e(u.target.value),required:!0,className:"input",placeholder:"Email"})}),I.jsx("div",{children:I.jsx("input",{type:"password",value:t,onChange:u=>r(u.target.value),required:!0,className:"input",placeholder:"Password..."})}),I.jsx("button",{className:"register-button",type:"submit",children:"Login"}),I.jsxs("p",{children:["Don't have an account?"," ",I.jsx("span",{onClick:()=>o("/register"),style:{color:"blue",cursor:"pointer"},children:"Sign Up"})]})]})]})]})})};var dn={},El={},Zv;function Jb(){if(Zv)return El;Zv=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parseLengthAndUnit=e,El.cssValue=t;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function e(r){if(typeof r=="number")return{value:r,unit:"px"};var o,a=(r.match(/^[0-9.]*/)||"").toString();a.includes(".")?o=parseFloat(a):o=parseInt(a,10);var u=(r.match(/[^0-9]*$/)||"").toString();return n[u]?{value:o,unit:u}:(console.warn("React Spinners: ".concat(r," is not a valid css value. Defaulting to ").concat(o,"px.")),{value:o,unit:"px"})}function t(r){var o=e(r);return"".concat(o.value).concat(o.unit)}return El}var Tl={},e0;function Yb(){if(e0)return Tl;e0=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.createAnimation=void 0;var n=function(e,t,r){var o="react-spinners-".concat(e,"-").concat(r);if(typeof window>"u"||!window.document)return o;var a=document.createElement("style");document.head.appendChild(a);var u=a.sheet,d=`
    @keyframes `.concat(o,` {
      `).concat(t,`
    }
  `);return u&&u.insertRule(d,0),o};return Tl.createAnimation=n,Tl}var t0;function Zb(){if(t0)return dn;t0=1;var n=dn&&dn.__assign||function(){return n=Object.assign||function(_){for(var w,T=1,C=arguments.length;T<C;T++){w=arguments[T];for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&(_[A]=w[A])}return _},n.apply(this,arguments)},e=dn&&dn.__createBinding||(Object.create?function(_,w,T,C){C===void 0&&(C=T);var A=Object.getOwnPropertyDescriptor(w,T);(!A||("get"in A?!w.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(_,C,A)}:function(_,w,T,C){C===void 0&&(C=T),_[C]=w[T]}),t=dn&&dn.__setModuleDefault||(Object.create?function(_,w){Object.defineProperty(_,"default",{enumerable:!0,value:w})}:function(_,w){_.default=w}),r=dn&&dn.__importStar||function(){var _=function(w){return _=Object.getOwnPropertyNames||function(T){var C=[];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(C[C.length]=A);return C},_(w)};return function(w){if(w&&w.__esModule)return w;var T={};if(w!=null)for(var C=_(w),A=0;A<C.length;A++)C[A]!=="default"&&e(T,w,C[A]);return t(T,w),T}}(),o=dn&&dn.__rest||function(_,w){var T={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&w.indexOf(C)<0&&(T[C]=_[C]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,C=Object.getOwnPropertySymbols(_);A<C.length;A++)w.indexOf(C[A])<0&&Object.prototype.propertyIsEnumerable.call(_,C[A])&&(T[C[A]]=_[C[A]]);return T};Object.defineProperty(dn,"__esModule",{value:!0});var a=r(Ph()),u=Jb(),d=Yb(),f=(0,d.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function m(_){var w=_.loading,T=w===void 0?!0:w,C=_.color,A=C===void 0?"#000000":C,O=_.speedMultiplier,k=O===void 0?1:O,$=_.cssOverride,F=$===void 0?{}:$,j=_.size,H=j===void 0?35:j,ee=o(_,["loading","color","speedMultiplier","cssOverride","size"]),le=n({background:"transparent !important",width:(0,u.cssValue)(H),height:(0,u.cssValue)(H),borderRadius:"100%",border:"2px solid",borderTopColor:A,borderBottomColor:"transparent",borderLeftColor:A,borderRightColor:A,display:"inline-block",animation:"".concat(f," ").concat(.75/k,"s 0s infinite linear"),animationFillMode:"both"},F);return T?a.createElement("span",n({style:le},ee)):null}return dn.default=m,dn}var eO=Zb();const tO=y0(eO);var VT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n0=Be.createContext&&Be.createContext(VT),nO=["attr","size","title"];function rO(n,e){if(n==null)return{};var t=sO(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sO(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Sh(){return Sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sh.apply(this,arguments)}function r0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Rh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(t),!0).forEach(function(r){iO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iO(n,e,t){return e=oO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oO(n){var e=aO(n,"string");return typeof e=="symbol"?e:e+""}function aO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MT(n){return n&&n.map((e,t)=>Be.createElement(e.tag,Rh({key:t},e.attr),MT(e.child)))}function ir(n){return e=>Be.createElement(lO,Sh({attr:Rh({},n.attr)},e),MT(n.child))}function lO(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=rO(n,nO),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Be.createElement("svg",Sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Rh(Rh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Be.createElement("title",null,a),n.children)};return n0!==void 0?Be.createElement(n0.Consumer,null,t=>e(t)):e(VT)}function rp(n){return ir({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM403.029 192H360v-60c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v60h-43.029c-10.691 0-16.045 12.926-8.485 20.485l67.029 67.029c4.686 4.686 12.284 4.686 16.971 0l67.029-67.029c7.559-7.559 2.205-20.485-8.486-20.485z"},child:[]}]})(n)}function uO(n){return ir({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function nd(n){return ir({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function Qm(n){return ir({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 1h6v2H9zM19.03 7.39l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0 0 12 4a9 9 0 0 0-9 9c0 4.97 4.02 9 9 9a8.994 8.994 0 0 0 7.03-14.61zM13 14h-2V8h2v6z"},child:[]}]})(n)}function Xm(n){return ir({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"},child:[]}]})(n)}function cO(n){return ir({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(n)}function hO(n){return ir({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 6v8h3v8h2V2c-2.76 0-5 2.24-5 4zm-5 3H9V2H7v7H5V2H3v7c0 2.21 1.79 4 4 4v9h2v-9c2.21 0 4-1.79 4-4V2h-2v7z"},child:[]}]})(n)}function UT(n,e){return function(){return n.apply(e,arguments)}}const{toString:dO}=Object.prototype,{getPrototypeOf:Jm}=Object,{iterator:rd,toStringTag:FT}=Symbol,sd=(n=>e=>{const t=dO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>sd(e)===n),id=n=>e=>typeof e===n,{isArray:Ta}=Array,Ql=id("undefined");function fu(n){return n!==null&&!Ql(n)&&n.constructor!==null&&!Ql(n.constructor)&&mn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const jT=or("ArrayBuffer");function fO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&jT(n.buffer),e}const pO=id("string"),mn=id("function"),BT=id("number"),pu=n=>n!==null&&typeof n=="object",mO=n=>n===!0||n===!1,eh=n=>{if(sd(n)!=="object")return!1;const e=Jm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(FT in n)&&!(rd in n)},gO=n=>{if(!pu(n)||fu(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},yO=or("Date"),_O=or("File"),vO=or("Blob"),wO=or("FileList"),EO=n=>pu(n)&&mn(n.pipe),TO=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||mn(n.append)&&((e=sd(n))==="formdata"||e==="object"&&mn(n.toString)&&n.toString()==="[object FormData]"))},IO=or("URLSearchParams"),[SO,RO,CO,AO]=["ReadableStream","Request","Response","Headers"].map(or),PO=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),Ta(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{if(fu(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(r=0;r<u;r++)d=a[r],e.call(null,n[d],d,n)}}function zT(n,e){if(fu(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const Mi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$T=n=>!Ql(n)&&n!==Mi;function Bp(){const{caseless:n}=$T(this)&&this||{},e={},t=(r,o)=>{const a=n&&zT(e,o)||o;eh(e[a])&&eh(r)?e[a]=Bp(e[a],r):eh(r)?e[a]=Bp({},r):Ta(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&mu(arguments[r],t);return e}const kO=(n,e,t,{allOwnKeys:r}={})=>(mu(e,(o,a)=>{t&&mn(o)?n[a]=UT(o,t):n[a]=o},{allOwnKeys:r}),n),xO=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),NO=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},bO=(n,e,t,r)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!r||r(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&Jm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},OO=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},DO=n=>{if(!n)return null;if(Ta(n))return n;let e=n.length;if(!BT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},LO=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Jm(Uint8Array)),VO=(n,e)=>{const r=(n&&n[rd]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},MO=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},UO=or("HTMLFormElement"),FO=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),s0=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),jO=or("RegExp"),HT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};mu(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(r[a]=u||o)}),Object.defineProperties(n,r)},BO=n=>{HT(n,(e,t)=>{if(mn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},zO=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return Ta(n)?r(n):r(String(n).split(e)),t},$O=()=>{},HO=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function qO(n){return!!(n&&mn(n.append)&&n[FT]==="FormData"&&n[rd])}const WO=n=>{const e=new Array(10),t=(r,o)=>{if(pu(r)){if(e.indexOf(r)>=0)return;if(fu(r))return r;if(!("toJSON"in r)){e[o]=r;const a=Ta(r)?[]:{};return mu(r,(u,d)=>{const f=t(u,o+1);!Ql(f)&&(a[d]=f)}),e[o]=void 0,a}}return r};return t(n,0)},KO=or("AsyncFunction"),GO=n=>n&&(pu(n)||mn(n))&&mn(n.then)&&mn(n.catch),qT=((n,e)=>n?setImmediate:e?((t,r)=>(Mi.addEventListener("message",({source:o,data:a})=>{o===Mi&&a===t&&r.length&&r.shift()()},!1),o=>{r.push(o),Mi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mn(Mi.postMessage)),QO=typeof queueMicrotask<"u"?queueMicrotask.bind(Mi):typeof process<"u"&&process.nextTick||qT,XO=n=>n!=null&&mn(n[rd]),X={isArray:Ta,isArrayBuffer:jT,isBuffer:fu,isFormData:TO,isArrayBufferView:fO,isString:pO,isNumber:BT,isBoolean:mO,isObject:pu,isPlainObject:eh,isEmptyObject:gO,isReadableStream:SO,isRequest:RO,isResponse:CO,isHeaders:AO,isUndefined:Ql,isDate:yO,isFile:_O,isBlob:vO,isRegExp:jO,isFunction:mn,isStream:EO,isURLSearchParams:IO,isTypedArray:LO,isFileList:wO,forEach:mu,merge:Bp,extend:kO,trim:PO,stripBOM:xO,inherits:NO,toFlatObject:bO,kindOf:sd,kindOfTest:or,endsWith:OO,toArray:DO,forEachEntry:VO,matchAll:MO,isHTMLForm:UO,hasOwnProperty:s0,hasOwnProp:s0,reduceDescriptors:HT,freezeMethods:BO,toObjectSet:zO,toCamelCase:FO,noop:$O,toFiniteNumber:HO,findKey:zT,global:Mi,isContextDefined:$T,isSpecCompliantForm:qO,toJSONObject:WO,isAsyncFn:KO,isThenable:GO,setImmediate:qT,asap:QO,isIterable:XO};function ke(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const WT=ke.prototype,KT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{KT[n]={value:n}});Object.defineProperties(ke,KT);Object.defineProperty(WT,"isAxiosError",{value:!0});ke.from=(n,e,t,r,o,a)=>{const u=Object.create(WT);return X.toFlatObject(n,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),ke.call(u,n.message,e,t,r,o),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const JO=null;function zp(n){return X.isPlainObject(n)||X.isArray(n)}function GT(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function i0(n,e,t){return n?n.concat(e).map(function(o,a){return o=GT(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function YO(n){return X.isArray(n)&&!n.some(zp)}const ZO=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function od(n,e,t){if(!X.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,k){return!X.isUndefined(k[O])});const r=t.metaTokens,o=t.visitor||_,a=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function m(A){if(A===null)return"";if(X.isDate(A))return A.toISOString();if(X.isBoolean(A))return A.toString();if(!f&&X.isBlob(A))throw new ke("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(A)||X.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function _(A,O,k){let $=A;if(A&&!k&&typeof A=="object"){if(X.endsWith(O,"{}"))O=r?O:O.slice(0,-2),A=JSON.stringify(A);else if(X.isArray(A)&&YO(A)||(X.isFileList(A)||X.endsWith(O,"[]"))&&($=X.toArray(A)))return O=GT(O),$.forEach(function(j,H){!(X.isUndefined(j)||j===null)&&e.append(u===!0?i0([O],H,a):u===null?O:O+"[]",m(j))}),!1}return zp(A)?!0:(e.append(i0(k,O,a),m(A)),!1)}const w=[],T=Object.assign(ZO,{defaultVisitor:_,convertValue:m,isVisitable:zp});function C(A,O){if(!X.isUndefined(A)){if(w.indexOf(A)!==-1)throw Error("Circular reference detected in "+O.join("."));w.push(A),X.forEach(A,function($,F){(!(X.isUndefined($)||$===null)&&o.call(e,$,X.isString(F)?F.trim():F,O,T))===!0&&C($,O?O.concat(F):[F])}),w.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return C(n),e}function o0(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ym(n,e){this._pairs=[],n&&od(n,this,e)}const QT=Ym.prototype;QT.append=function(e,t){this._pairs.push([e,t])};QT.toString=function(e){const t=e?function(r){return e.call(this,r,o0)}:o0;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function e4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XT(n,e,t){if(!e)return n;const r=t&&t.encode||e4;X.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=X.isURLSearchParams(e)?e.toString():new Ym(e,t).toString(r),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class a0{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t4=typeof URLSearchParams<"u"?URLSearchParams:Ym,n4=typeof FormData<"u"?FormData:null,r4=typeof Blob<"u"?Blob:null,s4={isBrowser:!0,classes:{URLSearchParams:t4,FormData:n4,Blob:r4},protocols:["http","https","file","blob","url","data"]},Zm=typeof window<"u"&&typeof document<"u",$p=typeof navigator=="object"&&navigator||void 0,i4=Zm&&(!$p||["ReactNative","NativeScript","NS"].indexOf($p.product)<0),o4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a4=Zm&&window.location.href||"http://localhost",l4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zm,hasStandardBrowserEnv:i4,hasStandardBrowserWebWorkerEnv:o4,navigator:$p,origin:a4},Symbol.toStringTag,{value:"Module"})),Qt={...l4,...s4};function u4(n,e){return od(n,new Qt.classes.URLSearchParams,{visitor:function(t,r,o,a){return Qt.isNode&&X.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function c4(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h4(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function YT(n){function e(t,r,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=t.length;return u=!u&&X.isArray(o)?o.length:u,f?(X.hasOwnProp(o,u)?o[u]=[o[u],r]:o[u]=r,!d):((!o[u]||!X.isObject(o[u]))&&(o[u]=[]),e(t,r,o[u],a)&&X.isArray(o[u])&&(o[u]=h4(o[u])),!d)}if(X.isFormData(n)&&X.isFunction(n.entries)){const t={};return X.forEachEntry(n,(r,o)=>{e(c4(r),o,t,0)}),t}return null}function d4(n,e,t){if(X.isString(n))try{return(e||JSON.parse)(n),X.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const gu={transitional:JT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(YT(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u4(e,this.formSerializer).toString();if((d=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return od(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),d4(e)):e}],transformResponse:[function(e){const t=this.transitional||gu.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?ke.from(d,ke.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qt.classes.FormData,Blob:Qt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{gu.headers[n]={}});const f4=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p4=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),r=u.substring(o+1).trim(),!(!t||e[t]&&f4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},l0=Symbol("internals");function Il(n){return n&&String(n).trim().toLowerCase()}function th(n){return n===!1||n==null?n:X.isArray(n)?n.map(th):String(n)}function m4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function sp(n,e,t,r,o){if(X.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function y4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function _4(n,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,u){return this[r].call(this,e,o,a,u)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(d,f,m){const _=Il(f);if(!_)throw new Error("header name must be a non-empty string");const w=X.findKey(o,_);(!w||o[w]===void 0||m===!0||m===void 0&&o[w]!==!1)&&(o[w||f]=th(d))}const u=(d,f)=>X.forEach(d,(m,_)=>a(m,_,f));if(X.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(X.isString(e)&&(e=e.trim())&&!g4(e))u(p4(e),t);else if(X.isObject(e)&&X.isIterable(e)){let d={},f,m;for(const _ of e){if(!X.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[m=_[0]]=(f=d[m])?X.isArray(f)?[...f,_[1]]:[f,_[1]]:_[1]}u(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Il(e),e){const r=X.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return m4(o);if(X.isFunction(t))return t.call(this,o,r);if(X.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Il(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||sp(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(u){if(u=Il(u),u){const d=X.findKey(r,u);d&&(!t||sp(r,r[d],d,t))&&(delete r[d],o=!0)}}return X.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||sp(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return X.forEach(this,(o,a)=>{const u=X.findKey(r,a);if(u){t[u]=th(o),delete t[a];return}const d=e?y4(a):String(a).trim();d!==a&&delete t[a],t[d]=th(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&X.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[l0]=this[l0]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=Il(u);r[d]||(_4(o,u),r[d]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});X.freezeMethods(gn);function ip(n,e){const t=this||gu,r=e||t,o=gn.from(r.headers);let a=r.data;return X.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function ZT(n){return!!(n&&n.__CANCEL__)}function Ia(n,e,t){ke.call(this,n??"canceled",ke.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(Ia,ke,{__CANCEL__:!0});function e1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ke("Request failed with status code "+t.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function w4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),_=r[a];u||(u=m),t[o]=f,r[o]=m;let w=a,T=0;for(;w!==o;)T+=t[w++],w=w%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),m-u<e)return;const C=_&&m-_;return C?Math.round(T*1e3/C):void 0}}function E4(n,e){let t=0,r=1e3/e,o,a;const u=(m,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n(...m)};return[(...m)=>{const _=Date.now(),w=_-t;w>=r?u(m,_):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},r-w)))},()=>o&&u(o)]}const Ch=(n,e,t=3)=>{let r=0;const o=w4(50,250);return E4(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-r,m=o(f),_=u<=d;r=u;const w={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&_?(d-u)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(w)},t)},u0=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},c0=n=>(...e)=>X.asap(()=>n(...e)),T4=Qt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Qt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Qt.origin),Qt.navigator&&/(msie|trident)/i.test(Qt.navigator.userAgent)):()=>!0,I4=Qt.hasStandardBrowserEnv?{write(n,e,t,r,o,a){const u=[n+"="+encodeURIComponent(e)];X.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),X.isString(r)&&u.push("path="+r),X.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function R4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function t1(n,e,t){let r=!S4(e);return n&&(r||t==!1)?R4(n,e):e}const h0=n=>n instanceof gn?{...n}:n;function Qi(n,e){e=e||{};const t={};function r(m,_,w,T){return X.isPlainObject(m)&&X.isPlainObject(_)?X.merge.call({caseless:T},m,_):X.isPlainObject(_)?X.merge({},_):X.isArray(_)?_.slice():_}function o(m,_,w,T){if(X.isUndefined(_)){if(!X.isUndefined(m))return r(void 0,m,w,T)}else return r(m,_,w,T)}function a(m,_){if(!X.isUndefined(_))return r(void 0,_)}function u(m,_){if(X.isUndefined(_)){if(!X.isUndefined(m))return r(void 0,m)}else return r(void 0,_)}function d(m,_,w){if(w in e)return r(m,_);if(w in n)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,_,w)=>o(h0(m),h0(_),w,!0)};return X.forEach(Object.keys({...n,...e}),function(_){const w=f[_]||o,T=w(n[_],e[_],_);X.isUndefined(T)&&w!==d||(t[_]=T)}),t}const n1=n=>{const e=Qi({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;e.headers=u=gn.from(u),e.url=XT(t1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(X.isFormData(t)){if(Qt.hasStandardBrowserEnv||Qt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,..._]=f?f.split(";").map(w=>w.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",..._].join("; "))}}if(Qt.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&T4(e.url))){const m=o&&a&&I4.read(a);m&&u.set(o,m)}return e},C4=typeof XMLHttpRequest<"u",A4=C4&&function(n){return new Promise(function(t,r){const o=n1(n);let a=o.data;const u=gn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,_,w,T,C,A;function O(){C&&C(),A&&A(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function $(){if(!k)return;const j=gn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),ee={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:j,config:n,request:k};e1(function(b){t(b),O()},function(b){r(b),O()},ee),k=null}"onloadend"in k?k.onloadend=$:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout($)},k.onabort=function(){k&&(r(new ke("Request aborted",ke.ECONNABORTED,n,k)),k=null)},k.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let H=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||JT;o.timeoutErrorMessage&&(H=o.timeoutErrorMessage),r(new ke(H,ee.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,n,k)),k=null},a===void 0&&u.setContentType(null),"setRequestHeader"in k&&X.forEach(u.toJSON(),function(H,ee){k.setRequestHeader(ee,H)}),X.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),d&&d!=="json"&&(k.responseType=o.responseType),m&&([T,A]=Ch(m,!0),k.addEventListener("progress",T)),f&&k.upload&&([w,C]=Ch(f),k.upload.addEventListener("progress",w),k.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(_=j=>{k&&(r(!j||j.type?new Ia(null,n,k):j),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const F=v4(o.url);if(F&&Qt.protocols.indexOf(F)===-1){r(new ke("Unsupported protocol "+F+":",ke.ERR_BAD_REQUEST,n));return}k.send(a||null)})},P4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,o;const a=function(m){if(!o){o=!0,d();const _=m instanceof Error?m:this.reason;r.abort(_ instanceof ke?_:new Ia(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>X.asap(d),f}},k4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,o;for(;r<t;)o=r+e,yield n.slice(r,o),r=o},x4=async function*(n,e){for await(const t of N4(n))yield*k4(t,e)},N4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},d0=(n,e,t,r)=>{const o=x4(n,e);let a=0,u,d=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:_}=await o.next();if(m){d(),f.close();return}let w=_.byteLength;if(t){let T=a+=w;t(T)}f.enqueue(new Uint8Array(_))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},ad=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r1=ad&&typeof ReadableStream=="function",b4=ad&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),s1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},O4=r1&&s1(()=>{let n=!1;const e=new Request(Qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),f0=64*1024,Hp=r1&&s1(()=>X.isReadableStream(new Response("").body)),Ah={stream:Hp&&(n=>n.body)};ad&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ah[e]&&(Ah[e]=X.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const D4=async n=>{if(n==null)return 0;if(X.isBlob(n))return n.size;if(X.isSpecCompliantForm(n))return(await new Request(Qt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(X.isArrayBufferView(n)||X.isArrayBuffer(n))return n.byteLength;if(X.isURLSearchParams(n)&&(n=n+""),X.isString(n))return(await b4(n)).byteLength},L4=async(n,e)=>{const t=X.toFiniteNumber(n.getContentLength());return t??D4(e)},V4=ad&&(async n=>{let{url:e,method:t,data:r,signal:o,cancelToken:a,timeout:u,onDownloadProgress:d,onUploadProgress:f,responseType:m,headers:_,withCredentials:w="same-origin",fetchOptions:T}=n1(n);m=m?(m+"").toLowerCase():"text";let C=P4([o,a&&a.toAbortSignal()],u),A;const O=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let k;try{if(f&&O4&&t!=="get"&&t!=="head"&&(k=await L4(_,r))!==0){let ee=new Request(e,{method:"POST",body:r,duplex:"half"}),le;if(X.isFormData(r)&&(le=ee.headers.get("content-type"))&&_.setContentType(le),ee.body){const[b,R]=u0(k,Ch(c0(f)));r=d0(ee.body,f0,b,R)}}X.isString(w)||(w=w?"include":"omit");const $="credentials"in Request.prototype;A=new Request(e,{...T,signal:C,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:$?w:void 0});let F=await fetch(A,T);const j=Hp&&(m==="stream"||m==="response");if(Hp&&(d||j&&O)){const ee={};["status","statusText","headers"].forEach(P=>{ee[P]=F[P]});const le=X.toFiniteNumber(F.headers.get("content-length")),[b,R]=d&&u0(le,Ch(c0(d),!0))||[];F=new Response(d0(F.body,f0,b,()=>{R&&R(),O&&O()}),ee)}m=m||"text";let H=await Ah[X.findKey(Ah,m)||"text"](F,n);return!j&&O&&O(),await new Promise((ee,le)=>{e1(ee,le,{data:H,headers:gn.from(F.headers),status:F.status,statusText:F.statusText,config:n,request:A})})}catch($){throw O&&O(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,n,A),{cause:$.cause||$}):ke.from($,$&&$.code,n,A)}}),qp={http:JO,xhr:A4,fetch:V4};X.forEach(qp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const p0=n=>`- ${n}`,M4=n=>X.isFunction(n)||n===null||n===!1,i1={getAdapter:n=>{n=X.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let a=0;a<e;a++){t=n[a];let u;if(r=t,!M4(t)&&(r=qp[(u=String(t)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${u}'`);if(r)break;o[u||"#"+a]=r}if(!r){const a=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(p0).join(`
`):" "+p0(a[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:qp};function op(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ia(null,n)}function m0(n){return op(n),n.headers=gn.from(n.headers),n.data=ip.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),i1.getAdapter(n.adapter||gu.adapter)(n).then(function(r){return op(n),r.data=ip.call(n,n.transformResponse,r),r.headers=gn.from(r.headers),r},function(r){return ZT(r)||(op(n),r&&r.response&&(r.response.data=ip.call(n,n.transformResponse,r.response),r.response.headers=gn.from(r.response.headers))),Promise.reject(r)})}const o1="1.11.0",ld={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ld[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const g0={};ld.transitional=function(e,t,r){function o(a,u){return"[Axios v"+o1+"] Transitional option '"+a+"'"+u+(r?". "+r:"")}return(a,u,d)=>{if(e===!1)throw new ke(o(u," has been removed"+(t?" in "+t:"")),ke.ERR_DEPRECATED);return t&&!g0[u]&&(g0[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};ld.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function U4(n,e,t){if(typeof n!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],u=e[a];if(u){const d=n[a],f=d===void 0||u(d,a,n);if(f!==!0)throw new ke("option "+a+" must be "+f,ke.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ke("Unknown option "+a,ke.ERR_BAD_OPTION)}}const nh={assertOptions:U4,validators:ld},_r=nh.validators;let Bi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new a0,response:new a0}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qi(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&nh.assertOptions(r,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),o!=null&&(X.isFunction(o)?t.paramsSerializer={serialize:o}:nh.assertOptions(o,{encode:_r.function,serialize:_r.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nh.assertOptions(t,{baseUrl:_r.spelling("baseURL"),withXsrfToken:_r.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&X.merge(a.common,a[t.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),t.headers=gn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(t)===!1||(f=f&&O.synchronous,d.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let _,w=0,T;if(!f){const A=[m0.bind(this),void 0];for(A.unshift(...d),A.push(...m),T=A.length,_=Promise.resolve(t);w<T;)_=_.then(A[w++],A[w++]);return _}T=d.length;let C=t;for(w=0;w<T;){const A=d[w++],O=d[w++];try{C=A(C)}catch(k){O.call(this,k);break}}try{_=m0.call(this,C)}catch(A){return Promise.reject(A)}for(w=0,T=m.length;w<T;)_=_.then(m[w++],m[w++]);return _}getUri(e){e=Qi(this.defaults,e);const t=t1(e.baseURL,e.url,e.allowAbsoluteUrls);return XT(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Bi.prototype[e]=function(t,r){return this.request(Qi(r||{},{method:e,url:t,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(r){return function(a,u,d){return this.request(Qi(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Bi.prototype[e]=t(),Bi.prototype[e+"Form"]=t(!0)});let F4=class a1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{r.subscribe(d),a=d}).then(o);return u.cancel=function(){r.unsubscribe(a)},u},e(function(a,u,d){r.reason||(r.reason=new Ia(a,u,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new a1(function(o){e=o}),cancel:e}}};function j4(n){return function(t){return n.apply(null,t)}}function B4(n){return X.isObject(n)&&n.isAxiosError===!0}const Wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wp).forEach(([n,e])=>{Wp[e]=n});function l1(n){const e=new Bi(n),t=UT(Bi.prototype.request,e);return X.extend(t,Bi.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return l1(Qi(n,o))},t}const Ke=l1(gu);Ke.Axios=Bi;Ke.CanceledError=Ia;Ke.CancelToken=F4;Ke.isCancel=ZT;Ke.VERSION=o1;Ke.toFormData=od;Ke.AxiosError=ke;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=j4;Ke.isAxiosError=B4;Ke.mergeConfig=Qi;Ke.AxiosHeaders=gn;Ke.formToJSON=n=>YT(X.isHTMLForm(n)?new FormData(n):n);Ke.getAdapter=i1.getAdapter;Ke.HttpStatusCode=Wp;Ke.default=Ke;const{Axios:iD,AxiosError:oD,CanceledError:aD,isCancel:lD,CancelToken:uD,VERSION:cD,all:hD,Cancel:dD,isAxiosError:fD,spread:pD,toFormData:mD,AxiosHeaders:gD,HttpStatusCode:yD,formToJSON:_D,getAdapter:vD,mergeConfig:wD}=Ke,oi=M.createContext(),z4=({children:n})=>{const[e,t]=M.useState(""),[r,o]=M.useState(""),[a,u]=M.useState(""),[d,f]=M.useState(JSON.parse(localStorage.getItem("main-city"))),[m,_]=M.useState([]),[w,T]=M.useState([]),[C,A]=M.useState(JSON.parse(localStorage.getItem("cart-list")||"[]"));return I.jsx(oi.Provider,{value:{currentLat:e,currentLon:r,setCurrentLat:t,setCurrentLon:o,city:a,setCity:u,mainCity:d,setMainCity:f,favouriteList:m,setFavouriteList:_,searchHistory:w,setSearchHistory:T,cartList:C,setCartList:A},children:n})},$4=()=>{const[n,e]=M.useState(""),[t,r]=M.useState([]),[o,a]=M.useState(!0),[u,d]=M.useState(!1),{currentLat:f,currentLon:m,searchHistory:_,setSearchHistory:w}=M.useContext(oi),T=hs(),C=Pn.currentUser;M.useEffect(()=>{(async()=>{if(C){const ee=Cn(kn,"users",C.uid),le=await Wl(ee);le.exists()&&w(le.data().searchHistory||[])}})()},[C]),M.useEffect(()=>{if(n.trim().length>2){const H=setTimeout(()=>{j()},500);return()=>clearTimeout(H)}n===""?(a(!0),d(!1)):(a(!1),d(!0))},[n]);const A=async H=>{if(H){if(!C){xe.error("Please login to save your search history");return}try{const ee=Cn(kn,"users",C.uid);await fa(ee,{searchHistory:cT(H)},{merge:!0}),w(le=>[H,...le.filter(b=>b.suggestion!==H.suggestion)]),window.alert("added to firebase")}catch(ee){console.error("Error saving search:",ee),xe.error("Could not save search history")}}},O=async H=>{if(C)try{const ee=Cn(kn,"users",C.uid);await Kl(ee,{searchHistory:hT(H)}),w(le=>le.filter(b=>b.suggestion!==H.suggestion))}catch(ee){console.error("Error deleting item:",ee)}},k=async()=>{if(C)try{const H=Cn(kn,"users",C.uid);await Kl(H,{searchHistory:[]}),w([])}catch(H){console.error("Error clearing history:",H)}},$=H=>{F(H.suggestion),a(!1),d(!0)},F=async H=>{try{const ee=`https://corsproxy.io/https://www.swiggy.com/dapi/restaurants/search/suggest?lat=${f}&lng=${m}&str=${H}&trackingId=621aa4df-5300-1ee3-af28-649afd6ac1ce&includeIMItem=true`,R=((await Ke.get(ee))?.data?.data?.suggestions||[]).map(P=>({suggestion:P.text,thumbNailId:P.cloudinaryId,restaurantId:P.restaurantId,restaurantSlug:P.slug,restaurantName:P.restaurantName,restaurantCity:P.city,type:P.type}));r(R)}catch(ee){console.error("API fetch error:",ee),xe.error("Error fetching restaurant data")}},j=async()=>{try{const H=`https://corsproxy.io/https://www.swiggy.com/dapi/restaurants/search/suggest?lat=${f}&lng=${m}&str=${n}&trackingId=621aa4df-5300-1ee3-af28-649afd6ac1ce&includeIMItem=true`,b=((await Ke.get(H))?.data?.data?.suggestions||[]).map(R=>({suggestion:R.text,thumbNailId:R.cloudinaryId,restaurantId:R.restaurantId,type:R.type,tag:R.tagToDisplay,deepLink:R.cta?.link||""}));r(b)}catch(H){console.error("API fetch error:",H),xe.error("Error fetching restaurant data")}};return I.jsxs(I.Fragment,{children:[I.jsx(eg,{}),I.jsxs("div",{className:"hr-container",style:{marginTop:"40px"},children:[I.jsx("hr",{className:"hr1"}),I.jsx("input",{type:"search",value:n,onChange:H=>e(H.target.value),className:"navigation-search-bar",placeholder:"🔍   Search any food, dish or restaurant..."}),I.jsx("hr",{className:"hr2"})]}),I.jsx("div",{className:"main",style:{textAlign:"center"},children:u&&I.jsx("ul",{className:"result-container",children:t.map((H,ee)=>I.jsxs("li",{onClick:()=>{A(H),T(`/restaurant-menu/${H.restaurantId}`)},className:"suggestions-container",style:{cursor:"pointer"},children:[H.thumbNailId&&I.jsx("img",{src:`https://media-assets.swiggy.com/swiggy/image/upload/${H.thumbNailId}`,className:"thumbnail-image",alt:"thumbnail"}),I.jsx("div",{className:"searched-item-info",children:I.jsx("p",{className:"suggested-dish",children:H.suggestion})})]},ee))})}),o&&I.jsx("div",{className:"search-history-main-container",children:_.length>0?I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"delete-all-section",children:[I.jsx("h1",{children:"Recent Searches"}),I.jsx("button",{onClick:k,children:"Delete All"})]}),I.jsx("ul",{className:"ss",children:_.map((H,ee)=>I.jsxs("li",{className:"search-history",children:[I.jsx("p",{onClick:()=>$(H),className:"search",children:H.suggestion}),I.jsx("p",{className:"delete-icon",onClick:()=>O(H),children:"✖"}),I.jsx("hr",{className:"hr"})]},ee))})]}):I.jsx("div",{className:"empty-image-container",children:I.jsx("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-no-saved-videos-img.png",alt:"empty-list",className:"empty-list-image"})})})]})};function H4(n){return ir({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 176c-44.004 0-80.001 36-80.001 80 0 44.004 35.997 80 80.001 80 44.005 0 79.999-35.996 79.999-80 0-44-35.994-80-79.999-80zm190.938 58.667c-9.605-88.531-81.074-160-169.605-169.599V32h-42.666v33.067c-88.531 9.599-160 81.068-169.604 169.599H32v42.667h33.062c9.604 88.531 81.072 160 169.604 169.604V480h42.666v-33.062c88.531-9.604 160-81.073 169.605-169.604H480v-42.667h-33.062zM256 405.333c-82.137 0-149.334-67.198-149.334-149.333 0-82.136 67.197-149.333 149.334-149.333 82.135 0 149.332 67.198 149.332 149.333S338.135 405.333 256 405.333z"},child:[]}]})(n)}const eg=()=>{const[n,e]=M.useState(null),[t,r]=M.useState(!0),[o,a]=M.useState(!1),u=hs(),{setCurrentLon:d,setCurrentLat:f,city:m,setCity:_,mainCity:w,setMainCity:T}=M.useContext(oi);M.useEffect(()=>{const F=Pn.onAuthStateChanged(async j=>{if(j){console.log("User is logged in:",j);try{const H=Cn(kn,"users",j.uid),ee=await Wl(H);ee.exists()?e(ee.data()):xe.error("User data not found.")}catch(H){console.error("Error fetching user details:",H),xe.error("Error fetching user details.")}}else console.log("No user is logged in"),xe.error("No user is logged in"),u("/login")},[m]);return()=>F()},[u]),M.useEffect(()=>{localStorage.setItem("main-city",JSON.stringify(w))},[w]);const C=()=>{Pn.signOut(),u("/login")},A=()=>{r(F=>!F)},O=()=>{a(F=>!F)},k=()=>{a(!1),r(!0)},$=async()=>{const F=`https://api.openweathermap.org/geo/1.0/direct?q=${m}&limit=1&appid=d8ff55d5ebb2aaf1901fb2153e39c50e`;try{const j=await Ke.get(F);j.data.length>0?(f(j.data[0].lat),d(j.data[0].lon),console.log(j.data[0].lat),T(m),localStorage.setItem("main-city",JSON.stringify(w))):console.log("Location not found")}catch(j){console.log(j.message)}};return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"nav-container",children:[I.jsx("div",{className:"logo-container",children:I.jsx("h1",{style:{cursor:"pointer"},onClick:()=>u("/"),children:"Food"})}),I.jsxs("div",{className:"location-section",children:[I.jsx("input",{placeholder:`${w}...`,value:m,className:"navigation-point",onChange:F=>_(F.target.value),onKeyDown:F=>{F.key==="Enter"&&$()},type:"text"}),I.jsx("button",{className:"navigate-button",onClick:$,children:I.jsx(H4,{className:"location-icon"})})]}),I.jsxs("div",{className:"nav-content",children:[I.jsxs("p",{className:"item",onClick:()=>u("/search"),children:[I.jsx(cO,{style:{marginRight:"8px",fontSize:"20px"}}),I.jsx("span",{style:{fontSize:"20px"},children:"Search"})]}),I.jsxs("p",{className:"item",onClick:()=>u("/Cart"),children:[I.jsx(rp,{style:{marginRight:"8px",fontSize:"20px"}}),I.jsx("span",{style:{fontSize:"20px"},children:"Cart"})]}),I.jsxs("p",{className:"item",onClick:()=>u("/favourite"),children:[I.jsx(rp,{style:{marginRight:"8px",fontSize:"20px"}}),I.jsx("span",{style:{fontSize:"20px"},children:"Favourites"})]}),I.jsxs("p",{className:"item",onClick:()=>u("/history"),children:[I.jsx(rp,{style:{marginRight:"8px",fontSize:"20px"}}),I.jsx("span",{style:{fontSize:"20px"},children:"History"})]}),I.jsx("div",{className:"first-name-container item2",onClick:A,children:I.jsxs("p",{className:"item1",style:{fontSize:"20px"},children:[n?n.firstName.split("")[0].toUpperCase():I.jsx(tO,{color:"#e85612",loading:!0,size:25})," "]})})]}),I.jsxs("div",{className:o?"visible-logout-warning-message":"hidden-logout-warning-message",children:[I.jsx("h1",{className:"quit-message",children:"Are you sure to Log Out ?"}),I.jsxs("div",{className:"button-container",children:[I.jsx("button",{onClick:C,className:"yesButton",children:"Yes"}),I.jsx("button",{onClick:k,className:"noButton",children:"No"})]})]})]}),I.jsxs("div",{className:t?"hide-info-container":"show-info-container",children:[I.jsx("button",{className:"logout",onClick:O,style:{marginBottom:"10px"},children:"Log Out"}),I.jsx("button",{className:"logout",onClick:()=>u("./profile"),children:"More Info"})]})]})},q4=()=>{const[n,e]=M.useState([]),[t,r]=M.useState([]),[o,a]=M.useState([]),[u,d]=M.useState([]),[f,m]=M.useState(!1),[_,w]=M.useState(!1),[T,C]=M.useState("high to low"),[A,O]=M.useState(!1),[k,$]=M.useState(null),F=hs(),{currentLat:j,currentLon:H,mainCity:ee,setCurrentLat:le,setCurrentLon:b,favouriteList:R,setFavouriteList:P}=M.useContext(oi);M.useEffect(()=>{const Y=um(Pn,V=>{$(V),V&&L(V.uid)});return()=>Y()},[]),M.useEffect(()=>{U(),z(),m(!1),w(!1),O(!1)},[j,H]);const L=async Y=>{if(!Y)return;const V=Cn(kn,"users",Y),J=await Wl(V);J.exists()?P(J.data().favouriteList||[]):await fa(V,{favouriteList:[]})},U=async()=>{try{const Y=`https://corsproxy.io/https://www.swiggy.com/dapi/restaurants/list/v5?lat=${j}&lng=${H}&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING`,V=await Ke.get(Y),J=V.data?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants?.map(ue=>({name:ue.info.name||"",id:ue.info.id||"",imgUrl:ue.info.cloudinaryImageId||"",rating:parseFloat(ue.info.avgRating)||0,deliveryTime:ue.info.sla?.deliveryTime||0,area:ue.info.areaName||"",veg:ue.info.veg||!1,price:ue.info.costForTwo||"",intPrice:parseInt(ue.info.costForTwo?.split("₹")[1]?.split(" ")[0]||0)/2,locality:ue.info.locality||""}))||[],pe=V.data.data.cards[0].card.card.imageGridCards.info.map(ue=>({dishName:ue.action.text||"",dishId:ue.id||"",imgId:ue.imageId||"",collectionId:ue.action.link?.split("collection_id=")[1]?.split("&")[0]})),ve=V.data.data.cards[7].card.card.brands.map(ue=>({text:ue.text||""}));e(J),r(J),a(pe),d(ve)}catch(Y){console.error("Error fetching restaurants:",Y)}},z=async()=>{if(ee)try{const Y=`https://api.openweathermap.org/geo/1.0/direct?q=${ee}&limit=1&appid=d8ff55d5ebb2aaf1901fb2153e39c50e`,V=await Ke.get(Y);if(V.data.length>0){const J=V.data[0].lat,pe=V.data[0].lon;le(J),b(pe)}}catch(Y){console.error(Y.message)}},N=async Y=>{if(!k){xe.error("Please login to save favourites");return}const V=Cn(kn,"users",k.uid);try{const J=await Wl(V);(J.exists()?J.data().favouriteList||[]:[]).some(ue=>ue.id===Y.id)?(await Kl(V,{favouriteList:hT(Y)}),P(ue=>ue.filter(Pe=>Pe.id!==Y.id)),xe.info(`${Y.name} removed from favourites`)):(await Kl(V,{favouriteList:cT(Y)}),P(ue=>[Y,...ue]),xe.success(`${Y.name} added to favourites`))}catch(J){console.error("Error updating favourites:",J),xe.error("Failed to update favourites")}},Je=Y=>{xe.info(`${Y.target.innerText} Under Construction...`)},tt=({topRating:Y=A,pureVegMode:V=f,fastestDeliveryModeOn:J=_,lowToHigh:pe=T})=>{let ve=[...t];V&&(ve=ve.filter(ue=>ue.veg)),Y&&(ve=ve.filter(ue=>ue.rating>=4)),J&&(ve=ve.sort((ue,Pe)=>ue.deliveryTime-Pe.deliveryTime)),pe==="low to high"?ve=ve.sort((ue,Pe)=>ue.intPrice-Pe.intPrice):ve=ve.sort((ue,Pe)=>Pe.intPrice-ue.intPrice),e(ve)},dt=()=>{O(Y=>!Y),tt({topRating:!A})},Ve=()=>{m(Y=>!Y),tt({pureVegMode:!f})},oe=()=>{w(Y=>!Y),tt({fastestDeliveryModeOn:!_})},_e=Y=>{const V=Y.target.value;C(V),tt({lowToHigh:V})};return I.jsx("div",{className:"place-restaurant-container",children:n.length===0?I.jsx("div",{className:"animtion-container",children:[...Array(12)].map((Y,V)=>I.jsx("div",{className:"a"},V))}):I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"head-container",children:[I.jsxs("h1",{style:{marginBottom:"20px"},className:"restra-heading",children:["Top dishes in ",I.jsx("span",{className:"city-name",children:ee})]}),I.jsx("div",{className:"filters-container",children:I.jsxs("ul",{className:"filters-inner-container",children:[I.jsx("li",{className:f?"active-filters":"filters",onClick:Ve,children:"Pure Veg"}),I.jsx("li",{className:_?"active-filters":"filters",onClick:oe,children:"Fastest Delivery"}),I.jsx("li",{className:A?"active-filters":"filters",onClick:dt,children:"Rating 4.0+"}),I.jsxs("select",{value:T,onChange:_e,className:"filters",children:[I.jsx("option",{value:"high to low",children:"High to low"}),I.jsx("option",{value:"low to high",children:"Low to high"})]})]})})]}),I.jsx("div",{className:"dishes-main-container",children:I.jsx("ul",{className:"dishes-min-container",children:o.map(Y=>I.jsx("li",{onClick:()=>F(`/dish/${Y.collectionId}`),style:{cursor:"pointer"},children:I.jsx("img",{src:`https://media-assets.swiggy.com/swiggy/image/upload/${Y.imgId}`,alt:"dish-image",className:"dish-image"})},Y.dishId))})}),I.jsxs("div",{className:"hr-container",children:[I.jsx("hr",{className:"hr1"}),I.jsxs("div",{className:"hr-span",children:[I.jsx(hO,{style:{color:"#cb135d",marginRight:"10px"}}),I.jsx("span",{children:"Restaurants"})]}),I.jsx("hr",{className:"hr2"})]}),I.jsx("div",{children:I.jsxs("h1",{className:"restra-heading",children:["Top restaurant chains in"," ",I.jsx("span",{className:"city-name",children:ee})]})}),I.jsx("ul",{className:"main-container",children:n.map(Y=>I.jsxs("li",{onClick:()=>F(`/restaurant-menu/${Y.id}`),className:"restaurant-card",children:[I.jsx("div",{style:{overflow:"hidden"},children:I.jsx("img",{src:`https://media-assets.swiggy.com/swiggy/image/upload/${Y.imgUrl}`,alt:Y.name,className:"thumbnail"})}),I.jsx("div",{className:R.some(V=>V.id===Y.id)?"favourite-card-added":"favourite-card",onClick:()=>N(Y),children:I.jsx(uO,{className:"heart"})}),I.jsxs("div",{className:"restaurant-info",children:[I.jsxs("div",{className:"res-flex1",children:[I.jsx("p",{className:"restraurant-name",children:Y.name.split(" ").slice(0,2).join(" ")}),I.jsx("div",{className:"rating-container",children:I.jsxs("p",{className:"rating",style:{color:"#97ff90ff"},children:[I.jsx(nd,{style:{marginRight:"5px",color:"#11ff00ff"}}),Y.rating]})})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",style:{marginTop:"25px"},children:[Y.locality.split(" ").slice(0,2).join(" "),"..."]}),I.jsx("p",{className:"i",style:{marginTop:"25px"},children:Y.price})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",children:[Y.area,"..."]}),I.jsxs("p",{className:"i",children:[I.jsx(Qm,{})," ",Y.deliveryTime," min"]})]})]})]},Y.id))}),I.jsxs("div",{className:"hr-container",children:[I.jsx("hr",{className:"hr1"}),I.jsxs("div",{className:"hr-span",children:[I.jsx(Xm,{style:{color:"#cb135d",marginRight:"10px"}}),I.jsx("span",{children:"Best Cuisines Near Me"})]}),I.jsx("hr",{className:"hr2"})]}),I.jsx("ul",{className:"cuisines-container",children:u.map((Y,V)=>I.jsx("li",{className:"cuisines-card",onClick:Je,children:I.jsx("p",{children:Y.text})},V))})]})})},W4=()=>{const{mainCity:n}=M.useContext(oi);return I.jsx(I.Fragment,{children:I.jsxs("div",{className:"bg-container",children:[I.jsx("div",{children:I.jsx("img",{src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto/portal/testing/seo-home/Veggies_new.png",alt:"img1",className:"home-image"})}),I.jsx("div",{className:"content-part",children:I.jsxs("h1",{className:"tagline",children:["Order food. Discover best restaurants in"," ",I.jsxs("span",{style:{color:"black"},children:[n,"."]}),I.jsx("br",{})," Swiggy it!"]})}),I.jsx("div",{children:I.jsx("img",{src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto/portal/testing/seo-home/Sushi_replace.png",alt:"img2",className:"home-image2"})})]})})},K4=()=>I.jsx(I.Fragment,{children:I.jsxs("div",{className:"home-container",children:[I.jsxs("div",{className:"min-bg",children:[I.jsx(eg,{}),I.jsx(W4,{})]}),I.jsx(q4,{})]})});function G4(n){return ir({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"},child:[]}]})(n)}function u1(n){return ir({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(n)}function c1(n){return ir({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}const Q4=()=>{const{cartList:n,setCartList:e}=M.useContext(oi),[t,r]=M.useState(0),[o,a]=M.useState(!1),[u,d]=M.useState([]);M.useEffect(()=>{f()},[]);const f=()=>{const C=n.map(O=>[...u,O.exactPrice*O.q]),A=C.reduce((O,k)=>parseInt(O)+parseInt(k));r(A),d(C)},m=()=>{a(!o)},_=C=>{if(!n.find(O=>O.id===C.id)){C.q=1;const O=[...n,C];e(O),localStorage.setItem("cart-list",JSON.stringify(O))}},w=C=>{const A=n.map(O=>O.id===C.id?{...O,q:O.q+1}:O);e(A),localStorage.setItem("cart-list",JSON.stringify(A)),f()},T=C=>{let A=n.map(O=>O.id===C.id?{...O,q:O.q-1}:O);A=A.filter(O=>O.q>0),e(A),localStorage.setItem("cart-list",JSON.stringify(A))};return I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"cart-container",children:I.jsx("div",{className:"cart-main-container",children:I.jsx("ul",{className:"food-menu-container",children:n.map(C=>I.jsxs("li",{className:"indivisual-food",children:[I.jsxs("div",{className:"food-info",children:[I.jsx("p",{className:"",children:C.veg}),I.jsx("h3",{className:"food-name",children:C.name}),I.jsxs("h4",{style:{color:"green"},children:["₹",C.exactPrice*C.q]})]}),I.jsxs("div",{className:"food-image-container",children:[I.jsx("img",{className:"food-image",src:`https://media-assets.swiggy.com/swiggy/image/upload/${C.imageId}`,alt:"img"}),I.jsx("button",{className:"add-button",onClick:()=>_(C),children:n.some(A=>A.id===C.id)&&n.find(A=>A.id===C.id)?.q>=1?I.jsxs("span",{className:"quantity-container",children:[I.jsx(c1,{onClick:A=>{A.stopPropagation(),T(C)},style:{marginRight:"10px",cursor:"pointer"}}),n.find(A=>A.id===C.id)?.q,I.jsx(u1,{onClick:A=>{A.stopPropagation(),w(C)},style:{marginLeft:"10px",cursor:"pointer"}})]}):"ADD"})]})]},C.id))})})}),I.jsxs("div",{className:o?"show-total-bill-container":"hide-total-bill-container",children:[I.jsxs("div",{className:"total-bill-details",children:[I.jsx("div",{className:"item-name",children:n.map((C,A)=>I.jsx("p",{children:C.name},A))}),I.jsx("div",{children:n.map((C,A)=>I.jsx("p",{children:C.q},A))}),I.jsx("div",{children:u.map((C,A)=>I.jsxs("p",{children:["₹",C]},A))})]}),I.jsx("hr",{}),I.jsxs("div",{className:"final-total-amount",children:[I.jsx("h4",{style:{color:"#b31436"},children:"Total Amount"}),I.jsxs("h4",{style:{color:"#0da308"},children:["₹",t]})]}),I.jsx("hr",{}),I.jsx("div",{children:I.jsx("button",{className:"payment-button",children:"Payment"})})]}),I.jsx("div",{className:"payment-button-container",children:I.jsx("button",{className:"total-bill",onClick:m,children:"Total Bill"})})]})},X4=()=>{const[n,e]=M.useState(null),[t,r]=M.useState(null),[o,a]=M.useState(null);M.useEffect(()=>{const m=um(Pn,async _=>{_&&await u(_.uid)});return()=>m()},[]);const u=async m=>{const _=Cn(kn,"users",m),w=await Wl(_);w.exists()?e(w.data()):(await fa(_,{email:Pn.currentUser.email},{merge:!0}),e({email:Pn.currentUser.email}))},d=m=>{const _=m.target.files[0];r(_),_&&a(URL.createObjectURL(_))},f=async m=>{if(m.preventDefault(),!t)return alert("Please select an image!");const _=Pn.currentUser;if(!_)return alert("User not logged in!");try{const w=ab(fb,`profileImages/${_.uid}`);await ib(w,t);const T=await ob(w);await fa(Cn(kn,"users",_.uid),{profileImage:T},{merge:!0}),alert("Profile image uploaded!"),console.log(T),e(C=>({...C,profileImage:T})),a(null)}catch(w){console.error("Error uploading image:",w),alert("Upload failed!")}};return I.jsxs("div",{style:{textAlign:"center"},children:[I.jsx("h2",{children:"Profile Info"}),n&&I.jsxs("div",{children:[n.firstName&&I.jsxs("p",{children:[I.jsx("b",{children:"First Name:"})," ",n.firstName]}),n.lastName&&I.jsxs("p",{children:[I.jsx("b",{children:"Last Name:"})," ",n.lastName]}),I.jsxs("p",{children:[I.jsx("b",{children:"Email:"})," ",n.email]}),n.phoneNumber&&I.jsxs("p",{children:[I.jsx("b",{children:"Phone.no:"})," ",n.phoneNumber]}),n.profileImage&&I.jsx("img",{src:n.profileImage,alt:"profile",style:{width:"150px",borderRadius:"50%",marginTop:"10px"}})]}),I.jsx("input",{type:"file",accept:"image/*",onChange:d}),o&&I.jsxs("div",{children:[I.jsx("h3",{children:"Preview:"}),I.jsx("img",{src:o,alt:"preview",style:{width:"150px",borderRadius:"50%",marginTop:"10px"}})]}),I.jsx("button",{onClick:f,style:{marginTop:"15px"},children:"Upload"})]})},J4=()=>{const[n,e]=M.useState([]),{favouriteList:t}=M.useContext(oi),r=Pn.currentUser,o=hs();if(M.useEffect(()=>{const u=Pn.onAuthStateChanged(d=>{if(d){const f=Cn(kn,"users",d.uid),m=aT(f,_=>{_.exists()?e(_.data().favouriteList||[]):(fa(f,{favouriteList:[]}),e([]))});return()=>m()}else e([])});return()=>u()},[]),n.length===0)return I.jsx("p",{style:{textAlign:"center",margin:"20px 0"},children:"No favourites yet. Add some!"});const a=async()=>{if(r)try{const u=Cn(kn,"users",r.uid);await Kl(u,{favouriteList:[]}),e([])}catch(u){console.error("Error clearing history:",u)}};return I.jsxs("div",{style:{padding:"20px",fontFamily:"poppins"},children:[I.jsx("h2",{style:{textAlign:"center"},children:"Your Favourites ❤️"}),I.jsx("button",{onClick:a,children:"Delete all"}),I.jsx("ul",{className:"main-container",children:n.map(u=>I.jsxs("li",{onClick:()=>o(`/restaurant-menu/${u.id}`),className:"restaurant-card",children:[I.jsx("div",{style:{overflow:"hidden"},children:I.jsx("img",{src:`https://media-assets.swiggy.com/swiggy/image/upload/${u.imgUrl}`,alt:u.name,className:"thumbnail"})}),I.jsxs("div",{className:"restaurant-info",children:[I.jsxs("div",{className:"res-flex1",children:[I.jsx("p",{className:"restraurant-name",children:u.name.split(" ").slice(0,2).join(" ")}),I.jsx("div",{className:"rating-container",children:I.jsxs("p",{className:"rating",style:{color:"#97ff90ff"},children:[I.jsx(nd,{style:{marginRight:"5px",color:"#11ff00ff"}}),u.rating]})})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",style:{marginTop:"25px"},children:[u.locality.split(" ").slice(0,2).join(" "),"..."]}),I.jsx("p",{className:"i",style:{marginTop:"25px"},children:u.price})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",children:[u.area,"..."]}),I.jsxs("p",{className:"i",children:[I.jsx(Qm,{})," ",u.deliveryTime," min"]})]})]})]},u.id))})]})},Y4=()=>{const[n,e]=M.useState([]);return M.useEffect(()=>{let t;const r=um(Pn,o=>{if(o){const a=Cn(kn,"users",o.uid);t=aT(a,u=>{u.exists()&&e(u.data().searchHistory||[])})}else e([])});return()=>{r(),t&&t()}},[]),I.jsxs("div",{children:[I.jsx("h1",{children:"Your History"}),I.jsx("ul",{children:n.map((t,r)=>I.jsx("li",{children:t.suggestion},t.thumbNailId||r))})]})},Z4=()=>{const{restaurantId:n}=A0(),[e,t]=M.useState(""),[r,o]=M.useState([]),[a,u]=M.useState({}),[d,f]=M.useState([]),[m,_]=M.useState([]),w=hs(),{cartList:T,setCartList:C}=M.useContext(oi);M.useEffect(()=>{A()},[n]);const A=async()=>{const F=`https://corsproxy.io/https://www.swiggy.com/mapi/menu/pl?page-type=REGULAR_MENU&complete-menu=true&lat=20.9792905&lng=75.636406&restaurantId=${n}&submitAction=ENTER`;try{const j=await Ke.get(F),b=((j?.data?.data?.cards||[]).find(z=>z.groupedCard?.cardGroupMap?.REGULAR)?.groupedCard?.cardGroupMap?.REGULAR?.cards?.flatMap(z=>z.card?.card?.itemCards||[])||[]).map(z=>{const N=z?.card?.info;return{name:N?.name||"No Name",id:z?.card?.info?.id,q:0,category:N?.category||"N/A",description:N?.description||"No Description",imageId:N?.imageId||"",price:N?.price||N?.defaultPrice||0,exactPrice:((N?.price||N?.defaultPrice||0)/100).toFixed(2),veg:N?.veg!==void 0?N.veg:N?.itemAttribute?.vegClassifier||"UNKNOWN"}}),R=j.data.data.cards[2].card.card.info,P={name:R.name,id:R.id,city:R.city,cloudinaryImageId:R.cloudinaryImageId,locality:R.locality,areaName:R.areaName,costForTwoMessage:R.costForTwoMessage,avgRating:R.avgRating},U=j.data.data.cards[3].card.card.gridElements.infoWithStyle.offers.map(z=>({offer:z.info.header,offerTag:z.info.offerTag}));_(b),f(U),u(P),o(b)}catch(j){console.error("Error fetching menu:",j)}};M.useEffect(()=>{if(e.trim()==="")o(m);else{const F=m.filter(j=>j.name.toLowerCase().includes(e.toLowerCase()));o(F)}},[e,m]);const O=F=>{if(F.q=1,!T.find(H=>H.id===F.id)){const H=[...T,F];C(H),localStorage.setItem("cart-list",JSON.stringify(H))}},k=F=>{const j=T.map(H=>H.id===F.id?{...H,q:H.q+1}:H);C(j),localStorage.setItem("cart-list",JSON.stringify(j))},$=F=>{let j=T.map(H=>H.id===F.id?{...H,q:H.q-1}:H);j=j.filter(H=>H.q>0),C(j),localStorage.setItem("cart-list",JSON.stringify(j))};return I.jsxs(I.Fragment,{children:[I.jsx("hr",{style:{margin:"0px"}}),I.jsxs("div",{className:"restrau-info-deals-container",children:[I.jsxs("div",{className:"restrau-info-container",children:[I.jsx("div",{className:"heading-container",children:I.jsx("h2",{children:a.name})}),I.jsx("hr",{className:"hr-menu"}),I.jsxs("li",{className:"min-info",children:[I.jsxs("p",{children:[I.jsx(nd,{style:{marginRight:"10px",color:"green"}}),a.avgRating]}),I.jsx("p",{className:"b",children:a.costForTwoMessage})]}),I.jsxs("li",{className:"min-info",children:[I.jsx("p",{className:"c",children:a.locality}),I.jsx("h3",{className:"d",style:{color:"red"},children:a.city})]})]}),I.jsxs("div",{className:"restrau-deals-container",children:[I.jsx("h2",{children:"Deals for you..."}),I.jsx("ul",{className:"deals-list",children:I.jsx("div",{className:"deals-container",children:d.map((F,j)=>I.jsx("li",{className:"deals",children:I.jsx("p",{children:F.offer})},j))})})]})]}),I.jsxs("div",{className:"hr-container",children:[I.jsx("hr",{className:"hr1"}),I.jsxs("div",{className:"hr-span",style:{margin:"20px 30px"},children:[I.jsx(Xm,{style:{color:"#cb135d",marginRight:"10px"}}),I.jsx("span",{children:" Full Menu"})]}),I.jsx("hr",{className:"hr2"})]}),I.jsxs("div",{className:"hr-container",style:{marginTop:"40px"},children:[I.jsx("hr",{className:"hr1"}),I.jsx("input",{type:"search",value:e,onChange:F=>t(F.target.value),className:"navigation-search-bar",placeholder:"🔍   Search any food, dish or restaurant..."}),I.jsx("hr",{className:"hr2"})]}),I.jsxs("ul",{className:"food-menu-container",children:[r.map(F=>I.jsxs("li",{className:"indivisual-food",children:[I.jsxs("div",{className:"food-info",children:[I.jsx("p",{children:F.veg}),I.jsx("h3",{className:"food-name",children:F.name}),I.jsxs("h4",{style:{color:"green"},children:["₹",F.exactPrice]})]}),I.jsxs("div",{className:"food-image-container",children:[I.jsx("img",{className:"food-image",src:`https://media-assets.swiggy.com/swiggy/image/upload/${F.imageId}`,alt:"img"}),I.jsx("button",{className:"add-button",onClick:()=>O(F),children:T.some(j=>j.id===F.id)&&T.find(j=>j.id===F.id)?.q>=1?I.jsxs("span",{className:"quantity-container",children:[I.jsx(c1,{onClick:j=>{j.stopPropagation(),$(F)},style:{marginRight:"10px",cursor:"pointer"}}),T.find(j=>j.id===F.id)?.q,I.jsx(u1,{onClick:j=>{j.stopPropagation(),k(F)},style:{marginLeft:"10px",cursor:"pointer"}})]}):"ADD"})]})]},F.id)),I.jsxs("div",{className:T.length>0?"show-cart-button":"hide-cart-button",onClick:()=>w("/cart"),children:[I.jsx(G4,{className:"cart-icon"})," ",I.jsx("span",{className:"cart-length",children:T.length})]})]})]})},eD=()=>{const[n,e]=M.useState([]),[t,r]=M.useState({}),{collectionId:o}=A0(),a=hs();M.useEffect(()=>{u()},[o]);const u=async()=>{const d=`https://corsproxy.io/https://www.swiggy.com/dapi/restaurants/list/v5?lat=26.4148245&lng=80.23213129999999&collection=${o}&tags=layout_CCS_Idli&sortBy=&filters=&type=rcv2&offset=0&carousel=true&third_party_vendor=1`;try{const f=await Ke.get(d),_=(f?.data?.data?.cards||f?.data?.cards||[]).map(T=>{const C=T?.card?.card?.info;return C?{id:C.id,name:C.name,imgUrl:C.cloudinaryImageId,rating:C.avgRating,locality:C.locality,area:C.areaName,deliveryTime:C.sla.slaString,price:C.costForTwo}:null}).filter(Boolean),w=f?.data?.data?.cards[0]?.card?.card;r({title:w?.title||"No Title",description:w?.description||"No Description",collectionId:w?.collectionId||"N/A",imageId:w?.imageId||""}),e(_)}catch(f){console.error("Error fetching restaurants:",f)}};return I.jsxs(I.Fragment,{children:[I.jsx(eg,{}),I.jsx("hr",{style:{margin:"0px"}}),I.jsxs("div",{children:[I.jsxs("div",{className:"dish-info",children:[I.jsx("h1",{children:t.title}),I.jsx("p",{children:t.description})]}),I.jsxs("div",{className:"hr-container",children:[I.jsx("hr",{className:"hr1"}),I.jsxs("div",{className:"hr-span",children:[I.jsx(Xm,{style:{color:"#cb135d",marginRight:"10px"}}),I.jsxs("span",{children:[" ",t.title," Restaurants"]})]}),I.jsx("hr",{className:"hr2"})]}),I.jsx("ul",{className:"main-container",children:n.map(d=>I.jsxs("li",{onClick:()=>a(`/restaurant-menu/${d.id}`),className:"restaurant-card",children:[I.jsx("div",{style:{overflow:"hidden"},children:I.jsx("img",{src:`https://media-assets.swiggy.com/swiggy/image/upload/${d.imgUrl}`,alt:d.name,className:"thumbnail"})}),I.jsxs("div",{className:"restaurant-info",children:[I.jsxs("div",{className:"res-flex1",children:[I.jsx("p",{className:"restraurant-name",children:d.name.split(" ").slice(0,2).join(" ")}),I.jsx("div",{className:"rating-container",children:I.jsxs("p",{className:"rating",style:{color:"#97ff90ff"},children:[I.jsx(nd,{style:{marginRight:"5px",color:"#11ff00ff"}}),d.rating]})})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",style:{marginTop:"25px"},children:[d.locality.split(" ").slice(0,2).join(" "),"..."]}),I.jsx("p",{className:"i",style:{marginTop:"25px"},children:d.price})]}),I.jsxs("div",{className:"res-flex",children:[I.jsxs("p",{className:"i",children:[d.area,"..."]}),I.jsxs("p",{className:"i",children:[I.jsx(Qm,{})," ",d.deliveryTime]})]})]})]},d.id))})]})]})},tD=()=>I.jsx(LS,{children:I.jsxs(dS,{children:[I.jsx(jn,{path:"/",element:I.jsx(K4,{})}),I.jsx(jn,{path:"/login",element:I.jsx(Xb,{})}),I.jsx(jn,{path:"/register",element:I.jsx(Qb,{})}),I.jsx(jn,{path:"/forgot-password",element:I.jsx("h2",{children:"Forgot Password Page"})}),I.jsx(jn,{path:"/Cart",element:I.jsx(Q4,{})}),I.jsx(jn,{path:"/search",element:I.jsx($4,{})}),I.jsx(jn,{path:"/profile",element:I.jsx(X4,{})}),I.jsx(jn,{path:"/favourite",element:I.jsx(J4,{})}),I.jsx(jn,{path:"/history",element:I.jsx(Y4,{})}),I.jsx(jn,{path:"/restaurant-menu/:restaurantId",element:I.jsx(Z4,{})}),I.jsx(jn,{path:"/dish/:collectionId",element:I.jsx(eD,{})})]})});TI.createRoot(document.getElementById("root")).render(I.jsxs(z4,{children:[I.jsx(Gb,{position:"top-right"}),I.jsx(tD,{})]}));
